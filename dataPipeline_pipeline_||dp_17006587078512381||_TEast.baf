{"logType":"","components":[{"containerImageVersion":"w8.5.2","componentDesc":"","gracePeriod":"60","componentId":"comp_16449201586344539","displayName":"tvo2_backfill_input","UiId":"73f8-cf2a-473a-bf30-0d0b","containerImageName":"580240783317.dkr.ecr.us-west-2.amazonaws.com/dslab_model_runner","onFailure":"","isScheduled":false,"inEvent":"TVO2_backfill_event_1_1700473690169_4980","action":"stop","gUid":"1700473896753_3666","componentInstanceId":"comp1700477948777_inst_6559","invocationMethodType":"batch","componentMetaData":{"dsLabScriptId":"5308500","dsLabFunctionName":"start_func","dsLabProjectId":"4751365","dsLabExternalLibrary":"psycopg2==2.9.3,boto3==1.21.5,psycopg2==2.9.3","dsLabExecutionType":"dsLabScriptRunner","dsLabFunInputType":"List","dsLabScript":"from datetime import datetime, timedelta\nimport json\nimport logging\nlogging.basicConfig()\nlogger = logging.getLogger('TVO_INPUT')\nlogger.setLevel(logging.INFO)\n\nimport boto3\nimport pandas as pd\nimport psycopg2\nfrom io import BytesIO\nimport base64\n\ndef get_redshift_secret():\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME\n    # connects to AWS secrets manager to get credentials\n    session = boto3.session.Session()\n    \n    client = session.client(\n        service_name='secretsmanager', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\n\n    try:\n        get_secret_value_response = client.get_secret_value(SecretId=SECRET_NAME)\n    except Exception as e:\n        logger.error(\"ERROR in getting redshift secrets\")\n        raise\n    else:\n        if 'SecretString' in get_secret_value_response:\n            secret = get_secret_value_response['SecretString']\n        else:\n            decoded_binary_secret = base64.b64decode(\n                get_secret_value_response['SecretBinary'])\n    return json.loads(secret)\n\ndef get_redshift_connection():\n    # creates data base connection and passes it back to caller\n    try:\n        secrets = get_redshift_secret()\n        conn = psycopg2.connect(dbname=secrets['DATABASE'],\n                                host=secrets['HOST'],\n                                port=secrets['PORT'],\n                                user=secrets['USER'],\n                                password=secrets['PASSWORD'])\n        return conn\n\n    except Exception as e:\n        logger.error(f'Error getting redshift connection details: Exception: {str(e)}')\n        raise\n        \ndef run_redshift_query(redshift_query):\n    conn = get_redshift_connection()\n    df = pd.read_sql_query(redshift_query, con=conn)\n    return df\n\ndef run_athena_query(query):\n    global REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\n    \n    ATHENA_CLIENT = boto3.client('athena', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\n    S3 = boto3.client('s3', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\n    logger.info(f'Starting Athena query execution')\n    logger.info(f'Athena query:\\n{query}')\n    response = ATHENA_CLIENT.start_query_execution(\n        QueryString=query,\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\n        WorkGroup='juice_data'\n    )\n    \n    # Get the query execution ID\n    query_execution_id = response['QueryExecutionId']\n\n    # Wait for the query to complete\n    while True:\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\n        status = query_status['QueryExecution']['Status']['State']\n\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\n            break\n\n    # Retrieve and return the query results if the query succeeded\n    if status == 'SUCCEEDED':\n        s3_response_object = S3.get_object(Bucket=QUERY_BUCKET, Key=f\"{ATHENA_STATUS_OUTPUT_LOCATION.split('/')[-2]}/{query_execution_id}.csv\")\n        object_content = s3_response_object['Body'].read()\n        results = pd.read_csv(BytesIO(object_content))\n        logger.info(f'Athena query ran successfully')\n        return results\n    elif status == 'FAILED':\n        raise Exception('Query from Athena failed')\n\ndef client_modification(row):\n    if row.lower().strip() == 'bbb':\n        return 'overstock'\n    elif row.lower() == 'rexmd' or row.lower() == 'singlecare':\n        return 'rxsense'\n    else:\n        return row.lower()\n        \ndef prepare_data(data, lookback_days, opt_penalty_station,\n                   opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch):\n    global ATHENA_DATABASE, ATHENA_TABLE\n    \n    input_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\n       'branch', 'start_date', 'end_date', 'clientkey'])\n    \n    redshift_query = \"\"\"\n        select distinct c.clientkey_map, k.tvo_kpi_index, c.tvo_pre_window_minutes, c.tvo_post_window_minutes, c.tvo_include_freespots, c.tvo_include_impressions, c.dataset_start_date, c.dataset_end_date\n        from portal_global_settings.client_mappings c, portal_global_settings.kpi_mappings k\n        where c.clientkey_map = k.clientkey_map\n        order by clientkey_map, tvo_kpi_index\n        \"\"\"\n    \n    for end_date_string in data[\"end_dates\"]:\n        \n        # Getting redshift results\n        start_date = \"default\"\n        end_dt = datetime(year=int(end_date_string.split(\"-\")[0]), month=int(end_date_string.split(\"-\")[1]), day=int(end_date_string.split(\"-\")[2]), hour=0)\n        prev_day = end_dt - timedelta(1)\n        end_date = f'{prev_day.year}-{str(\"{:02d}\".format(prev_day.month))}-{str(\"{:02d}\".format(prev_day.day))}'\n        redshift_df = run_redshift_query(redshift_query)\n        redshift_df = redshift_df.drop(columns=['dataset_start_date','dataset_end_date'])\n        redshift_df[['opt_penalty_station', 'opt_penalty_daypart', 'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds', 'branch', 'start_date', 'end_date']] = pd.DataFrame([[opt_penalty_station, opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch, start_date, end_date]], index=redshift_df.index)\n        redshift_df = redshift_df.rename(columns = {'clientkey_map':'clientkey',\n                                                 'tvo_kpi_index':'kpi_index',\n                                                'tvo_pre_window_minutes':'lookbefore_mins',\n                                                'tvo_post_window_minutes':'lookafter_mins',\n                                                'tvo_include_freespots':'include_freespots',\n                                                'tvo_include_impressions':'include_impressions'\n                                                })\n\n        \n        # Querying athena to get list of clients active in the past week\n        dt = (datetime.strptime(end_date_string, '%Y-%m-%d'))\n        end_check_date = dt.strftime(\"%Y-%m-%d\")\n        dt_7 = dt - timedelta(days=lookback_days)\n        start_check_date = dt_7.strftime(\"%Y-%m-%d\")\n\n        athena_query = f\"\"\"\n        select advertiser, count(*) as row_count from \n        (select distinct * from {ATHENA_DATABASE}.{ATHENA_TABLE})\n        where cast(broadcast_date as date) between cast('{str(start_check_date)}' as date) and cast('{str(end_check_date)}' as date)\n        group by advertiser\n        \"\"\"\n        athena_df = run_athena_query(athena_query)\n        active_client_list = athena_df[athena_df['row_count']>0]['advertiser'].to_list()\n        active_client_list = [i.lower().strip() for i in active_client_list]\n        active_list_df = pd.DataFrame({'client_orig':active_client_list})\n        active_list_df['client_mod'] = active_list_df['client_orig'].apply(client_modification)\n        \n        # Merging client list with configurations from redshift\n        final_df = redshift_df.set_index('clientkey').merge(active_list_df.set_index('client_mod'), left_on='clientkey', right_on='client_mod')\n        final_df = final_df.rename(columns={'client_orig':'clientkey'})\n        final_df = final_df.dropna()\n        input_df = pd.concat([input_df,final_df])\n    input_df = input_df.sort_values(['end_date','clientkey','kpi_index'])\n    return input_df\n\ndef start_func(data, secret_name, region_name, athena_database, aws_access_key_id,\n                aws_secret_access_key, athena_status_output_location, query_bucket,\n                  athena_table, branch, lookback_days=7, opt_penalty_station=1,\n                   opt_penalty_daypart=1, opt_penalty_bucket=1, opt_penalty_variance=1, opt_max_seconds=60):\n     \n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME, conn, cursor, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\n    AWS_ACCESS_KEY_ID = aws_access_key_id\n    AWS_SECRET_ACCESS_KEY = aws_secret_access_key\n    REGION_NAME = region_name\n    SECRET_NAME = secret_name\n    ATHENA_DATABASE = athena_database\n    ATHENA_TABLE = athena_table\n    ATHENA_STATUS_OUTPUT_LOCATION = athena_status_output_location\n    QUERY_BUCKET = query_bucket\n    \n    result_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\n       'branch', 'start_date', 'end_date', 'clientkey'])\n    \n    results = prepare_data(data[0], int(lookback_days), int(opt_penalty_station),\n               int(opt_penalty_daypart), int(opt_penalty_bucket), int(opt_penalty_variance), int(opt_max_seconds), branch)\n        \n    return results","dsLabInputData":"[{\"key\":\"secret_name\",\"value\":\"@ENV.REDSHIFT_MTA_SECRET_NAME\"},{\"key\":\"region_name\",\"value\":\"@ENV.REGION_NAME\"},{\"key\":\"athena_database\",\"value\":\"@ENV.ATHENA_DATABASE\"},{\"key\":\"aws_access_key_id\",\"value\":\"@ENV.AWS_ACCESS_KEY_ID_BDB\"},{\"key\":\"aws_secret_access_key\",\"value\":\"@ENV.AWS_SECRET_KEY_BDB\"},{\"key\":\"athena_status_output_location\",\"value\":\"@ENV.QUERY_RESULTS\"},{\"key\":\"query_bucket\",\"value\":\"@ENV.PROD_BUCKET\"},{\"key\":\"athena_table\",\"value\":\"media_ocean_data\"},{\"key\":\"branch\",\"value\":\"master\"}]"},"alertAction":"","isDeploy":true,"isDynamicAllocationEnabled":false,"batchWindow":"","cronExpression":"","deploymentType":"docker","preConditionCheck":"None","imagePullSecretRefs":[],"outEvent":["TVO2_backfill_event_2_1700473917659_1717"],"onSuccess":""},{"containerImageVersion":"w8.5.2","invocationMethodType":"realtime","componentDesc":"","componentMetaData":{"dsLabScriptId":"5308499","dsLabFunctionName":"tvo_driver","dsLabProjectId":"4751365","dsLabExternalLibrary":"skranger==0.8.0,boto3==1.21.5,holidays==0.13,impyute==0.0.8,kendall_w==1.0.0,psycopg2==2.9.3,PuLP==2.6.0,scikit-learn==1.2.2,scipy==1.8.0,skranger==0.8.0","dsLabExecutionType":"dsLabScriptRunner","dsLabFunInputType":"List","dsLabScript":"import config\nimport main\nfrom time import perf_counter\nimport logging\nimport boto3\n\n\n\ndef get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\n    athena_client = boto3.client(\n        'athena', \n        region_name=REGION_NAME, \n        aws_access_key_id=AWS_ACCESS_KEY_ID, \n        aws_secret_access_key=AWS_SECRET_ACCESS_KEY\n    )\n    return athena_client\n\ndef run_athena_query(query, ATHENA_DATABASE, ATHENA_STATUS_OUTPUT_LOCATION,\n                    REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\n    \n    ATHENA_CLIENT = get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)\n        \n    logging.info(f'Starting Athena query execution')\n    logging.info(f'Athena query:\\n{query}')\n    response = ATHENA_CLIENT.start_query_execution(\n        QueryString=query,\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\n        WorkGroup='juice_data'\n    )\n    \n    # Get the query execution ID\n    query_execution_id = response['QueryExecutionId']\n\n    # Wait for the query to complete\n    while True:\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\n        status = query_status['QueryExecution']['Status']['State']\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\n            break\n\n    # Retrieve and return the query results if the query succeeded\n    if status == 'SUCCEEDED':\n        logging.info(f'Athena query ran successfully')\n    elif status == 'FAILED':\n        raise Exception('Query from Athena failed') \n\n\ndef tvo_driver(input_data, s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\n                secret_name, region_name, athena_database, aws_access_key_id,\n                aws_secret_access_key, athena_status_output_location, query_bucket):\n    \n    logging.info(f'TVO 2 process started')\n    input_data = input_data[0]\n    start_time = perf_counter()\n        \n    # Getting config variables\n    main.init_config(s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\n                secret_name, region_name, athena_database, aws_access_key_id,\n                aws_secret_access_key, athena_status_output_location, query_bucket)\n    \n    # TVO2 process\n    results = main._main(input_data) \n    logging.info(f'TVO 2 process finished in {round(perf_counter() - start_time, 3)} seconds')\n    results[0]['process_time_minutes'] = round(round(perf_counter() - start_time, 3)/60,3)\n    \n    # Doing MSCK repair\n    table_name = f\"{athena_database}.tvo_2_0\"\n    query = f\"MSCK REPAIR TABLE {table_name}\"\n    run_athena_query(query, athena_database, athena_status_output_location, region_name,\n                    aws_access_key_id, aws_secret_access_key)\n    return results","dsLabInputData":"[{\"key\":\"s3_target_bucket_performance\",\"value\":\"@ENV.ATTRIBUTION_BUCKET_TVO\"},{\"key\":\"s3_target_path_performance\",\"value\":\"tvo2\"},{\"key\":\"secret_name\",\"value\":\"@ENV.REDSHIFT_MTA_SECRET_NAME\"},{\"key\":\"region_name\",\"value\":\"@ENV.REGION_NAME\"},{\"key\":\"athena_database\",\"value\":\"@ENV.ATHENA_DATABASE\"},{\"key\":\"aws_access_key_id\",\"value\":\"@ENV.AWS_ACCESS_KEY_ID_BDB\"},{\"key\":\"aws_secret_access_key\",\"value\":\"@ENV.AWS_SECRET_KEY_BDB\"},{\"key\":\"athena_status_output_location\",\"value\":\"@ENV.QUERY_RESULTS\"},{\"key\":\"query_bucket\",\"value\":\"@ENV.PROD_BUCKET\"},{\"key\":\"s3_target_path_performance_tvo\",\"value\":\"tvo2.1\"}]"},"alertAction":"","componentId":"comp_16449201586344539","isDeploy":true,"isDynamicAllocationEnabled":false,"batchWindow":"1","displayName":"tvo2_backfill","UiId":"0786-f76e-4c9e-a7b7-1db8","containerImageName":"580240783317.dkr.ecr.us-west-2.amazonaws.com/dslab_model_runner","onFailure":"","isScheduled":false,"cronExpression":"","deploymentType":"docker","inEvent":"TVO2_backfill_event_3_1700474019724_9806","preConditionCheck":"None","imagePullSecretRefs":[],"action":"stop","gUid":"1700474350629_4451","componentInstanceId":"comp1700477854606_inst_1830","outEvent":["TVO2_backfill_event_5_1700645265885_9735"],"onSuccess":""},{"containerImageVersion":"8.5.0","componentDesc":"","gracePeriod":"60","componentId":"comp_15464936690991417","displayName":"load_balancer","UiId":"2d8f-21e7-4c78-8f76-c047","containerImageName":"580240783317.dkr.ecr.us-west-2.amazonaws.com/custom_python_script","onFailure":"","isScheduled":false,"inEvent":"TVO2_backfill_event_2_1700473917659_1717","action":"stop","gUid":"1700473989110_9251","componentInstanceId":"comp1700473989110_inst_8626","invocationMethodType":"batch","componentMetaData":{"inputData":"[]","funInputType":"DataFrame","startFunName":"func","componentName":"tvo2_load_balancer","libraryList":[],"script":"def func(df):\n    return df"},"alertAction":"","isDeploy":true,"isDynamicAllocationEnabled":false,"batchWindow":"1","cronExpression":"","deploymentType":"docker","preConditionCheck":"None","imagePullSecretRefs":[],"outEvent":["TVO2_backfill_event_3_1700474019724_9806"],"onSuccess":""},{"containerImageVersion":"8.5.0","invocationMethodType":"realtime","componentDesc":"","componentMetaData":{"ingestionType":"apiIngestion","ingestionId":"176ec64c-5a2d-4f00-9041-d8e1b061d162","ingestionSecret":"ET4xx3YQp62UCltw7QqnTczcIbnCOkVc1kt6JRgs6Mb3uLKTYg9EpGUtIjEbi"},"alertAction":"","componentId":"comp_16188590124008978","isDeploy":true,"isDynamicAllocationEnabled":false,"batchWindow":"","displayName":"API Ingestion","UiId":"b9fc-ed9b-476a-afb4-a011","containerImageName":"580240783317.dkr.ecr.us-west-2.amazonaws.com/apidatareader","onFailure":"","isScheduled":false,"cronExpression":"","deploymentType":"docker","inEvent":"","preConditionCheck":"None","imagePullSecretRefs":[],"action":"stop","gUid":"1700473681691_1895","componentInstanceId":"comp1700473681691_inst_7360","outEvent":["TVO2_backfill_event_1_1700473690169_4980"],"onSuccess":""}],"enableLogs":false,"dpDetails":[],"isActive":true,"createdOn":"2023-11-20T09:47:35.769Z[Etc/UTC]","pipelineId":"dp_17004736553674710","pipelineDefinition":{"name":"TVO2_backfill","desc":""},"apiVersion":"v1","isRunning":false,"lastActivatedOn":"2023-11-20T11:17:49.230Z[Etc/UTC]","prmDetails":[],"resourceLimit":"low","compConf":[{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700473681691_inst_7360","uiId":"b9fc-ed9b-476a-afb4-a011","componentName":"API Ingestion","configurationType":"low","pipelineId":"dp_17004736553674710"},{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"500Mi","instances":1,"cpu":"500m"},"limit":{"memory":"1024Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700473896753_inst_5987","uiId":"95ea-ebc2-46d5-b3c0-b216","componentName":"tvo2_backfill_input","configurationType":"low","pipelineId":"dp_17004736553674710"},{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":3,"cpu":"2500m"},"limit":{"memory":"4096Mi","cpu":"2500m","maxInstances":3}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700474350629_inst_3035","uiId":"929b-3604-43ca-b949-6c0f","componentName":"DSLab Runner","configurationType":"low","pipelineId":"dp_17004736553674710"},{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"500Mi","instances":1,"cpu":"500m"},"limit":{"memory":"1024Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700477948777_inst_6559","uiId":"73f8-cf2a-473a-bf30-0d0b","componentName":"tvo2_backfill_input","configurationType":"low","pipelineId":"dp_17004736553674710"},{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"250m"},"limit":{"memory":"500Mi","cpu":"500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"250m"},"limit":{"memory":"500Mi","cpu":"500m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700473989110_inst_8626","uiId":"2d8f-21e7-4c78-8f76-c047","componentName":"load_balancer","configurationType":"low","pipelineId":"dp_17004736553674710"},{"configuration":{"confId":122334,"confName":"resource_new","confDetails":{"high":{"realtime":{"nonspark":{"request":{"memory":"2048Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"4048Mi","cpu":"2500m","maxInstances":1}},"spark":{"driver":{"corelimit":"1024m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"2048m","instances":3,"maxInstances":3}}},"batch":{"nonspark":{"request":{"memory":"4096Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"6048Mi","cpu":"2000m","maxInstances":1}},"spark":{"driver":{"corelimit":"4096m","core":1,"memory":"2048m"},"executor":{"core":1,"memory":"4096m","instances":2,"maxInstances":2}}}},"low":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":3,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"2500m","maxInstances":3}},"spark":{"driver":{"corelimit":"1024m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"250Mi","instances":1,"cpu":"100m"},"limit":{"memory":"500Mi","cpu":"100m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.5,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}},"medium":{"realtime":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"1000m"},"limit":{"memory":"2048Mi","cpu":"1000m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}},"batch":{"nonspark":{"request":{"memory":"1024Mi","instances":1,"cpu":"100m"},"limit":{"memory":"2048Mi","cpu":"250m","maxInstances":1}},"spark":{"driver":{"corelimit":"2048m","core":0.1,"memory":"1024m"},"executor":{"core":1,"memory":"1024m","instances":1,"maxInstances":1}}}}},"confType":"resource_new","isActive":true},"componentInstId":"comp1700477854606_inst_1830","uiId":"0786-f76e-4c9e-a7b7-1db8","componentName":"DSLab Runner","configurationType":"low","pipelineId":"dp_17004736553674710"}],"datacenterContent":"{\"queryService\":[],\"dsLabNotebookScriptContent\":{\"5308499\":\"{\\\"dslabserviceresp\\\":{\\\"queryService\\\":[],\\\"bizvizWorkspace\\\":\\\"{\\\\\\\"reserv1\\\\\\\":null,\\\\\\\"reserv2\\\\\\\":null,\\\\\\\"reserv3\\\\\\\":null,\\\\\\\"reserv4\\\\\\\":null,\\\\\\\"reserv5\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":1699240326942,\\\\\\\"isActive\\\\\\\":0,\\\\\\\"lastUpdatedDate\\\\\\\":null,\\\\\\\"active\\\\\\\":1,\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4751365,\\\\\\\"name\\\\\\\":\\\\\\\"TVO20\\\\\\\",\\\\\\\"count\\\\\\\":null,\\\\\\\"parentId\\\\\\\":null,\\\\\\\"userId\\\\\\\":\\\\\\\"622598\\\\\\\",\\\\\\\"isFile\\\\\\\":false,\\\\\\\"infoJson\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"imageVersion\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"w8.5.3\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"external_libraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"boto3==1.21.5,holidays==0.13,impyute==0.0.8,kendall_w==1.0.0,numpy==1.22.2,psycopg2==2.9.3,PuLP==2.6.0,scikit-learn==1.2.2,scipy==1.8.0,skranger==0.8.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"imageName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dsnotebook-tensorflow\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"confDetails\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"high\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"4048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2500m\\\\\\\\\\\\\\\"}}},\\\\\\\\\\\\\\\"low\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"realtime\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"500m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"}}}},\\\\\\\\\\\\\\\"medium\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"}}}},\\\\\\\\\\\\\\\"idle_shutdown\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"30m\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"apiImageVersion\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"8.5.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"appName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"git_project\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_url\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"juice-media/tvo2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"TVO20\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"removedLibraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"environment\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"PythonTensorFlow\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_description\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"TVO 2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Algorithms\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gpuLimit\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"projectLabel\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tvo2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"resource_allocation\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"medium\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"configured_branch\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"master\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"apiImageName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dsmodelapi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gpuType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"branchLabel\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"master\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"type\\\\\\\":10,\\\\\\\"status\\\\\\\":1,\\\\\\\"contentJson\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"CreateProjectKey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Create_Project\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"templateJson\\\\\\\":null,\\\\\\\"isShared\\\\\\\":null,\\\\\\\"updatedBy\\\\\\\":\\\\\\\"4030470\\\\\\\",\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240326942\\\\\\\",\\\\\\\"createdUserName\\\\\\\":null}\\\",\\\"envVariables\\\":\\\"[]\\\",\\\"utility\\\":\\\"[{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":5341241,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"config\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581513000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581513000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"config.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111700079618152\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849690,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"pipeline\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581509000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581509000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"pipeline.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240494692\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849689,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"performance\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581506000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581506000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"performance.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240458660\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849688,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"optimization\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581502000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581502000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"optimization.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240434154\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849687,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"main\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581499000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581499000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"main.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240420079\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849686,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"utils\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581495000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581495000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"utils.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240405540\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849685,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"pipeline_helpers\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581492000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581492000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"pipeline_helpers.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240393708\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849684,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"connections_aws\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581489000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581489000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"connections_aws.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240371111\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849683,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"base_logger\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581485000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581485000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"base_logger.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240356279\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null}]\\\",\\\"utilityContent\\\":\\\"{\\\\\\\"4849685\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBob2xpZGF5cwpmcm9tIHN5cyBpbXBvcnQgZXhjX2luZm8KaW1wb3J0IGNvbm5lY3Rpb25zX2F3cwpmcm9tIGJhc2VfbG9nZ2VyIGltcG9ydCBsb2dnZXIKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgcmFuZG9tCmltcG9ydCB1dGlscwppbXBvcnQgcGVyZm9ybWFuY2UKZnJvbSBza2xlYXJuLmxpbmVhcl9tb2RlbCBpbXBvcnQgTGluZWFyUmVncmVzc2lvbgpmcm9tIHJhbmRvbSBpbXBvcnQgc2FtcGxlCmltcG9ydCByZQppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCByYW5kb20Kd2FybmluZ3MuZmlsdGVyd2FybmluZ3MoImlnbm9yZSIpCgojIEFXU19SRUdJT04gPSAndXMtd2VzdC0yJwojIFMzX1RBUkdFVF9CVUNLRVQgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24nCiMgUzNfVEFSR0VUX0JVQ0tFVF9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwojIHMzX3Jlc291cmNlID0gYm90bzMucmVzb3VyY2UoJ3MzJykKZGVmIGZpeF9kYXlwYXJ0KGRmKToKICAgIGRmWydkYXlwYXJ0J10gPSBbZGF5cGFydF9nZW4ocm93KSBmb3IgaWR4LCByb3cgaW4gZGYuaXRlcnJvd3MoKV0KICAgIHJldHVybiBkZgogICAgCgpkZWYgbGlmdF9mb3JtYXRfcHJlcGFyZShsaWZ0KToKICAgIHRyeToKICAgICAgICBsaWZ0WydkYXRlJ10gPSBbZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoaSwgJyVZLSVtLSVkICVIOiVNOiVTJykgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ3llYXInXSA9IFtpLnllYXIgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ21vbnRoJ10gPSBbaS5tb250aCBmb3IgaSBpbiBsaWZ0WydzdGFydGRhdGV0aW1lJ11dCiAgICAgICAgbGlmdFsnd2RheSddID0gW2kud2Vla2RheSgpICsgMSBmb3IgaSBpbiBsaWZ0WydzdGFydGRhdGV0aW1lJ11dICAjIE1vbmRheT09MCxTdW5kYXkgPT0gNgogICAgICAgIGxpZnRbJ2hvdXInXSA9IFtpLmhvdXIgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ2RheXBhcnQnXSA9IFtkYXlwYXJ0X2dlbihyb3cpIGZvciBpZHgsIHJvdyBpbiBsaWZ0Lml0ZXJyb3dzKCldCiAgICAgICAgbGlmdFsnc3RhdGlvbiddID0gW3JlLnN1Yignc3RhdGlvbicsICcnLCBpKSBmb3IgaSBpbiBsaWZ0WydzdGF0aW9uJ11dCiAgICAgICAgcmV0dXJuIGxpZnQubG9jW2xpZnQuc3RhdGlvbiAhPSAnbm9uZSddCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMubGlmdF9mb3JtYXRfcHJlcGFyZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmxpZnRfZm9ybWF0X3ByZXBhcmUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBkYXlwYXJ0X2dlbih1bml0KToKICAgIHRyeToKICAgICAgICAjZGF5ID0gdW5pdFsnd2RheSddCiAgICAgICAgI2hvdXIgPSB1bml0Wydob3VyJ10KCiAgICAgICAgZGF5ID0gdW5pdFsnc3RhcnRkYXRldGltZSddLndlZWtkYXkoKSArIDEKICAgICAgICBob3VyID0gdW5pdFsnc3RhcnRkYXRldGltZSddLmhvdXIKCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgaWYgKGRheSBpbiBbMSwgMiwgMywgNCwgNV0gYW5kIGhvdXIgaW4gcmFuZ2UoNiwgMTApKToKICAgICAgICAgICAgcmV0dXJuICgibW9ybmluZyIpCiAgICAgICAgZWxpZiAoZGF5IGluIFsxLCAyLCAzLCA0LCA1XSBhbmQgaG91ciBpbiByYW5nZSgxMCwgMTYpKToKICAgICAgICAgICAgcmV0dXJuICgiZGF5dGltZSIpCiAgICAgICAgZWxpZiAoZGF5IGluIFsxLCAyLCAzLCA0LCA1XSBhbmQgaG91ciBpbiByYW5nZSgxNiwgMTkpKToKICAgICAgICAgICAgcmV0dXJuICgiZWFybHlmcmluZ2UiKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSgxLCA4KSBhbmQgaG91ciBpbiByYW5nZSgxOSwgMjQpKToKICAgICAgICAgICAgcmV0dXJuICgicHJpbWUiKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSgxLCA4KSBhbmQgaG91ciBpbiByYW5nZSgwLCAyKSk6CiAgICAgICAgICAgIHJldHVybiAoImxhdGVuaWdodCIpCiAgICAgICAgZWxpZiAoZGF5IGluIHJhbmdlKDEsIDgpIGFuZCBob3VyIGluIHJhbmdlKDIsIDYpKToKICAgICAgICAgICAgcmV0dXJuICgib3Zlcm5pZ2h0IikKICAgICAgICBlbGlmIChkYXkgaW4gcmFuZ2UoNiwgOCkgYW5kIGhvdXIgaW4gcmFuZ2UoNiwgMTIpKToKICAgICAgICAgICAgcmV0dXJuICgid2Vla2VuZG1vcm5pbmciKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSg2LCA4KSBhbmQgaG91ciBpbiByYW5nZSgxMiwgMTkpKToKICAgICAgICAgICAgcmV0dXJuICgid2Vla2VuZGRheSIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZGF5cGFydF9nZW4pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmRheXBhcnRfZ2VuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfSB7ZX0iKQoKZGVmIGdlbmVyYXRlX2J1c3lfdGltZShkZiwgd2luZG93PTMpOgogICAgdHJ5OgogICAgICAgIGZkZiA9IGRmCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgd2luZG93KToKICAgICAgICAgICAgZmRmID0gcGQuY29uY2F0KFtmZGYsIGRmK2RhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPTYwKmkpXSkKICAgICAgICAgICAgZmRmID0gZmRmLmRyb3BfZHVwbGljYXRlcygpCiAgICAgICAgICAgIGZkZiA9IGZkZi5zb3J0X3ZhbHVlcygpCiAgICAgICAgcmV0dXJuIGZkZgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmdlbmVyYXRlX2J1c3lfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmdlbmVyYXRlX2J1c3lfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKGtwaSwgc3BvdCk6CiAgICByYW5kb20uc2VlZCgyMCkKICAgIHRyeToKICAgICAgICBtaW5zID0gcGQuZGF0ZV9yYW5nZShzdGFydD1rcGkubWludXRlLmlsb2NbMF0sIGVuZD1rcGkubWludXRlLmlsb2NbLTFdLCBmcmVxPScxbWluJykudG9fZnJhbWUoKQogICAgICAgIG1pbnMuY29sdW1ucyA9IFsnbWlucyddCiAgICAgICAgIyBnZW5lcmF0ZSBidXN5IHRpbWUKICAgICAgICBkYXRlUG9vbCA9IG1pbnNbfiBtaW5zLm1pbnMuaXNpbihnZW5lcmF0ZV9idXN5X3RpbWUoc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCwgMykpXQogICAgICAgIHNlbGVjdERhdGUgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogcmFuZG9tLnNhbXBsZShsaXN0KGRhdGVQb29sLm1pbnMpLCBzcG90LnNoYXBlWzBdKX0pCgogICAgICAgIG5vblN0YXRpb25TcG90ID0gcGQuRGF0YUZyYW1lKHsnc3RhdGlvbic6ICdub25lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbGVuZGFyZGF0ZSc6IFtkYXRldGltZS5kYXRldGltZS5zdHJmdGltZSh4LCAnJVktJW0tJWQnKSBmb3IgeCBpbiBzZWxlY3REYXRlLmRhdGVdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhcnRkYXRldGltZSc6IHNlbGVjdERhdGUuZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJzogc2VsZWN0RGF0ZS5kYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RvcGRhdGV0aW1lJzogW3ggKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz0zMCkgZm9yIHggaW4gc2VsZWN0RGF0ZS5kYXRlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzY2lfMjAnOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZW5ndGgnOiAnMzAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wcmVzc2lvbnMnOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZSc6IFtkYXRldGltZS5kYXRldGltZS5zdHJwdGltZSh5LCAnJVktJW0tJWQnKSBmb3IgeSBpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0ZXRpbWUuZGF0ZXRpbWUuc3RyZnRpbWUoeCwgJyVZLSVtLSVkJykgZm9yIHggaW4gc2VsZWN0RGF0ZS5kYXRlXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnOiAncHJvZHVjdG5vbmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6ICdwcm9ncmFtbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXlfY29kZXMnOiAnYnV5Y29kZXNub25lJ30pCgogICAgICAgIG5vblN0YXRpb25TcG90WydzdGFydGRhdGV0aW1lJ10gPSBwZC50b19kYXRldGltZShub25TdGF0aW9uU3BvdFsnc3RhcnRkYXRldGltZSddKQogICAgICAgIG5vblN0YXRpb25TcG90WydzdGFydGRhdGV0aW1lcm91bmRlZCddID0gcGQudG9fZGF0ZXRpbWUobm9uU3RhdGlvblNwb3RbJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJ10pCiAgICAgICAgdGVtcDRkYXlwYXJ0ID0gbm9uU3RhdGlvblNwb3QKICAgICAgICB0ZW1wNGRheXBhcnQgPSB0ZW1wNGRheXBhcnQuYXNzaWduKHdkYXk9bm9uU3RhdGlvblNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQuZHQuZGF5b2Z3ZWVrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cj1ub25TdGF0aW9uU3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZC5kdC5ob3VyKQogICAgICAgIG5vblN0YXRpb25TcG90WydkYXlwYXJ0J10gPSBbZGF5cGFydF9nZW4ocm93KSBmb3IgaWR4LCByb3cgaW4gdGVtcDRkYXlwYXJ0Lml0ZXJyb3dzKCldCiAgICAgICAgcmV0dXJuIG5vblN0YXRpb25TcG90CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgYWRkX21pc3NpbmdfZGF0ZXRpbWVzX3RvX2twaV9kYXRhKGtwaSk6CiAgICB0cnk6CiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZV9oZWxwZXJzLmFkZF9taXNzaW5nX2RhdGV0aW1lc190b19rcGlfZGF0YSkgQWRkIE1pc3NpbmcgTWludXRlcyB0byBLUEkgRGF0YScpCiAgICAgICAgcHJpbnQoJzEnKQogICAgICAgIG1pbnMgPSBwZC5TZXJpZXMocGQuZGF0ZV9yYW5nZShzdGFydD1rcGkubWludXRlLmlsb2NbMF0sIGVuZD1rcGkubWludXRlLmlsb2NbLTFdLCBmcmVxPSdUJykpCiAgICAgICAgI21pbnMuY29sdW1ucyA9IFsnbWlucyddCiAgICAgICAgcHJpbnQoJzInKQogICAgICAgIGZ1bGwgPSBwZC5EYXRhRnJhbWUoCiAgICAgICAgICAgIHsnZGF5JzogW2RhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKHksICclWS0lbS0lZCcpIGZvciB5IGluIFtkYXRldGltZS5kYXRldGltZS5zdHJmdGltZSh4LCAnJVktJW0tJWQnKSBmb3IgeCBpbiBtaW5zXV0sCiAgICAgICAgICAgICdtaW51dGUnOiBtaW5zLAogICAgICAgICAgICAnaG91cic6IFtpbnQoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RyZnRpbWUoeCwgJyVIJykpIGZvciB4IGluIG1pbnNdLAogICAgICAgICAgICAna3BpJzogMCwKICAgICAgICAgICAgJ2twaV9kZXNjcmlwdGlvbic6ICcnCiAgICAgICAgICAgIH0pCiAgICAgICAgcHJpbnQoJzMnKQogICAgICAgIGNvbXBsZXRlS1BJID0gcGQuY29uY2F0KFtmdWxsLCBrcGldKS5ncm91cGJ5KFsnZGF5JywgJ21pbnV0ZScsICdob3VyJywgJ2twaV9kZXNjcmlwdGlvbiddKS5zdW0oKS5yZXNldF9pbmRleCgpCiAgICAgICAgcHJpbnQoJzQnKQogICAgICAgICMgTWlzc2luZyBkYXRlCiAgICAgICAgbWlzc0RhdGUgPSBmdWxsW35mdWxsLm1pbnV0ZS5pc2luKGtwaS5taW51dGUpXQogICAgICAgIHByaW50KCc1JykKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuYWRkX21pc3NpbmdfZGF0ZXRpbWVzX3RvX2twaV9kYXRhKSB7fSBtaW51dGVzIGFyZSBtaXNzaW5nIGluIEtQSSBkYXRhLiBGb3JjZSB0aGVtIGJhY2sgd2l0aCAwIEtQSS4nLmZvcm1hdChtaXNzRGF0ZS5zaGFwZVswXSkpCiAgICAgICAgcmV0dXJuIChjb21wbGV0ZUtQSSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMobGVmdCwgcmlnaHQpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIE1lcmdpbmcgU3BvdCBhbmQgS1BJIGRhdGEnKQogICAgICAgIG1lcmdlX3Nwb3RzX2FuZF93aW5kb3dzdGF0cyA9IHBkLm1lcmdlKGxlZnQsIHJpZ2h0LCBvbj1bJ3N0YXRpb24nLCAnc3RhcnRkYXRldGltZSddKS5zb3J0X3ZhbHVlcyhbJ3N0YXJ0ZGF0ZXRpbWUnXSkKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdHNfYW5kX3dpbmRvd3N0YXRzKSBEcm9wcGluZyBkdXBsaWNhdGVzJykKICAgICAgICBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMgPSBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMuZHJvcF9kdXBsaWNhdGVzKHN1YnNldD1bJ3N0YXRpb24nLCAnc3RhcnRkYXRldGltZScsICdsZW5ndGgnLCAnbmV0X3JhdGUnLCAnaW1wcmVzc2lvbnMnXSwga2VlcD0iZmlyc3QiKQogICAgICAgIHJldHVybiBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBzcGVuZF9pbmQobmV0LCBzcGxpdCk6CiAgICB0cnk6CiAgICAgICAgaWYgKG5ldCA8PSBzcGxpdFswXSk6CiAgICAgICAgICAgIHJldHVybiAnbG93JwogICAgICAgIGVsaWYgKG5ldCA8PSBzcGxpdFsxXSBhbmQgbmV0ID4gc3BsaXRbMF0pOgogICAgICAgICAgICByZXR1cm4gJ21lZGl1bScKICAgICAgICBlbGlmIChuZXQgPD0gc3BsaXRbMl0gYW5kIG5ldCA+IHNwbGl0WzFdKToKICAgICAgICAgICAgcmV0dXJuICdoaWdoJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAnZXh0cl9oaWdoJwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnNwZW5kX2luZCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnNwZW5kX2luZCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGhvbGlkYXlfaW5kKGRmLCBjb3VudHJ5KToKICAgIHRyeToKICAgICAgICBjb3VudHJ5ID0gY291bnRyeS5sb3dlcigpCiAgICAgICAgaWYgKGNvdW50cnkgPT0gJ3VzJyk6CiAgICAgICAgICAgIHVzID0gaG9saWRheXMuVVMoKQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gdXMpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAnY2EnKToKICAgICAgICAgICAgY2EgPSBob2xpZGF5cy5DQQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gY2EpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAndWsnKToKICAgICAgICAgICAgdWsgPSBob2xpZGF5cy5VSwogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gdWspID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAnYXUnKToKICAgICAgICAgICAgYXUgPSBob2xpZGF5cy5BVQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gYXUpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZGZbJ2lzSG9saWRheSddID0gaW5kaWMKICAgICAgICByZXR1cm4gKGRmKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmhvbGlkYXlfaW5kKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuaG9saWRheV9pbmQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBzcG90X2NvdW50KGRmKToKICAgIHRyeToKICAgICAgICBzdGF0aW9uX25hbWUgPSBucC51bmlxdWUoZGYuc3RhdGlvbikKICAgICAgICBsb29rVXBUYWJsZSA9IHBkLkRhdGFGcmFtZSgwLCBpbmRleD1bMF0sIGNvbHVtbnM9c3RhdGlvbl9uYW1lKQogICAgICAgIGNvdW50ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSk6CiAgICAgICAgICAgIGNvdW50LmFwcGVuZChsb29rVXBUYWJsZS5sb2NbMCwgZGYuc3RhdGlvbi5pbG9jW2ldXSkKICAgICAgICAgICAgbG9va1VwVGFibGUubG9jWzAsIGRmLnN0YXRpb24uaWxvY1tpXV0gKz0gMQogICAgICAgIGRmWydjb3VudHMnXSA9IGNvdW50CiAgICAgICAgZGZbJ2NvdW50cyddID0gbnAud2hlcmUoZGYuc3RhdGlvbiA9PSAnbm9uZScsIDAsIGRmLmNvdW50cykKICAgICAgICByZXR1cm4gKGRmKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnNwb3RfY291bnQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5zcG90X2NvdW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY2xlYW5fY3JlYXRpdmUoZGYpOgogICAgdHJ5OgogICAgICAgIGRmMSA9IGRmLmNvcHkoKQogICAgICAgIGNyZWF0aXZlX25hbWUgPSBucC51bmlxdWUoZGYxLmlzY2lfMjApCiAgICAgICAgZm9yIG5hbWUgaW4gZGYxLmlzY2lfMjAudmFsdWVfY291bnRzKCkuaW5kZXg6CiAgICAgICAgICAgIGlmIChuYW1lWzotMV0gaW4gZGYxLmlzY2lfMjAudmFsdWVfY291bnRzKCkuaW5kZXgpOgogICAgICAgICAgICAgICAgZGYxLmlzY2lfMjBbZGYxLmlzY2lfMjAgPT0gbmFtZV0gPSBuYW1lWzotMV0KICAgICAgICByZXR1cm4gKGRmMSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5jbGVhbl9jcmVhdGl2ZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmNsZWFuX2NyZWF0aXZlKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY3VtdW5fcHJpb3IoZGYpOgogICAgdHJ5OgogICAgICAgIGRmID0gZGYuc29ydF92YWx1ZXMoWydzdGFydGRhdGV0aW1lJ10pCiAgICAgICAgZGYgPSBkZi5hc3NpZ24ocHJpb3JUVj1ucC5jdW1zdW0oZGYubmV0X3JhdGUpIC0gZGYubmV0X3JhdGUsCiAgICAgICAgICAgICAgICAgICAgcHJpb3JUVnNxcj0obnAuY3Vtc3VtKGRmLm5ldF9yYXRlKSAtIGRmLm5ldF9yYXRlKSAqKiAyKQogICAgICAgIHJldHVybiAoZGYpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3VtdW5fcHJpb3IpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5jdW11bl9wcmlvcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIHByaW9yX3NwZW5kX2luX3RpbWUoZGYsIHRpbWVfbGVuZ3RoKToKICAgIHRyeToKICAgICAgICBwcmlvclNwZW5kID0gW3ByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCh4LCBkZiwgdGltZV9sZW5ndGgpIGZvciB4IGluIHJhbmdlKDAsIGRmLnNoYXBlWzBdKV0KICAgICAgICBkZlsncHJpb3JfdHZfJyArIHN0cih0aW1lX2xlbmd0aCldID0gcHJpb3JTcGVuZAogICAgICAgIGRmWydwcmlvcl90dl8nICsgc3RyKHRpbWVfbGVuZ3RoKSArICdfc3FyJ10gPSBbeCAqKiAyIGZvciB4IGluIHByaW9yU3BlbmRdCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMucHJpb3Jfc3BlbmRfaW5fdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBwcmlvcl9zcGVuZF9pbl90aW1lX3VuaXQoaW5kZXgsIGRmLCB0aW1lX2xlbmd0aCk6CiAgICB0cnk6CiAgICAgICAgc3BlbmQgPSAoZGYubmV0X3JhdGUubG9jWyhkZi5zdGFydGRhdGV0aW1lcm91bmRlZCA8IGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdKSAmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdIC0gZGF0ZXRpbWUudGltZWRlbHRhKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzPXRpbWVfbGVuZ3RoKSldKS5zdW0oKQogICAgICAgIHJldHVybiBzcGVuZAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNyZWF0ZV90aW1lKGRmKToKICAgIHRyeToKICAgICAgICBkZlsnZGF0ZSddID0gZGZbJ2NhbGVuZGFyZGF0ZSddLmFzdHlwZShzdHIpCiAgICAgICAgZGZbJ2RhdGUnXSA9IHBkLnRvX2RhdGV0aW1lKGRmWydkYXRlJ10sIGZvcm1hdD0nJVktJW0tJWQnKQogICAgICAgIGRmWydzdGFydGRhdGV0aW1lJ10gPSBwZC50b19kYXRldGltZShkZi5zdGFydGRhdGV0aW1lLmZpbGxuYShwZC5OYVQpLCBlcnJvcnM9J2NvZXJjZScpCiAgICAgICAgZGZbJ3dlZWtkYXknXSA9IHBkLkNhdGVnb3JpY2FsKGRmWydkYXRlJ10uZHQuZGF5X25hbWUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz1bJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU3VuZGF5J10sIG9yZGVyZWQ9VHJ1ZSkKICAgICAgICBkZlsnaG91ciddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5ob3VyCiAgICAgICAgZGZbJ21pbnV0ZSddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5taW51dGUKICAgICAgICBkZlsneWRheSddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5kYXlvZnllYXIKICAgICAgICBkZlsnaG91ciddID0gbnAud2hlcmUoZGZbJ21pbnV0ZSddID4gMjksIGRmWydob3VyJ10gKyAwLjUsIGRmWydob3VyJ10pCiAgICAgICAgZGZbJ2hvdXInXSA9IGRmWydob3VyJ10uYXN0eXBlKCdvYmplY3QnKQogICAgICAgIGRmWydtaW51dGUnXSA9IGRmWydtaW51dGUnXS5hc3R5cGUoJ29iamVjdCcpCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX3RpbWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5jcmVhdGVfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGR1bW15X3ZhcihkZik6CiAgICB0cnk6CiAgICAgICAgIyBFbmNvZGUgY2F0ZWdvcnkgdmFyaWFibGVzIGludG8gZHVtbXkgdmFyaWFibGVzCiAgICAgICAgdmFyX3RvX2R1bW15ID0gWydzdGF0aW9uJywgJ2xlbmd0aCcsICdkYXlwYXJ0JywgJ2lzY2lfMjAnLCAnd2Vla2RheScsICdob3VyJywgJ21pbnV0ZScsICdwcm9kdWN0X25hbWUnLCAnYnV5X2NvZGVzJ10KICAgICAgICBpbmRleCA9IFtpIGluIGxpc3QoZGYuY29sdW1ucykgZm9yIGkgaW4gdmFyX3RvX2R1bW15XQogICAgICAgIG5ld192YXJfdG9fZHVtbXkgPSBbdmFyX3RvX2R1bW15W2pdIGZvciBqIGluIFtpIGZvciBpLCB4IGluIGVudW1lcmF0ZShpbmRleCkgaWYgeF1dCiAgICAgICAgb3V0cHV0ID0gcGQuZ2V0X2R1bW1pZXMoZGYsIHByZWZpeF9zZXA9JycsIGNvbHVtbnM9bmV3X3Zhcl90b19kdW1teSwgcHJlZml4PW5ld192YXJfdG9fZHVtbXkpCiAgICAgICAgcmV0dXJuIG91dHB1dAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmR1bW15X3ZhcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmR1bW15X3ZhcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZmVhdHVyZV9wcmVwYXJlX2RhdGEoZGYsIGNvdW50cnkpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ3JlYXRpbmcgaW5kaWNhdG9yIGZvciBuZXRfcmF0ZSBsZXZlbCIpCiAgICAgICAgZGZbJ25ldF9yYXRfaW5kJ10gPSBsaXN0KG1hcChsYW1iZGEgeDogc3BlbmRfaW5kKHgsIGRmLm5ldF9yYXRlLnF1YW50aWxlKFswLjI1LCAwLjc1LCAwLjk3NV0pLnZhbHVlcyksIGRmLm5ldF9yYXRlKSkKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDcmVhdGluZyBpbmRpY2F0b3IgZm9yIGhvbGlkYXkiKQogICAgICAgIGRmID0gaG9saWRheV9pbmQoZGYsIGNvdW50cnkpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ291bnRpbmcgbnVtYmVyIG9mIHNwb3RzIikKICAgICAgICBkZiA9IHNwb3RfY291bnQoZGYpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ2xlYW5pbmcgY3JlYXRpdmUgbmFtZSIpCiAgICAgICAgZGYgPSBjbGVhbl9jcmVhdGl2ZShkZikKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDb21wdXRpbmcgY3VtdWxhdGl2ZSBwcmlvciB0diBzcGVuZCBhbmQgaW1wcmVzc2lvbnMiKQogICAgICAgIGRmID0gY3VtdW5fcHJpb3IoZGYpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ29tcHV0aW5nIGN1bXVsYXRpdmUgcHJpb3IgdHYgc3BlbmQgaW4gMTAgbWludXRlcyIpCiAgICAgICAgZGYgPSBwcmlvcl9zcGVuZF9pbl90aW1lKGRmLCAxMCkKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDb21wdXRpbmcgY3VtdWxhdGl2ZSBwcmlvciB0diBzcGVuZCBpbiAxIGhvdXJzIikKICAgICAgICBkZiA9IHByaW9yX3NwZW5kX2luX3RpbWUoZGYsIDYwKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIENyZWF0aW5nIHRpbWUgdmFyaWFibGVzJykKICAgICAgICBkZiA9IGNyZWF0ZV90aW1lKGRmKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIEFwcGx5aW5nIG9uZSBob3QgZW5jb2RpbmcgZm9yIGNhdGVnb3J5IHZhcmlhYmxlcycpCiAgICAgICAgZGYgPSBkdW1teV92YXIoZGYpCgogICAgICAgIGRmID0gZGYuc29ydF92YWx1ZXMoWydzdGFydGRhdGV0aW1lJ10pCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNvbGxlY3Rfa3BpX3J1bihzcG90LCBrcGksIGxlbik6CiAgICB0cnk6CiAgICAgICAgb3V0cHV0ID0gcGQuRGF0YUZyYW1lKFtjb2xsZWN0X2twaV91bml0KHNwb3QsIGtwaSwgeCwgbGVuKSBmb3IgeCBpbiByYW5nZSgyLCBzcG90LnNoYXBlWzBdIC0gNSldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz1bc3RyKGkpICsgJ21pbicgZm9yIGkgaW4gcmFuZ2UoMCwgMyldICsgWyctMW1pbiddKQogICAgICAgIG91dHB1dCA9IG91dHB1dC5hc3NpZ24oc3RhdGlvbj1zcG90LnN0YXRpb24uaWxvY1syOiBzcG90LnNoYXBlWzBdIC0gNV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGRhdGV0aW1lPXNwb3Quc3RhcnRkYXRldGltZS5pbG9jWzI6IHNwb3Quc2hhcGVbMF0gLSA1XSkKICAgICAgICByZXR1cm4gb3V0cHV0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY29sbGVjdF9rcGlfdW5pdChzcG90LCBrcGksIGluZGV4LCBsZW4pOgogICAgdHJ5OgogICAgICAgIHBvc3Rfc3RhcnQgPSBzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdCiAgICAgICAgcG9zdF9lbmQgPSBwb3N0X3N0YXJ0ICsgZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9bGVuKQogICAgICAgIHByZV9zdGFydCA9IHBvc3Rfc3RhcnQgLSBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIHByZV9lbmQgPSBwb3N0X3N0YXJ0CgogICAgICAgIHBvc3QgPSBsaXN0KGtwaS5rcGkubG9jWyhrcGkubWludXRlID49IHBvc3Rfc3RhcnQpICYgKGtwaS5taW51dGUgPCBwb3N0X2VuZCldKQogICAgICAgIHByZSA9IGxpc3Qoa3BpLmtwaS5sb2NbKGtwaS5taW51dGUgPj0gcHJlX3N0YXJ0KSAmIChrcGkubWludXRlIDwgcHJlX2VuZCldKQogICAgICAgIHJlcyA9IHBvc3QgKyBwcmUKICAgICAgICBpZiAocmVzLl9fbGVuX18oKSAhPSA0KToKICAgICAgICAgICAgcmVzID0gWzBdICogNAogICAgICAgIHJldHVybiByZXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5jb2xsZWN0X2twaV91bml0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgaXRlcmF0ZV9kdW1teV9vdmVybGFwcGluZyhkZik6CiAgICB0cnk6CiAgICAgICAgaW5kZXhfc3RhcnQgPSBucC53aGVyZShbYm9vbChyZS5zZWFyY2goInN0YXRpb24iLCBpKSkgZm9yIGkgaW4gZGYuY29sdW1uc10pWzBdWzBdCiAgICAgICAgaW5kZXhfZW5kID0gbnAud2hlcmUoW2Jvb2wocmUuc2VhcmNoKCJzdGF0aW9uIiwgaSkpIGZvciBpIGluIGRmLmNvbHVtbnNdKVswXVstMV0KCiAgICAgICAgb3ZlcmxhcHBpbmdfcHJlID0gcGQuRGF0YUZyYW1lKFtkdW1teV9vdmVybGFwcGluZyhkZiwgeCwgaW5kZXhfc3RhcnQsIGluZGV4X2VuZCwgcHJlcG9zdD1UcnVlKSBmb3IgeCBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSldKQogICAgICAgIG92ZXJsYXBwaW5nX3Bvc3QgPSBwZC5EYXRhRnJhbWUoW2R1bW15X292ZXJsYXBwaW5nKGRmLCB4LCBpbmRleF9zdGFydCwgaW5kZXhfZW5kLCBwcmVwb3N0PUZhbHNlKSBmb3IgeCBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSldKQogICAgICAgIG92ZXJsYXBwaW5nX3ByZS5jb2x1bW5zID0gWydwcmVfJyArIHggZm9yIHggaW4gb3ZlcmxhcHBpbmdfcHJlLmNvbHVtbnNdCiAgICAgICAgb3ZlcmxhcHBpbmdfcG9zdC5jb2x1bW5zID0gWydwb3N0XycgKyB4IGZvciB4IGluIG92ZXJsYXBwaW5nX3Bvc3QuY29sdW1uc10KCiAgICAgICAgZGYgPSBwZC5jb25jYXQoW2RmLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSksIG92ZXJsYXBwaW5nX3ByZS5yZXNldF9pbmRleChkcm9wPVRydWUpLCBvdmVybGFwcGluZ19wb3N0LnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSldLCBheGlzPTEpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkZiA9IGRmLmRyb3AoWydwb3N0X3N0YXRpb25ub25lJywgJ3ByZV9zdGF0aW9ubm9uZSddLCBheGlzPTEpICMgYWRkZWQgZHVyaW5nIGRlYnVnIHNpbmNlIHRoZXNlIGNvbHVtbnMgYXJlIGZvdW5kLiAgdGhleSBtYXkgYmUgcmVtb3ZlZCBieSBlYXJsaWVyIGNvZGUKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICByZXR1cm4gZGYKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuaXRlcmF0ZV9kdW1teV9vdmVybGFwcGluZykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLml0ZXJhdGVfZHVtbXlfb3ZlcmxhcHBpbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBkdW1teV9vdmVybGFwcGluZyhkZiwgaW5kZXgsIHN0YXJ0LCBlbmQsIHByZXBvc3Q9VHJ1ZSk6CiAgICB0cnk6CiAgICAgICAgaWYgcHJlcG9zdCBpcyBUcnVlOgogICAgICAgICAgICBzdGFydF90aW1lID0gZGYuc3RhcnRkYXRldGltZXJvdW5kZWQuaWxvY1tpbmRleF0KICAgICAgICAgICAgdGVtcCA9IGRmWyhkZi5zdGFydGRhdGV0aW1lcm91bmRlZCA+PSBzdGFydF90aW1lIC0gZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9MSkpICYgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgc3RhcnRfdGltZSldCiAgICAgICAgICAgIHJlcyA9IHRlbXAuaWxvY1s6LCBzdGFydDplbmQrMV0uYXBwbHkobnAuc3VtLCBheGlzPTApCiAgICAgICAgICAgIHJldHVybiByZXMuZmlsbG5hKDApIAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBkZi5zdGFydGRhdGV0aW1lcm91bmRlZC5pbG9jW2luZGV4XQogICAgICAgICAgICB0ZW1wID0gZGZbKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IHN0YXJ0X3RpbWUpICYgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgc3RhcnRfdGltZSArIGRhdGV0aW1lLnRpbWVkZWx0YShtaW51dGVzPTEpKV0KICAgICAgICAgICAgcmVzID0gdGVtcC5pbG9jWzosIHN0YXJ0OmVuZCsxXS5hcHBseShucC5zdW0sIGF4aXM9MCkgLSBkZi5pbG9jW2luZGV4LCBzdGFydDplbmQrMV0KICAgICAgICAgICAgcmV0dXJuIHJlcy5maWxsbmEoMCkgCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZHVtbXlfb3ZlcmxhcHBpbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5kdW1teV9vdmVybGFwcGluZykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGV2YWxfZXJyb3IocHJlZGljdGlvbnMsIGFjdHVhbHMsIG1ldHJpYz0nbWFwZScpOgogICAgdHJ5OgogICAgICAgIGlmIChtZXRyaWMgPT0gJ21hcGUnKToKICAgICAgICAgICAgcmVzdWx0ID0gbnAubWVhbihhYnMoKHByZWRpY3Rpb25zLmxvY1thY3R1YWxzICE9IDBdIC0gYWN0dWFscy5sb2NbYWN0dWFscyAhPSAwXSkgLyBhY3R1YWxzLmxvY1thY3R1YWxzICE9IDBdKSkKICAgICAgICBlbGlmIChtZXRyaWMgPT0gJ3Jtc2UnKToKICAgICAgICAgICAgcmVzdWx0ID0gbnAuc3FydChucC5tZWFuKChwcmVkaWN0aW9ucyAtIGFjdHVhbHMpICoqIDIpKQogICAgICAgIHJldHVybiByZXN1bHQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5ldmFsX2Vycm9yKSBFUlJPUjoge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuZXZhbF9lcnJvcikgRVJST1I6IHtlfSIpCgoKCmRlZiBwcm9jZXNzX3Nwb3RfZm9ybWF0KHNwb3QpOgogICAgdHJ5OgogICAgICAgIHNwb3RbJ2luZGV4J10gPSByYW5nZShzcG90LnNoYXBlWzBdKQogICAgICAgIHNwb3QgPSBzcG90W3Nwb3RbJ3N0YXRpb24nXSAhPSAnbm9uZSddCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLnByb2Nlc3Nfc3BvdF9mb3JtYXQpIFNwb3QgTW9kaWZpZWQiKQogICAgICAgIHJldHVybiBzcG90CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMucHJvY2Vzc19zcG90X2Zvcm1hdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByb2Nlc3Nfc3BvdF9mb3JtYXQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBtZXJnZV9zcG90X2RhdGEoeGJnTGlmdF9saXN0LCBzcG90LCB3aXRoX2ltcHJlc3Npb24pOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90X2RhdGEpIFhHQkxpZnQgTW9kaWZpZWQiKQogICAgICAgIGlmIHdpdGhfaW1wcmVzc2lvbjoKICAgICAgICAgICAgeGJnTGlmdF9saXN0ID0gW2kuZHJvcChbJ3N0YXRpb24nLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnaXNjaV8yMCcsICdidXlfY29kZXMnXSwgYXhpcz0xKS5tZXJnZSgKICAgICAgICAgICAgICAgIHNwb3RbWydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdsZW5ndGgnLCAnc3RhdGlvbicsICdpbmRleF9pZCcsICdwcm9kdWN0X25hbWUnLCAncHJvZ3JhbScsICdpc2NpXzIwJywgJ2J1eV9jb2RlcyddXSwKICAgICAgICAgICAgICAgIGhvdz0nbGVmdCcsCiAgICAgICAgICAgICAgICBsZWZ0X29uPVsnZGF0ZScsICdpbmRleF9pZCddLAogICAgICAgICAgICAgICAgcmlnaHRfb249WydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdpbmRleF9pZCddKSBmb3IgaSBpbiB4YmdMaWZ0X2xpc3RdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgeGJnTGlmdF9saXN0ID0gW2kuZHJvcChbJ3N0YXRpb24nLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnaXNjaV8yMCcsICdidXlfY29kZXMnXSwgYXhpcz0xKS5tZXJnZSgKICAgICAgICAgICAgICAgIHNwb3RbWydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdsZW5ndGgnLCAnc3RhdGlvbicsICdkYXlwYXJ0JywgJ2ltcHJlc3Npb25zJywgJ2luZGV4X2lkJywgJ3Byb2R1Y3RfbmFtZScsICdwcm9ncmFtJywKICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCcsICdidXlfY29kZXMnXV0sCiAgICAgICAgICAgICAgICBob3c9J2xlZnQnLAogICAgICAgICAgICAgICAgbGVmdF9vbj1bJ2RhdGUnLCAnaW5kZXhfaWQnXSwKICAgICAgICAgICAgICAgIHJpZ2h0X29uPVsnc3RhcnRkYXRldGltZXJvdW5kZWQnLCAnaW5kZXhfaWQnXSkgZm9yIGkgaW4geGJnTGlmdF9saXN0XQogICAgICAgIHhiZ0xpZnRfbGlzdCA9IFtpLmRyb3AoJ2luZGV4X2lkJywgYXhpcz0xKSBmb3IgaSBpbiB4YmdMaWZ0X2xpc3RdCiAgICAgICAgcmV0dXJuICh4YmdMaWZ0X2xpc3QpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdF9kYXRhKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdF9kYXRhKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBpbnNlcnRfd2luZG93c3RhdHNfY29sdW1ucyhsaXN0X2RmLCBhZGRfaW5mbyk6CiAgICB0cnk6CiAgICAgICAgZGVmIGNvbXB1dGVfbGlmdCh4LCBhZGRfaW5mbyk6CiAgICAgICAgICAgIHhbJ3BfdmFsdWUnXSA9IGFkZF9pbmZvWydwX3ZhbHVlJ10KICAgICAgICAgICAgeFsncG9zaXRpdmVfbGlmdCddID0gYWRkX2luZm9bJ2xpZnRfdHlwZSddCiAgICAgICAgICAgIGNvbHVtbk9yZGVyID0gWydkYXRlJywgJ3N0YXRpb24nLCAnaXNjaV8yMCcsICdsaWZ0JywgJ25ldF9yYXRlJywgJ2ltcHJlc3Npb25zJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJywgJ3ByZWRpY3Rpb24nLCAncHJlX2twaScsICdkYXlwYXJ0JywgJ2xlbmd0aCcsICdwX3ZhbHVlJywgJ3Bvc2l0aXZlX2xpZnQnLAogICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnYnV5X2NvZGVzJ10KICAgICAgICAgICAgcmV0dXJuIHhbY29sdW1uT3JkZXJdCiAgICAgICAgbGlzdF9kZiA9IFtjb21wdXRlX2xpZnQoeCwgYWRkX2luZm8pIGZvciB4IGluIGxpc3RfZGZdCiAgICAgICAgcmV0dXJuIGxpc3RfZGYKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5pbnNlcnRfd2luZG93c3RhdHNfY29sdW1ucykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmluc2VydF93aW5kb3dzdGF0c19jb2x1bW5zKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBmb3JtYXRfc3BvdChsaXN0X2RmLCBydW5fZGF0ZXRpbWUsIGNsaWVudF9uYW1lLCBrcGlfaW5kZXgsIGtwaV9kZXNjcmlwdGlvbiwgbWFya2V0LCBpdGVyYXRpb24pOgogICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZV9oZWxwZXJzLmZvcm1hdFNwb3QpIFVwZGF0aW5nIFNwb3QgRmlsZXMnKQoKICAgIGRlZiB1cGRhdGVTcG90KHgsIGl0ZXJhdGlvbik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB4ID0geC5hc3NpZ24ocnVuX2RhdGV0aW1lPXJ1bl9kYXRldGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uPWl0ZXJhdGlvbisxLAogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfbmFtZT1jbGllbnRfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAga3BpX2luZGV4PWtwaV9pbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgaXNjaV8yMD1bcmUuc3ViKCJpc2NpXzIwIiwgIiIsIGkpIGZvciBpIGluIHguaXNjaV8yMF0sCiAgICAgICAgICAgICAgICAgICAgICAgIHBfdmFsdWU9W3JvdW5kKHAsIDQpIGZvciBwIGluIHgucF92YWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9kZXNjcmlwdGlvbj1rcGlfZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtldD1tYXJrZXQpCiAgICAgICAgICAgIHggPSB4Lmlsb2NbOiwgc29ydGVkKFt4LmNvbHVtbnMuZ2V0X2xvYyhjKSBmb3IgYyBpbiBsaXN0KHNldCh4LmNvbHVtbnMpIC0gc2V0KFsncHJvZ3JhbScsICdidXlfY29kZXMnXSkpXSkgKyBbeC5jb2x1bW5zLmdldF9sb2MoJ3Byb2dyYW0nKV0gKyBbeC5jb2x1bW5zLmdldF9sb2MoJ2J1eV9jb2RlcycpXV0KICAgICAgICAgICAgcmV0dXJuIHguZmlsbG5hKCIiKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMudXBkYXRlU3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMudXBkYXRlU3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICB0cnk6CiAgICAgICAgdXBkYXRlX2RmID0gW3VwZGF0ZVNwb3QobGlzdF9kZltpXSwgaSkgZm9yIGkgaW4gcmFuZ2UoaXRlcmF0aW9uKV0KICAgICAgICByZXR1cm4gdXBkYXRlX2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZm9ybWF0X3Nwb3QpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5mb3JtYXRfc3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgCiAgICAgICAgCmRlZiB0aW1lc190b19leGNsdWRlKGRmKToKICAgIHRpbWVzX3RvX2V4Y2x1ZGVfbGlzdCA9IFtdCiAgICBzdGFydF90aW1lX2xpc3QgPSBbXQogICAgCiAgICBmb3Igc3RhcnRfdGltZSBpbiBsaXN0KGRmWydzdGFydGRhdGV0aW1lcm91bmRlZCddKToKICAgICAgICB0aW1lc190b19leGNsdWRlX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUpCiAgICAgICAgdGltZXNfdG9fZXhjbHVkZV9saXN0LmFwcGVuZChzdGFydF90aW1lICsgdGltZWRlbHRhKG1pbnV0ZXMgPSAxKSkgICAgICAgICAgICAgICAKICAgICAgICB0aW1lc190b19leGNsdWRlX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUgKyB0aW1lZGVsdGEobWludXRlcyA9IDIpKQogICAgICAgIAogICAgICAgIHN0YXJ0X3RpbWVfbGlzdC5hcHBlbmQoc3RhcnRfdGltZSkKICAgICAgICBzdGFydF90aW1lX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUpCiAgICAgICAgc3RhcnRfdGltZV9saXN0LmFwcGVuZChzdGFydF90aW1lKQogICAgICAgIAogICAgc3BvdHNfZGYgPSBwZC5EYXRhRnJhbWUoIHRpbWVzX3RvX2V4Y2x1ZGVfbGlzdCAsIGNvbHVtbnMgPSBbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgc3BvdHNfZGZbJ3N0YXJ0X3RpbWUnXSA9IHN0YXJ0X3RpbWVfbGlzdAogICAgc3BvdHNfZGZbJ3dfc3BvdCddID0gMQogICAgc3BvdHNfZGZbJ3RpbWVfdG9fZXhjbHVkZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdHNfZGZbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgc3BvdHNfZGZbJ3N0YXJ0X3RpbWUnXSA9IHBkLnRvX2RhdGV0aW1lKHNwb3RzX2RmWydzdGFydF90aW1lJ10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICByZXR1cm4gc3BvdHNfZGYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKZGVmIHRoaXJ0eV9taW5fdG9fcmVtb3ZlKGRmKToKICAgIHRoaXJ0eV9taW5fcmVtb3ZlcyA9IHBkLkRhdGFGcmFtZShkZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMzBUJyxrZXk9J3RpbWVfdG9fZXhjbHVkZScpKVsnd19zcG90J10uc3VtKCkpCiAgICB0aGlydHlfbWluX3JlbW92ZXNbJzMwX21pbl9idWNrZXQnXSA9IHBkLnRvX2RhdGV0aW1lKHRoaXJ0eV9taW5fcmVtb3Zlcy5pbmRleCkKICAgIHRoaXJ0eV9taW5fcmVtb3Zlcy5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICB0aGlydHlfbWluX3JlbW92ZXMgPSB0aGlydHlfbWluX3JlbW92ZXNbdGhpcnR5X21pbl9yZW1vdmVzWyd3X3Nwb3QnXT4wXQogICAgdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QgPSB0aGlydHlfbWluX3JlbW92ZXNbJzMwX21pbl9idWNrZXQnXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgCiAgICByZXR1cm4gdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QKCg==\\\\\\\",\\\\\\\"5341241\\\\\\\":\\\\\\\"UzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRSA9IE5vbmUKUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UgPSBOb25lClMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTyA9IE5vbmUKClNFQ1JFVF9OQU1FID0gTm9uZQpSRUdJT05fTkFNRSA9IE5vbmUKQVdTX0FDQ0VTU19LRVlfSUQgPSBOb25lCkFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IE5vbmUKUzMgPSBOb25lCkFUSEVOQV9DTElFTlQgPSBOb25lCkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gTm9uZQpSRURTSElGVF9DT05OID0gTm9uZQpRVUVSWV9CVUNLRVQgPSBOb25lCkFUSEVOQV9EQVRBQkFTRSA9IE5vbmUKClNQT1REQVRBX1NPVVJDRSA9ICdtZWRpYV9vY2Vhbl9kYXRhJw==\\\\\\\",\\\\\\\"4849686\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IGRhdGV0aW1lCmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgcmUKaW1wb3J0IHBlcmZvcm1hbmNlCmZyb20gc3lzIGltcG9ydCBleGNfaW5mbwppbXBvcnQgb3MKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBjb25maWcKaW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIGlvIGltcG9ydCBCeXRlc0lPCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQoKIyBTM19UQVJHRVRfQlVDS0VUX1BFUkZPUk1BTkNFX0RFViA9ICd0bi1kYXRhbGFrZS1hdHRyaWJ1dGlvbi10dm8nCiMgUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRSA9ICd0bi1kYXRhbGFrZS1hdHRyaWJ1dGlvbicKIyBTM19UQVJHRVRfQlVDS0VUX09QVElNSVpBVElPTl9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwojIFMzX1RBUkdFVF9CVUNLRVRfT1BUSU1JWkFUSU9OID0gJ3RuLWRhdGFsYWtlLWF0dHJpYnV0aW9uJwojIFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFID0gInR2by9wZXJmb3JtYW5jZSIKIyBTM19UQVJHRVRfUEFUSF9PUFRJTUlaQVRJT04gPSAidHZvL29wdGltaXphdGlvbiIKCiMgUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRV9MRUdBQ1kgPSAndG4tZGF0YWxha2UnCiMgUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZID0gJ3RuLXNwb3RhLXJlY29tbWVuZGF0aW9uJwojIFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX0xFR0FDWSA9ICJleHRlcm5hbC9zcG90YXR0cmlidXRpb25yZXN1bHRzX2Nzdi9icmV4aXQvYWdncmVnYXRlIgojIFMzX1RBUkdFVF9QQVRIX09QVElNSVpBVElPTl9MRUdBQ1kgPSAiYnJleGl0L29wdGltaXphdGlvbiIKCiMgZGVmIHVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKGlucHV0X2ZpbGVuYW1lLCBjbGllbnRfbmFtZSwga3BpX2luZGV4LCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgYnJhbmNoKToKIyAgICAgdHJ5OgojICAgICAgICAgaWYgYnJhbmNoLmxvd2VyKCkgPT0gImRldiI6CiMgICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IFMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0VfREVWCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQojICAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKIyAgICAgICAgICAgICAjIExFR0FDWS9HTElUQ0g6IHMzX3VwbG9hZF9wYXRoID0gUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0VfTEVHQUNZCiMgICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFCiMgICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IFMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0VfTEVHQUNZCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRV9MRUdBQ1kKIyAgICAgICAgIGVsc2U6CiMgICAgICAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IEludmFsaWQgQnJhbmNoIHByb3ZpZGVkIGZvciBTMyBVcGxvYWQgUGF0aCcpCiMgICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiMgICAgICAgICBzM19yZXNvdXJjZSA9IGJvdG8zLnJlc291cmNlKCdzMycpCgojICAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0ve2NsaWVudF9uYW1lfS97a3BpX2luZGV4fS97c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS55ZWFyKX0ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykubW9udGgpfSIKIyAgICAgICAgIGZpbGVuYW1lX2luX3MzID0gZiJ7ZmlsZXBhdGh9L3R2X3BlcmZvcm1hbmNlX3tjbGllbnRfbmFtZX1fa3Bpe2twaV9pbmRleH1fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKIyAgICAgICAgIHMzX2ZpbGVuYW1lID0gc3RyKGZpbGVuYW1lX2luX3MzKQojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBQYXRoOiB7czNfZmlsZW5hbWV9JykKIyAgICAgICAgIHMzX3Jlc291cmNlLm1ldGEuY2xpZW50LnVwbG9hZF9maWxlKGlucHV0X2ZpbGVuYW1lLCBvdXRwdXRfczNfYnVja2V0LCBzM19maWxlbmFtZSkKCiMgICAgICAgICBsb2dnZXIuaW5mbygnKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBVcGxvYWQgb2YgUGVyZm9ybWFuY2UgUmVzdWx0cyBDb21wbGV0ZScpCiMgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoc3lzLmV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQojICAgICAgICAgc3lzLmV4aXQoMSkKCgpkZWYgdXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2VfdHZvMl9mb3JtYXQoaW5wdXRfZmlsZSwgY2xpZW50X25hbWUsIGtwaV9pbmRleCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGJyYW5jaCk6CiAgICB0cnk6CiAgICAgICAgaWYgYnJhbmNoLmxvd2VyKCkgPT0gImRldiI6CiAgICAgICAgICAgIG91dHB1dF9zM19idWNrZXQgPSBjb25maWcuUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRQogICAgICAgICAgICBzM191cGxvYWRfcGF0aCA9IGNvbmZpZy5TM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQogICAgICAgIGVsaWYgYnJhbmNoLmxvd2VyKCkgPT0gIm1hc3RlciI6CiAgICAgICAgICAgICMgTEVHQUNZL0dMSVRDSDogczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRV9MRUdBQ1kKICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFCiAgICAgICAgICAgIG91dHB1dF9zM19idWNrZXQgPSBjb25maWcuUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRQogICAgICAgICAgICBzM191cGxvYWRfcGF0aCA9IGNvbmZpZy5TM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBJbnZhbGlkIEJyYW5jaCBwcm92aWRlZCBmb3IgUzMgVXBsb2FkIFBhdGgnKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKCiAgICAgICAgCiAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0vYWR2ZXJ0aXNlcl9uYW1lPXtjbGllbnRfbmFtZX0va3BpX2luZGV4PXtrcGlfaW5kZXh9L3lyPXtzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLnllYXIpfS9tbz17c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS5tb250aCl9L2RkPXtzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLmRheSl9IgogICAgICAgIGZpbGVuYW1lX2luX3MzID0gZiJ7ZmlsZXBhdGh9L3R2X3BlcmZvcm1hbmNlX3tjbGllbnRfbmFtZX1fa3Bpe2twaV9pbmRleH1fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKICAgICAgICBzM19maWxlbmFtZSA9IHN0cihmaWxlbmFtZV9pbl9zMykKCiAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBQYXRoOiB7czNfZmlsZW5hbWV9JykKICAgICAgICBvdXRwdXQgPSBCeXRlc0lPKCkKICAgICAgICBwZC5EYXRhRnJhbWUoaW5wdXRfZmlsZSkudG9fY3N2KG91dHB1dCwgbW9kZT0nd2InLCBlbmNvZGluZz0nVVRGLTgnLCBpbmRleD1GYWxzZSkKICAgICAgICBvdXRwdXQuc2VlaygwKQogICAgICAgIGNvbmZpZy5TMy51cGxvYWRfZmlsZW9iaihvdXRwdXQsIG91dHB1dF9zM19idWNrZXQsIHMzX2ZpbGVuYW1lKQoKCiAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgVXBsb2FkIG9mIFBlcmZvcm1hbmNlIFJlc3VsdHMgQ29tcGxldGUnKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAKCmRlZiB1cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZV90dm9fZm9ybWF0KGlucHV0X2ZpbGUsIGNsaWVudF9uYW1lLCBrcGlfaW5kZXgsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBicmFuY2gpOgogICAgdHJ5OgogICAgICAgIGlmIGJyYW5jaC5sb3dlcigpID09ICJkZXYiOgogICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gY29uZmlnLlMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0UKICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBjb25maWcuUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0VfVFZPCiAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKICAgICAgICAgICAgIyBMRUdBQ1kvR0xJVENIOiBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX0xFR0FDWQogICAgICAgICAgICAjIEFGVEVSIEdMSVRDSDogIHMzX3VwbG9hZF9wYXRoID0gUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UKICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IGNvbmZpZy5TM19UQVJHRVRfQlVDS0VUX1BFUkZPUk1BTkNFCiAgICAgICAgICAgIHMzX3VwbG9hZF9wYXRoID0gY29uZmlnLlMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBJbnZhbGlkIEJyYW5jaCBwcm92aWRlZCBmb3IgUzMgVXBsb2FkIFBhdGgnKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKCiAgICAgICAgCiAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0ve2NsaWVudF9uYW1lfS97c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS55ZWFyKX0ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykubW9udGgpfSIKICAgICAgICBmaWxlbmFtZV9pbl9zMyA9IGYie2ZpbGVwYXRofS90dl9wZXJmb3JtYW5jZV97Y2xpZW50X25hbWV9X2twaXtrcGlfaW5kZXh9X3tzdGFydF9kYXRlLnNwbGl0KCcgJylbMF19X3tlbmRfZGF0ZS5zcGxpdCgnICcpWzBdfS5jc3YiCiAgICAgICAgczNfZmlsZW5hbWUgPSBzdHIoZmlsZW5hbWVfaW5fczMpCgogICAgICAgIGxvZ2dlci5pbmZvKGYnKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBVcGxvYWQgUGF0aDoge3MzX2ZpbGVuYW1lfScpCiAgICAgICAgb3V0cHV0ID0gQnl0ZXNJTygpCiAgICAgICAgcGQuRGF0YUZyYW1lKGlucHV0X2ZpbGUpLnRvX2NzdihvdXRwdXQsIG1vZGU9J3diJywgZW5jb2Rpbmc9J1VURi04JywgaW5kZXg9RmFsc2UpCiAgICAgICAgb3V0cHV0LnNlZWsoMCkKICAgICAgICBjb25maWcuUzMudXBsb2FkX2ZpbGVvYmoob3V0cHV0LCBvdXRwdXRfczNfYnVja2V0LCBzM19maWxlbmFtZSkKCgogICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBvZiBQZXJmb3JtYW5jZSBSZXN1bHRzIENvbXBsZXRlJykKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCiMgZGVmIHVwbG9hZF9maWxlX3MzX29wdGltaXphdGlvbihpbnB1dF9maWxlbmFtZSwgY2xpZW50X25hbWUsIGtwaV9pbmRleCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHNjZW5hcmlvLCBicmFuY2gpOgojICAgICB0cnk6CiMgICAgICAgICBpZiBicmFuY2gubG93ZXIoKSA9PSAiZGV2IjoKIyAgICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fREVWCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSAgIFMzX1RBUkdFVF9QQVRIX09QVElNSVpBVElPTgojICAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKIyAgICAgICAgICAgICAjIExFR0FDWS9HTElUQ0g6IHMzX3VwbG9hZF9wYXRoID0gZiJ7UzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZfS97UzNfVEFSR0VUX1BBVEhfT1BUSU1JWkFUSU9OX0xFR0FDWX0iCiMgICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IGYie1MzX1RBUkdFVF9CVUNLRVRfT1BUSU1JWkFUSU9OfS97UzNfVEFSR0VUX1BBVEhfT1BUSU1JWkFUSU9OfSIKIyAgICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9PUFRJTUlaQVRJT05fTEVHQUNZCiMgICAgICAgICBlbHNlOgojICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKIyAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgIHMzX3Jlc291cmNlID0gYm90bzMucmVzb3VyY2UoJ3MzJykKCiMgICAgICAgICBmaWxlcGF0aCA9IGYie3MzX3VwbG9hZF9wYXRofS97Y2xpZW50X25hbWV9L3trcGlfaW5kZXh9L3tzY2VuYXJpb30ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykueWVhcil9L3tzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLm1vbnRoKX0iCiMgICAgICAgICBmaWxlbmFtZV9pbl9zMyA9IGYie2ZpbGVwYXRofS90dl9vcHRpbWl6YXRpb25fe2NsaWVudF9uYW1lfV9rcGl7a3BpX2luZGV4fV9zY2VuYXJpb3tzY2VuYXJpb31fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKIyAgICAgICAgIHMzX2ZpbGVuYW1lID0gc3RyKGZpbGVuYW1lX2luX3MzKQojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBVcGxvYWQgUGF0aDoge3MzX2ZpbGVuYW1lfScpCiMgICAgICAgICBzM19yZXNvdXJjZS5tZXRhLmNsaWVudC51cGxvYWRfZmlsZShpbnB1dF9maWxlbmFtZSwgb3V0cHV0X3MzX2J1Y2tldCwgczNfZmlsZW5hbWUpCgojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBVcGxvYWQgb2YgT3B0aW1pemF0aW9uIFJlc3VsdHMgZm9yIFNjZW5hcmlvIHtzY2VuYXJpb30gQ29tcGxldGUnKQojICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiMgICAgICAgICBsb2dnZXIuZXJyb3IoZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBFUlJPUjogTGluZToge2Zvcm1hdChzeXMuZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiMgICAgICAgICBzeXMuZXhpdCgxKQoKCiMgZGVmIHJlbW92ZV9vbGRfZmlsZXMoKToKIyAgICAgdHJ5OgojICAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy5yZW1vdmVfb2xkX2ZpbGVzKSBSZW1vdmluZyBvbGQgZmlsZXMnKQojICAgICAgICAgIyBkZWxldGUgZXhpc3RpbmcgZ3ogZmlsZXMKIyAgICAgICAgIGRpcmVjdG9yeSA9ICIuIgojICAgICAgICAgZmlsZXNfaW5fZGlyZWN0b3J5ID0gb3MubGlzdGRpcihkaXJlY3RvcnkpCiMgICAgICAgICBmaWx0ZXJlZF9maWxlcyA9IFtmaWxlIGZvciBmaWxlIGluIGZpbGVzX2luX2RpcmVjdG9yeSBpZiBmaWxlLmVuZHN3aXRoKCIuZ3oiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIGNzdiBmaWxlcwojICAgICAgICAgZGlyZWN0b3J5ID0gIi4iCiMgICAgICAgICBmaWxlc19pbl9kaXJlY3RvcnkgPSBvcy5saXN0ZGlyKGRpcmVjdG9yeSkKIyAgICAgICAgIGZpbHRlcmVkX2ZpbGVzID0gW2ZpbGUgZm9yIGZpbGUgaW4gZmlsZXNfaW5fZGlyZWN0b3J5IGlmIGZpbGUuZW5kc3dpdGgoIi5jc3YiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIG91dHB1dF9hZ2dyZWdhdGVkX2xpZnRfZGF0YSBmaWxlCiMgICAgICAgICBkaXJlY3RvcnkgPSAiLiIKIyAgICAgICAgIGZpbGVzX2luX2RpcmVjdG9yeSA9IG9zLmxpc3RkaXIoZGlyZWN0b3J5KQojICAgICAgICAgZmlsdGVyZWRfZmlsZXMgPSBbZmlsZSBmb3IgZmlsZSBpbiBmaWxlc19pbl9kaXJlY3RvcnkgaWYgZmlsZS5zdGFydHN3aXRoKCJvdXRwdXRfYWdncmVnYXRlZF9saWZ0X2RhdGEiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIGFnZ3JlZ2F0ZWRfbGlmdF9kYXRhIGZpbGUKIyAgICAgICAgIGRpcmVjdG9yeSA9ICIuIgojICAgICAgICAgZmlsZXNfaW5fZGlyZWN0b3J5ID0gb3MubGlzdGRpcihkaXJlY3RvcnkpCiMgICAgICAgICBmaWx0ZXJlZF9maWxlcyA9IFtmaWxlIGZvciBmaWxlIGluIGZpbGVzX2luX2RpcmVjdG9yeSBpZiBmaWxlLnN0YXJ0c3dpdGgoImFnZ3JlZ2F0ZWRfbGlmdF9kYXRhIildCiMgICAgICAgICBmb3IgZmlsZSBpbiBmaWx0ZXJlZF9maWxlczoKIyAgICAgICAgICAgICBwYXRoX3RvX2ZpbGUgPSBvcy5wYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKQojICAgICAgICAgICAgIHRyeToKIyAgICAgICAgICAgICAgICAgb3MucmVtb3ZlKHBhdGhfdG9fZmlsZSkKIyAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiMgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy5yZW1vdmVfb2xkX2ZpbGVzKSBFUlJPUjogTGluZToge2Zvcm1hdChzeXMuZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiMgICAgICAgICAgICAgICAgIGlmICJiZWluZyB1c2VkIGJ5IGFub3RoZXIgcHJvY2VzcyIgaW4gc3RyKGUpOgojICAgICAgICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkKIyAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgojICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgIGlmICJiZWluZyB1c2VkIGJ5IGFub3RoZXIgcHJvY2VzcyIgaW4gc3RyKGUpOgojICAgICAgICAgICAgIHN5cy5leGl0KDEpCgoK\\\\\\\",\\\\\\\"4849683\\\\\\\":\\\\\\\"aW1wb3J0IGxvZ2dpbmcKaW1wb3J0IHBzeWNvcGcyCgptZXNfZm9ybWF0ID0gJyUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgJShuYW1lKXM6ICUobWVzc2FnZSlzJwpkYXRfZm9ybWF0ID0gJyVZLSVtLSVkICVIOiVNOiVTJwpsb2dnaW5nLmJhc2ljQ29uZmlnKGZvcm1hdD1tZXNfZm9ybWF0LCBkYXRlZm10PWRhdF9mb3JtYXQpCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCdUVk8gMi4wJykKbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTykK\\\\\\\",\\\\\\\"4849684\\\\\\\":\\\\\\\"aW1wb3J0IGpzb24KaW1wb3J0IGJvdG8zCmltcG9ydCBiYXNlNjQKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCBwc3ljb3BnMgpmcm9tIGJhc2VfbG9nZ2VyIGltcG9ydCBsb2dnZXIKaW1wb3J0IGNvbmZpZwpmcm9tIGlvIGltcG9ydCBCeXRlc0lPCmltcG9ydCBwYW5kYXMgYXMgcGQKCiMjIyMjIyMjIyMjIyBSRVFVSVJFTUVOVFMgIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBzdWRvIGFwdC1nZXQgaW5zdGFsbCBsaWJwcS1kZXYKIyBzdWRvIHBpcCBpbnN0YWxsIHBzeWNvcGcyCiMgc3VkbyBwaXAgaW5zdGFsbCBzcWxhbGNoZW15CiMgc3VkbyBwaXAgaW5zdGFsbCBzcWxhbGNoZW15LXJlZHNoaWZ0CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpkZWYgZ2V0X3JlZHNoaWZ0X3NlY3JldCgpOgogICAgIyBzZWNyZXRfbmFtZSA9ICJjb25uZWN0aW9uLXRuLXJlZHNoaWZ0LXR2by9tdGEiCiAgICAjIHJlZ2lvbl9uYW1lID0gInVzLXdlc3QtMiIKCiAgICAjIGNvbm5lY3RzIHRvIEFXUyBzZWNyZXRzIG1hbmFnZXIgdG8gZ2V0IGNyZWRlbnRpYWxzCiAgICBzZXNzaW9uID0gYm90bzMuc2Vzc2lvbi5TZXNzaW9uKCkKICAgIGNsaWVudCA9IHNlc3Npb24uY2xpZW50KAogICAgICAgIHNlcnZpY2VfbmFtZT0nc2VjcmV0c21hbmFnZXInLCByZWdpb25fbmFtZT1jb25maWcuUkVHSU9OX05BTUUsCiAgICAgICAgICAgIGF3c19hY2Nlc3Nfa2V5X2lkPWNvbmZpZy5BV1NfQUNDRVNTX0tFWV9JRCwKICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkpCgogICAgdHJ5OgogICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2UgPSBjbGllbnQuZ2V0X3NlY3JldF92YWx1ZSgKICAgICAgICAgICAgU2VjcmV0SWQ9Y29uZmlnLlNFQ1JFVF9OQU1FKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJhaXNlIGUKICAgIGVsc2U6CiAgICAgICAgaWYgJ1NlY3JldFN0cmluZycgaW4gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZToKICAgICAgICAgICAgc2VjcmV0ID0gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0U3RyaW5nJ10KICAgICAgICBlbHNlOgogICAgICAgICAgICBkZWNvZGVkX2JpbmFyeV9zZWNyZXQgPSBiYXNlNjQuYjY0ZGVjb2RlKAogICAgICAgICAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0QmluYXJ5J10pCiAgICByZXR1cm4ganNvbi5sb2FkcyhzZWNyZXQpCgoKZGVmIGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKCk6CiAgICAjIGNyZWF0ZXMgZGF0YSBiYXNlIGNvbm5lY3Rpb24gYW5kIHBhc3NlcyBpdCBiYWNrIHRvIGNhbGxlcgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCcoY29ubmVjdGlvbnNfYXdzLmdldF9yZWRzaGlmdF9jb25uZWN0aW9uKSBHZXR0aW5nIERhdGFiYXNlIENvbm5lY3Rpb24nKQogICAgICAgIHNlY3JldHMgPSBnZXRfcmVkc2hpZnRfc2VjcmV0KCkKICAgICAgICBjb25uID0gcHN5Y29wZzIuY29ubmVjdChkYm5hbWU9c2VjcmV0c1snREFUQUJBU0UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0PXNlY3JldHNbJ0hPU1QnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0PXNlY3JldHNbJ1BPUlQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXNlY3JldHNbJ1VTRVInXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1zZWNyZXRzWydQQVNTV09SRCddKQogICAgICAgIHJldHVybiBjb25uCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIGdldHRpbmcgY29ubmVjdGlvbiBkZXRhaWxzOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZidFcnJvciBnZXR0aW5nIGNvbm5lY3Rpb24gZGV0YWlsczogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9JykKCgpkZWYgZ2V0X2F0aGVuYV9jb25uZWN0aW9uKCk6CiAgICBhdGhlbmFfY2xpZW50ID0gYm90bzMuY2xpZW50KAogICAgICAgICdhdGhlbmEnLCAKICAgICAgICByZWdpb25fbmFtZT1jb25maWcuUkVHSU9OX05BTUUsIAogICAgICAgIGF3c19hY2Nlc3Nfa2V5X2lkPWNvbmZpZy5BV1NfQUNDRVNTX0tFWV9JRCwgCiAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkKICAgICkKICAgIHJldHVybiBhdGhlbmFfY2xpZW50CgoKZGVmIHJ1bl9hdGhlbmFfcXVlcnkocXVlcnkpOgogICAgCiAgICBsb2dnZXIuaW5mbyhmJ1N0YXJ0aW5nIEF0aGVuYSBxdWVyeSBleGVjdXRpb24nKQogICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnk6XG57cXVlcnl9JykKICAgIHJlc3BvbnNlID0gY29uZmlnLkFUSEVOQV9DTElFTlQuc3RhcnRfcXVlcnlfZXhlY3V0aW9uKAogICAgICAgIFF1ZXJ5U3RyaW5nPXF1ZXJ5LAogICAgICAgIFF1ZXJ5RXhlY3V0aW9uQ29udGV4dD17J0RhdGFiYXNlJzogY29uZmlnLkFUSEVOQV9EQVRBQkFTRX0sCiAgICAgICAgUmVzdWx0Q29uZmlndXJhdGlvbj17J091dHB1dExvY2F0aW9uJzogY29uZmlnLkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OfSwKICAgICAgICBXb3JrR3JvdXA9J2p1aWNlX2RhdGEnCiAgICApCiAgICAKICAgICMgR2V0IHRoZSBxdWVyeSBleGVjdXRpb24gSUQKICAgIHF1ZXJ5X2V4ZWN1dGlvbl9pZCA9IHJlc3BvbnNlWydRdWVyeUV4ZWN1dGlvbklkJ10KCiAgICAjIFdhaXQgZm9yIHRoZSBxdWVyeSB0byBjb21wbGV0ZQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBxdWVyeV9zdGF0dXMgPSBjb25maWcuQVRIRU5BX0NMSUVOVC5nZXRfcXVlcnlfZXhlY3V0aW9uKFF1ZXJ5RXhlY3V0aW9uSWQ9cXVlcnlfZXhlY3V0aW9uX2lkKQogICAgICAgIHN0YXR1cyA9IHF1ZXJ5X3N0YXR1c1snUXVlcnlFeGVjdXRpb24nXVsnU3RhdHVzJ11bJ1N0YXRlJ10KCiAgICAgICAgaWYgc3RhdHVzIGluIFsnU1VDQ0VFREVEJywgJ0ZBSUxFRCcsICdDQU5DRUxMRUQnXToKICAgICAgICAgICAgYnJlYWsKCiAgICAjIFJldHJpZXZlIGFuZCByZXR1cm4gdGhlIHF1ZXJ5IHJlc3VsdHMgaWYgdGhlIHF1ZXJ5IHN1Y2NlZWRlZAogICAgaWYgc3RhdHVzID09ICdTVUNDRUVERUQnOgojICAgICAgICAgcmVzdWx0cyA9IEFUSEVOQV9DTElFTlQuZ2V0X3F1ZXJ5X3Jlc3VsdHMoUXVlcnlFeGVjdXRpb25JZD1xdWVyeV9leGVjdXRpb25faWQpCiMgICAgICAgICByZXN1bHRzID0gZm9ybWF0X2F0aGVuYV9yZXN1bHRzKHJlc3VsdHMpCiAgICAgICAgczNfcmVzcG9uc2Vfb2JqZWN0ID0gY29uZmlnLlMzLmdldF9vYmplY3QoQnVja2V0PWNvbmZpZy5RVUVSWV9CVUNLRVQsIEtleT1mIntjb25maWcuQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04uc3BsaXQoJy8nKVstMl19L3txdWVyeV9leGVjdXRpb25faWR9LmNzdiIpCiAgICAgICAgb2JqZWN0X2NvbnRlbnQgPSBzM19yZXNwb25zZV9vYmplY3RbJ0JvZHknXS5yZWFkKCkKICAgICAgICByZXN1bHRzID0gcGQucmVhZF9jc3YoQnl0ZXNJTyhvYmplY3RfY29udGVudCkpCiAgICAgICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnkgcmFuIHN1Y2Nlc3NmdWxseScpCiAgICAgICAgcmV0dXJuIHJlc3VsdHMKICAgIGVsaWYgc3RhdHVzID09ICdGQUlMRUQnOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbignUXVlcnkgZnJvbSBBdGhlbmEgZmFpbGVkJykKICAgIAoKZGVmIGNsb3NlX2Nvbm5lY3Rpb25zKCk6CgogICAgY29uZmlnLlJFRFNISUZUX0NPTk4uY2xvc2UoKQogICAgIyBjb25maWcuUzMuY2xvc2UoKQogICAgIyBjb25maWcuQVRIRU5BX0NMSUVOVC5jbG9zZSgpCiAgICBsb2dnZXIuZGVidWcoZidDbG9zZWQgYWxsIGNvbm5lY3Rpb25zJyk=\\\\\\\",\\\\\\\"4849689\\\\\\\":\\\\\\\"aW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCmltcG9ydCBkYXRldGltZQpmcm9tIHNrbGVhcm4ubW9kZWxfc2VsZWN0aW9uIGltcG9ydCBLRm9sZApmcm9tIHNrcmFuZ2VyLmVuc2VtYmxlIGltcG9ydCBSYW5nZXJGb3Jlc3RSZWdyZXNzb3IKZnJvbSBzY2lweS5zdGF0cyBpbXBvcnQgcmFua2RhdGEsIHR0ZXN0X2luZApmcm9tIHhnYm9vc3QgaW1wb3J0IFhHQlJlZ3Jlc3Nvcgpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcmVkdWNlCmZyb20gaXRlcnRvb2xzIGltcG9ydCBjb21wcmVzcwppbXBvcnQga2VuZGFsbF93IGFzIGt3CmltcG9ydCByZQpmcm9tIHN5cyBpbXBvcnQgZXhjX2luZm8KaW1wb3J0IHhnYm9vc3QgYXMgeGdiCmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBpdGVydG9vbHMgaW1wb3J0IHByb2R1Y3QKaW1wb3J0IHdhcm5pbmdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgpyYW5kb20uc2VlZCgyMCkKCnhnYm9vc3RfcGFyYW1ldGVyX2RpY3QgPSB7J29iamVjdGl2ZSc6ICdyZWc6c3F1YXJlZGVycm9yJywKICAgICAgICAnZXZhbF9tZXRyaWMnOiAncm1zZScsCiAgICAgICAgJ2Jvb3N0ZXInOiAnZ2J0cmVlJywKICAgICAgICAnZXRhJzogMC4xLAogICAgICAgICdtYXhfZGVwdGgnOiA0LAogICAgICAgICdjb2xzYW1wbGVfYnl0cmVlJzogMSwKICAgICAgICAnbnRocmVhZCc6IDR9CgpkZWYgYWdncmVnYXRlX2xpZnQobGlzdF9kZiwgY3JlYXRpdmVfZGYsIHRvbCk6CiAgICB0cnk6CiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS5hZ2dyZWdhdGVfbGlmdCkgQWdncmVnYXRpbmcgTGlmdCBEYXRhJykKCiAgICAgICAgbWFwcGluZ1RhYmxlID0gY3JlYXRpdmVfZGYKICAgICAgICBpZiBtYXBwaW5nVGFibGUuc2hhcGVbMF0gPT0gMDoKICAgICAgICAgICAgbGlzdF9kZiA9IFtkZi5hc3NpZ24odGl0bGU9ZGZbJ2lzY2lfMjAnXSwgbmFtZT1kZlsnaXNjaV8yMCddKSBmb3IgZGYgaW4gbGlzdF9kZl0KCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWFwcGluZ1RhYmxlWydsZW5ndGgnXSA9IG1hcHBpbmdUYWJsZVsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgbGlzdF9kZl90ZW1wID0gW10KICAgICAgICAgICAgZm9yIGRmIGluIGxpc3RfZGY6CiAgICAgICAgICAgICAgICBkZlsnbGVuZ3RoJ10gPSBkZlsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgICAgIGRmX3RlbXAgPSBkZi5tZXJnZShtYXBwaW5nVGFibGUsIG9uPVsnaXNjaV8yMCcsICdsZW5ndGgnXSwgaG93PSdsZWZ0JykKICAgICAgICAgICAgICAgIGlmICd0aXRsZScgbm90IGluIGRmX3RlbXA6CiAgICAgICAgICAgICAgICAgICAgZGZfdGVtcFsndGl0bGUnXSA9IG5wLm5hbgogICAgICAgICAgICAgICAgaWYgJ25hbWUnIG5vdCBpbiBkZl90ZW1wOgogICAgICAgICAgICAgICAgICAgIGRmX3RlbXBbJ25hbWUnXSA9IG5wLm5hbgogICAgICAgICAgICAgICAgZGZpID0gZGZfdGVtcC5hc3NpZ24odGl0bGU9bnAud2hlcmUoZGZfdGVtcC50aXRsZS5pc25hKCksIGRmX3RlbXAuaXNjaV8yMCwgZGZfdGVtcC50aXRsZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9bnAud2hlcmUoZGZfdGVtcC5uYW1lLmlzbmEoKSwgZGZfdGVtcC5pc2NpXzIwLCBkZl90ZW1wLm5hbWUpKSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxpc3RfZGZfdGVtcC5hcHBlbmQoZGZpKQogICAgICAgICAgICBsaXN0X2RmID0gbGlzdF9kZl90ZW1wCgogICAgICAgIGxpZnRfZGYgPSBwZC5jb25jYXQoKGRmWydsaWZ0J10gZm9yIGRmIGluIGxpc3RfZGYpLCBheGlzPTEpCiAgICAgICAgbWVhbl9kZiA9IGxpZnRfZGYubWVhbihheGlzPTEpCiAgICAgICAgc3RkX2RmID0gbGlmdF9kZi5zdGQoYXhpcz0xKQogICAgICAgIGxvd2VyID0gbWVhbl9kZi0xLjYqc3RkX2RmLXRvbAogICAgICAgIHVwcGVyID0gbWVhbl9kZisxLjYqc3RkX2RmK3RvbAoKICAgICAgICBsaWZ0ID0gbGlmdF9kZltsaWZ0X2RmLmFwcGx5KGxhbWJkYSB4OiAoeCA+PSBsb3dlcikgJiAoeCA8PSB1cHBlcikpXS5tZWFuKGF4aXM9MSkgCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgbGlmdC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE1X2xpZnQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgYmFzZWxpbmVfZGYgPSBwZC5jb25jYXQoKGRmWydiYXNlbGluZSddIGZvciBkZiBpbiBsaXN0X2RmKSwgYXhpcz0xKQogICAgICAgIG1lYW5fZGYgPSBiYXNlbGluZV9kZi5tZWFuKGF4aXM9MSkKICAgICAgICBzdGRfZGYgPSBiYXNlbGluZV9kZi5zdGQoYXhpcz0xKQogICAgICAgIGxvd2VyID0gbWVhbl9kZi0xLjYqc3RkX2RmLXRvbAogICAgICAgIHVwcGVyID0gbWVhbl9kZisxLjYqc3RkX2RmK3RvbAogICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmVfZGZbYmFzZWxpbmVfZGYuYXBwbHkobGFtYmRhIHg6ICh4ID4gbG93ZXIpICYgKHggPCB1cHBlcikpXS5tZWFuKGF4aXM9MSkKCiAgICAgICAgIyB3cml0ZSBkZWJ1ZyBmaWxlCiAgICAgICAgIyBiYXNlbGluZS50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE2X2Jhc2VsaW5lLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgogICAgICAgIHJlZiA9IGxpc3RfZGZbMF0KICAgICAgICBhZ2dyZWdhdGVkX2xpZnRfZGYgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogcmVmWydkYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpb24nOiByZWZbJ3N0YXRpb24nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCc6IHJlZlsnaXNjaV8yMCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IHJlZlsndGl0bGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IHJlZlsnbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaWZ0JzogbGlmdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFzZWxpbmUnOiBiYXNlbGluZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiByZWZbJ25ldF9yYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ltcHJlc3Npb25zJzogcmVmWydpbXByZXNzaW9ucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXlwYXJ0JzogcmVmWydkYXlwYXJ0J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlbmd0aCc6IHJlZlsnbGVuZ3RoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2dyYW0nOiByZWZbJ3Byb2dyYW0nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV5X2NvZGVzJzogcmVmWydidXlfY29kZXMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJlX2twaSc6IHJlZlsncHJlX2twaSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwb3N0X2twaSc6IHJlZlsncG9zdF9rcGknXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAna3BpX25hbWUnOiByZWZbJ2twaV9kZXNjcmlwdGlvbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJrZXRfbmFtZSc6IHJlZlsnbWFya2V0J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6IHJlZlsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWVudF9uYW1lJzogcmVmWydjbGllbnRfbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnOiByZWZbJ3Byb2R1Y3RfbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9jZXNzaW5nX3RpbWVzdGFtcCc6IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpfSkKICAgICAgICByZXR1cm4gYWdncmVnYXRlZF9saWZ0X2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLmFnZ3JlZ2F0ZV9saWZ0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmFnZ3JlZ2F0ZV9saWZ0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBjYWxjdWxhdGVfcF92YWx1ZShsaXN0X2RmLCB0aD0wLjAyNSk6CiAgICB0cnk6CiAgICAgICAgcHJlZGljdGlvbl9kZiA9IHJlZHVjZShsYW1iZGEgeCwgeTogcGQuY29uY2F0KFt4LCB5XSwgYXhpcz0xKSwgW3hbWydwcmVkaWN0aW9uJ11dIGZvciB4IGluIGxpc3RfZGZdKQogICAgICAgIGJhc2VsaW5lX2RmID0gcmVkdWNlKGxhbWJkYSB4LCB5OiBwZC5jb25jYXQoW3gsIHldLCBheGlzPTEpLCBbeFtbJ2Jhc2VsaW5lJ11dIGZvciB4IGluIGxpc3RfZGZdKQoKICAgICAgICBwX3ZhbHVlID0gW3R0ZXN0X2luZChwcmVkaWN0aW9uX2RmLmlsb2NbaSwgOl0sIGJhc2VsaW5lX2RmLmlsb2NbaSwgOl0pWzFdIGZvciBpIGluCiAgICAgICAgICAgICAgICByYW5nZShwcmVkaWN0aW9uX2RmLnNoYXBlWzBdKV0KICAgICAgICBsaWZ0X3R5cGUgPSBucC5hcnJheSgKICAgICAgICAgICAgWzEgaWYgbnAuc2lnbihucC5tZWFuKHByZWRpY3Rpb25fZGYsIGF4aXM9MSkgLSBucC5tZWFuKGJhc2VsaW5lX2RmLCBheGlzPTEpKVtpXSA9PSAxIGVsc2UgMCBmb3IgaSBpbgogICAgICAgICAgICByYW5nZShwcmVkaWN0aW9uX2RmLnNoYXBlWzBdKV0pCiAgICAgICAgc2lnX3JhdGlvID0gZmxvYXQobnAuc3VtKG5wLmFycmF5KGxpc3QoY29tcHJlc3MocF92YWx1ZSwgbGlmdF90eXBlID09IDEpKSkgPD0gdGgpKSAvIGxlbihwX3ZhbHVlKQoKICAgICAgICByZXR1cm4geydwX3ZhbHVlJzogcF92YWx1ZSwgJ2xpZnRfdHlwZSc6IGxpc3QobGlmdF90eXBlKSwgJ3NpZ19yYXRpbyc6IHNpZ19yYXRpb30KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3BfdmFsdWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3BfdmFsdWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCiMgbWlzc2luZyBrZW5kYWxsX3B2YWx1ZSwga2VuZGFsbF9zcGVhcm1hbiBjb3JyCmRlZiBnZW5lcmF0ZV9rZW5kYWxsX3N1bW1hcnkobGlmdGxpc3QpOgogICAgZGVmIGVmZnJhbmsoZGF0YSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0bXAgPSBkYXRhLmxvY1tkYXRhLnN0YXRpb24gIT0gJ3N0YXRpb25ub25lJ10uZ3JvdXBieSgnc3RhdGlvbicsIGFzX2luZGV4PUZhbHNlKVsnbGlmdCcsICduZXRfcmF0ZSddLnN1bSgpCiAgICAgICAgICAgIHRtcCA9IHRtcC5hc3NpZ24oZWZmaWNpZW5jeT0odG1wLmxpZnQgLyB0bXAubmV0X3JhdGUpKQogICAgICAgICAgICB0bXAgPSB0bXAuYXNzaWduKHJhbms9cmFua2RhdGEodG1wLmVmZmljaWVuY3kpKQogICAgICAgICAgICByZXR1cm4gdG1wW1snc3RhdGlvbicsICdyYW5rJ11dCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuZWZmcmFuaykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmVmZnJhbmspIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKICAgIGRlZiBrZW5kYWxsX3coZXhwdF9yYXRpbmdzKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIGV4cHRfcmF0aW5ncy5uZGltICE9IDI6CiAgICAgICAgICAgICAgICByYWlzZSAncmF0aW5ncyBtYXRyaXggbXVzdCBiZSAyLWRpbWVuc2lvbmFsJwogICAgICAgICAgICBtID0gZXhwdF9yYXRpbmdzLnNoYXBlWzBdICAjIHJhdGVycwogICAgICAgICAgICBuID0gZXhwdF9yYXRpbmdzLnNoYXBlWzFdICAjIGl0ZW1zIHJhdGVkCiAgICAgICAgICAgIGRlbm9tID0gbSAqKiAyICogKG4gKiogMyAtIG4pCiAgICAgICAgICAgIHJhdGluZ19zdW1zID0gbnAuc3VtKGV4cHRfcmF0aW5ncywgYXhpcz0wKQogICAgICAgICAgICBTID0gbSAqIG5wLnZhcihyYXRpbmdfc3VtcykKICAgICAgICAgICAgcmV0dXJuIDEyICogUyAvIGRlbm9tCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2Uua2VuZGFsbF93KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2Uua2VuZGFsbF93KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgIHRyeToKICAgICAgICB0bXBPdXQgPSBbZWZmcmFuayh4KSBmb3IgeCBpbiBsaWZ0bGlzdF0KICAgICAgICByYW5raW5ncyA9IHJlZHVjZSgobGFtYmRhIHgsIHk6IHBkLm1lcmdlKHgsIHksIG9uPSdzdGF0aW9uJywgaG93PSdvdXRlcicpKSwgdG1wT3V0KS5pbG9jWzosIDE6XQogICAgICAgIHJldHVybiBrdy5jb21wdXRlX3cocmFua2luZ3MudmFsdWVzLmFzdHlwZShpbnQpLnRvbGlzdCgpKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5nZW5lcmF0ZV9rZW5kYWxsX3N1bW1hcnkpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuZ2VuZXJhdGVfa2VuZGFsbF9zdW1tYXJ5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBjYWxjdWxhdGVfd2luZG93c3RhdHMoc3BvdCwga3BpLCBpbmRleCwgbG9va2JlZm9yZV9zZWNvbmRzLCBsb29rYWZ0ZXJfc2Vjb25kcyk6CiAgICB0cnk6CiAgICAgICAgcG9zdFN0YXJ0ID0gc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZC5pbG9jW2luZGV4XQogICAgICAgIHBvc3RFbmQgPSBwb3N0U3RhcnQgKyBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz1sb29rYmVmb3JlX3NlY29uZHMvNjApCiAgICAgICAgcHJlU3RhcnQgPSBwb3N0U3RhcnQgLSBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz1sb29rYWZ0ZXJfc2Vjb25kcy82MCkKICAgICAgICBwcmVFbmQgPSBwb3N0U3RhcnQKCiAgICAgICAgcG9zdEtQSSA9IGtwaS5sb2NbKGtwaS5taW51dGUgPj0gcG9zdFN0YXJ0KSAmIChrcGkubWludXRlIDwgcG9zdEVuZCksICdrcGknXS5zdW0oKQogICAgICAgIHBvc3RUViA9IHNwb3QubG9jWyhzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IHBvc3RTdGFydCkgJgogICAgICAgICAgICAgICAgICAgICAgICAoc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCA8IHBvc3RFbmQpLCAnbmV0X3JhdGUnXS5zdW0oKSAtIHNwb3QubmV0X3JhdGUuaWxvY1tpbmRleF0KICAgICAgICBwb3N0VFYxID0gcG9zdFRWIC0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcG9zdFN0YXJ0KSAmICgKICAgICAgICAgICAgc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCA8IHBvc3RTdGFydCArIGRhdGV0aW1lLnRpbWVkZWx0YShtaW51dGVzPTEpKSwgJ25ldF9yYXRlJ10uc3VtKCkgLSBcCiAgICAgICAgICAgIHNwb3QubmV0X3JhdGUuaWxvY1tpbmRleF0KICAgICAgICBwb3N0TmV0UmF0aW8gPSAoZmxvYXQoc3BvdC5uZXRfcmF0ZS5pbG9jW2luZGV4XSkgLyBwb3N0VFYpCiAgICAgICAgcG9zdE5ldFJhdGlvID0gbnAud2hlcmUobnAuaXNpbmYocG9zdE5ldFJhdGlvKSwgOTk5OTksIHBvc3ROZXRSYXRpbykKICAgICAgICBwb3N0TmV0UmF0aW8gPSBucC53aGVyZShwZC5pc251bGwocG9zdE5ldFJhdGlvKSwgLTEsIHBvc3ROZXRSYXRpbykKCiAgICAgICAgcHJlS1BJID0ga3BpLmxvY1soa3BpLm1pbnV0ZSA+PSBwcmVTdGFydCkgJiAoa3BpLm1pbnV0ZSA8IHByZUVuZCksICdrcGknXS5zdW0oKQogICAgICAgIHByZVRWID0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcHJlU3RhcnQpICYgKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPCBwcmVFbmQpLCAnbmV0X3JhdGUnXS5zdW0oKQogICAgICAgIHByZVRWMSA9IHByZVRWIC0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcG9zdFN0YXJ0IC0gZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9MSkpICYgKAogICAgICAgICAgICBzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgcG9zdFN0YXJ0KSwgJ25ldF9yYXRlJ10uc3VtKCkKICAgICAgICBwcmVOZXRSYXRpbyA9IChmbG9hdChzcG90Lm5ldF9yYXRlLmlsb2NbaW5kZXhdKSAvIHByZVRWKQogICAgICAgIHByZU5ldFJhdGlvID0gbnAud2hlcmUobnAuaXNpbmYocHJlTmV0UmF0aW8pLCA5OTk5OSwgcHJlTmV0UmF0aW8pCiAgICAgICAgcHJlTmV0UmF0aW8gPSBucC53aGVyZShwZC5pc251bGwocHJlTmV0UmF0aW8pLCAtMSwgcHJlTmV0UmF0aW8pCiAgICAgICAgcmV0dXJuIFtwb3N0S1BJLCBwb3N0VFYsIHBvc3RUVjEsIHBvc3ROZXRSYXRpbywgcHJlS1BJLCBwcmVUViwgcHJlVFYxLCBwcmVOZXRSYXRpb10KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3dpbmRvd3N0YXRzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV93aW5kb3dzdGF0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGl0ZXJhdGVfd2luZG93c3RhdHNfY2FsY3VsYXRpb24oc3BvdCwga3BpLCBsb29rYmVmb3JlX3NlY29uZHMsIGxvb2thZnRlcl9zZWNvbmRzKToKICAgIHRyeToKICAgICAgICBvdXRwdXQgPSBwZC5EYXRhRnJhbWUoW2NhbGN1bGF0ZV93aW5kb3dzdGF0cyhzcG90LCBrcGksIHgsIGxvb2tiZWZvcmVfc2Vjb25kcywgbG9va2FmdGVyX3NlY29uZHMpIGZvciB4IGluIHJhbmdlKDAsIHNwb3Quc2hhcGVbMF0pXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9WyJwb3N0X2twaSIsICJwb3N0X3R2IiwgInBvc3RfdHZfMW1pbiIsICJwb3N0TmV0UmF0aW8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJlX2twaSIsICJwcmVfdHYiLCAicHJlX3R2XzFtaW4iLCAicHJlTmV0UmF0aW8iXSkKICAgICAgICBvdXRwdXQuaW5kZXggPSBsaXN0KG91dHB1dC5pbmRleCkKICAgICAgICBzcG90LmluZGV4ID0gcmFuZ2UoMCwgc3BvdC5zaGFwZVswXSkKICAgICAgICByZXN1bHQgPSBvdXRwdXQuYXNzaWduKHN0YXRpb249c3BvdC5zdGF0aW9uLCBzdGFydGRhdGV0aW1lPXNwb3Quc3RhcnRkYXRldGltZSkKICAgICAgICByZXR1cm4gcmVzdWx0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLml0ZXJhdGVfd2luZG93c3RhdHNfY2FsY3VsYXRpb24pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuaXRlcmF0ZV93aW5kb3dzdGF0c19jYWxjdWxhdGlvbikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZmVhdHVyZV9wcmVwYXJlX2Zvcl90cmFpbmluZyhkYXRhLCB3aXRoX2ltcHJlc3Npb249VHJ1ZSk6CiAgICB0cnk6CiAgICAgICAgZGF5cGFydF9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdkYXlwYXJ0JyBpbiBjb2xdCiAgICAgICAgdGltZV9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICgnaG91cicgaW4gY29sKSB8ICgnd2Vla2RheScgaW4gY29sKV0KICAgICAgICBuZXRfaW5kID0gW2NvbCBmb3IgY29sIGluIGRhdGEuY29sdW1ucyBpZiAnbmV0X3JhdF9pbmQnIGluIGNvbF0KICAgICAgICBlZmZlY3RfZmVhID0gWyJzdGFydGRhdGV0aW1lcm91bmRlZCIsCiAgICAgICAgICAgICAgICAgICAgInByZV9rcGkiLAogICAgICAgICAgICAgICAgICAgICJwb3N0X2twaSIsCiAgICAgICAgICAgICAgICAgICAgIm5ldF9yYXRlIiwKICAgICAgICAgICAgICAgICAgICAicHJlX3R2IiwKICAgICAgICAgICAgICAgICAgICAicG9zdF90diIsCiAgICAgICAgICAgICAgICAgICAgInBvc3RfdHZfMW1pbiIsCiAgICAgICAgICAgICAgICAgICAgInByZV90dl8xbWluIiwKICAgICAgICAgICAgICAgICAgICAicHJpb3JfdHZfMTAiLAogICAgICAgICAgICAgICAgICAgICJwcmlvcl90dl82MCIsCiAgICAgICAgICAgICAgICAgICAgImlzSG9saWRheSIsCiAgICAgICAgICAgICAgICAgICAgImNvdW50cyIsCiAgICAgICAgICAgICAgICAgICAgImltcHJlc3Npb25zIiwKICAgICAgICAgICAgICAgICAgICAieWRheSIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgc3RhdGlvbl9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdzdGF0aW9uJyBpbiBjb2xdCiAgICAgICAgaXNjaV9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdpc2NpXycgaW4gY29sXQogICAgICAgIHByb2R1Y3RuYW1lX2ZlYSA9IFtjb2wgZm9yIGNvbCBpbiBkYXRhLmNvbHVtbnMgaWYgJ3Byb2R1Y3RfbmFtZScgaW4gY29sXQogICAgICAgIGJ1eWNvZGVfZmVhID0gW2NvbCBmb3IgY29sIGluIGRhdGEuY29sdW1ucyBpZiAnYnV5X2NvZGVzJyBpbiBjb2xdCiAgICAgICAgaWYgKHdpdGhfaW1wcmVzc2lvbiA9PSBGYWxzZSk6CiAgICAgICAgICAgIGVmZmVjdF9mZWEgPSBbZmVhdHVyZSBmb3IgZmVhdHVyZSBpbiBlZmZlY3RfZmVhIGlmIGZlYXR1cmUgIT0gJ2ltcHJlc3Npb25zJ10KCiAgICAgICAgIyBubyBkYXlwYXJ0CiAgICAgICAgYWRkaXRpb25hbEF0dHJpYnV0ZSA9IFsnaW5kZXhfaWQnLCAncHJvZ3JhbSddCiAgICAgICAgc2VsZWN0ZWRfdmFyID0gW10KICAgICAgICBzZWxlY3RlZF92YXIuZXh0ZW5kKGVmZmVjdF9mZWEgKyBzdGF0aW9uX2ZlYSArIGlzY2lfZmVhICsgcHJvZHVjdG5hbWVfZmVhICsgYnV5Y29kZV9mZWEgKyB0aW1lX2ZlYSArIGFkZGl0aW9uYWxBdHRyaWJ1dGUpCiAgICAgICAgdHJhaW4gPSBkYXRhLmxvY1s6LCBzZWxlY3RlZF92YXJdCiAgICAgICAgdHJhaW4gPSB0cmFpbi5sb2NbOiwgfnRyYWluLmNvbHVtbnMuZHVwbGljYXRlZCgpXQogICAgICAgIHRyYWluLmlsb2NbOiwgMTp0cmFpbi5zaGFwZVsxXSAtIDJdID0gdHJhaW4uaWxvY1s6LCAxOnRyYWluLnNoYXBlWzFdIC0gMl0uYXBwbHkocGQudG9fbnVtZXJpYywgYXhpcz0xKQogICAgICAgIHJldHVybiB0cmFpbgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5mZWF0dXJlX3ByZXBhcmVfZm9yX3RyYWluaW5nKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmZlYXR1cmVfcHJlcGFyZV9mb3JfdHJhaW5pbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiB3cmFwcGVyX2ZlYXRfc2VsZWN0KFgsIHkpOgogICAgdHJ5OgogICAgICAgICMgZGlzcGxheSBmZWF0IGltcG9ydGFuY2UgdW5pb24gYnkgb3JkZXIKICAgICAgICBjdl9mb2xkcyA9IDEwIAogICAgICAgIHBhcmFtZXRlcl9kaWN0ID0geGdib29zdF9wYXJhbWV0ZXJfZGljdAoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLndyYXBwZXJfZmVhdF9zZWxlY3QpIFJhbmRvbSBGb3Jlc3QnKQogICAgICAgIGtmID0gS0ZvbGQobl9zcGxpdHM9Y3ZfZm9sZHMgKQogICAgICAgIHJmX2ZlYXQgPSBjdl9maXQoWCwgeSwga2YsICdyZicsIHBhcmFtZXRlcl9kaWN0KQogICAgICAgIHJmX21lYW5fZmVhdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gWC5jb2x1bW5zOgogICAgICAgICAgICBtZWFuX2ZlYXQgPSAwCiAgICAgICAgICAgIGZvciBqIGluIHJmX2ZlYXQ6CiAgICAgICAgICAgICAgICBtZWFuX2ZlYXQgKz0galtpXQogICAgICAgICAgICByZl9tZWFuX2ZlYXRbaV0gPSBtZWFuX2ZlYXQvZmxvYXQoY3ZfZm9sZHMpCiAgICAgICAgcmZfbWVhbl9mZWF0ID0gcGQuU2VyaWVzKHJmX21lYW5fZmVhdCkKICAgICAgICByZl9tZWFuX2ZlYXQgPSBwZC5EYXRhRnJhbWUocmZfbWVhbl9mZWF0LnNvcnRfdmFsdWVzKCkpCiAgICAgICAgcmZfbWVhbl9mZWF0ID0gcmZfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkKCiAgICAgICAgY29scyA9IHJmX21lYW5fZmVhdFtyZl9tZWFuX2ZlYXRbMF0gIT0gMF1bJ2luZGV4J10KCiAgICAgICAgWF94Z2IgPSBYLmxvY1s6LCBjb2xzXQogICAgICAgIGtmID0gS0ZvbGQobl9zcGxpdHM9Y3ZfZm9sZHMpCiAgICAgICAgeGdiX2ZlYXQgPSBjdl9maXQoWF94Z2IsIHksIGtmLCAneGdiJywgcGFyYW1ldGVyX2RpY3QpCiAgICAgICAgeGdiX21lYW5fZmVhdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gWF94Z2IuY29sdW1uczoKICAgICAgICAgICAgbWVhbl9mZWF0ID0gMAogICAgICAgICAgICBmb3IgaiBpbiB4Z2JfZmVhdDoKICAgICAgICAgICAgICAgIG1lYW5fZmVhdCArPSBqW2ldCiAgICAgICAgICAgIHhnYl9tZWFuX2ZlYXRbaV0gPSBtZWFuX2ZlYXQvZmxvYXQoY3ZfZm9sZHMpCiAgICAgICAgeGdiX21lYW5fZmVhdCA9IHBkLlNlcmllcyh4Z2JfbWVhbl9mZWF0KQogICAgICAgIHhnYl9tZWFuX2ZlYXQgPSBwZC5EYXRhRnJhbWUoeGdiX21lYW5fZmVhdC5zb3J0X3ZhbHVlcygpKQogICAgICAgIHhnYl9tZWFuX2ZlYXQgPSB4Z2JfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkKCiAgICAgICAgIyB0YWtlIGJvdGggeGdiIGFuZCByZiBmZWF0dXJlIHJhbmtzIGFuZCBhdmVyYWdlIHRoZW0KICAgICAgICB4Z2JfbWVhbl9mZWF0WydyYW5rJ10gPSB4Z2JfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkuaW5kZXgrMQogICAgICAgIHJmX21lYW5fZmVhdFsncmFuayddID0gcmZfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkuaW5kZXgrMQogICAgICAgIGZlYXRfcmFuayA9IHt9CiAgICAgICAgZm9yIGYgaW4gcmZfbWVhbl9mZWF0WydpbmRleCddOgogICAgICAgICAgICBpZiBmIG5vdCBpbiB4Z2JfbWVhbl9mZWF0WydpbmRleCddLnZhbHVlX2NvdW50cygpLmluZGV4OgogICAgICAgICAgICAgICAgZmVhdF9yYW5rW2ZdID0gcmZfbWVhbl9mZWF0W3JmX21lYW5fZmVhdFsnaW5kZXgnXSA9PSBmXVsncmFuayddLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSlbMF0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZlYXRfcmFua1tmXSA9IHhnYl9tZWFuX2ZlYXRbeGdiX21lYW5fZmVhdFsnaW5kZXgnXSA9PSBmXVsncmFuayddLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSlbMF0gKyByZl9tZWFuX2ZlYXRbcmZfbWVhbl9mZWF0WydpbmRleCddID09IGZdWydyYW5rJ10ucmVzZXRfaW5kZXgoZHJvcD1UcnVlKVswXQoKICAgICAgICBmZWF0X3JhbmsgPSBwZC5TZXJpZXMoZmVhdF9yYW5rKQogICAgICAgIGZlYXRfcmFuayA9IChmZWF0X3JhbmstZmVhdF9yYW5rLm1pbigpKS8oZmVhdF9yYW5rLm1heCgpLWZlYXRfcmFuay5taW4oKSkKICAgICAgICBmZWF0X3JhbmsgPSBmZWF0X3Jhbmsuc29ydF92YWx1ZXMoYXNjZW5kaW5nPUZhbHNlKQoKICAgICAgICBleHAgPSByZS5jb21waWxlKCJec3RhdGlvbltBLVphLXpdK3xeaXNjaV9bMC05QS1aYS16XSt8XFxiaG91cnxcXHdlZWtkYXkrfF5wcm9kdWN0X25hbWVbMC05QS1aYS16XSt8XmJ1eV9jb2Rlc1swLTlBLVphLXpdIikKICAgICAgICBuYW1lID0gWC5jb2x1bW5zCiAgICAgICAgbmFtZSA9IFt4IGZvciB4IGluIG5hbWUgaWYgcmUuc2VhcmNoKGV4cCwgeCldCiAgICAgICAgc2VsZWN0ZWRfZmVhdHVyZXMgPSBuYW1lK2xpc3QoZmVhdF9yYW5rW2ZlYXRfcmFuayA+IGZlYXRfcmFuay5xdWFudGlsZSgwLjI1KV0uaW5kZXgpCiAgICAgICAgcmV0dXJuIHhnYl9tZWFuX2ZlYXQsIHJmX21lYW5fZmVhdCwgZmVhdF9yYW5rLCBsaXN0KHNldChzZWxlY3RlZF9mZWF0dXJlcykpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLndyYXBwZXJfZmVhdF9zZWxlY3QpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2Uud3JhcHBlcl9mZWF0X3NlbGVjdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGN2X2ZpdChYLCB5LCBrZiwgbW9kZWxfdHlwZSwgcGFyYW1ldGVyX2RpY3QpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKGYnKHBlcmZvcm1hbmNlLmN2X2ZpdCkgUGFyYW1ldGVycyBVc2VkOiB7cGFyYW1ldGVyX2RpY3R9JykKICAgICAgICBtb2RlbF9mZWF0ID0gW10KICAgICAgICBmb3IgdHJhaW5faW5kZXgsIHRlc3RfaW5kZXggaW4ga2Yuc3BsaXQoWCwgeSk6CiAgICAgICAgICAgIFhfdHJhaW4sIHlfdHJhaW4gPSBYLmlsb2NbdHJhaW5faW5kZXgsIDpdLCB5W3RyYWluX2luZGV4XQogICAgICAgICAgICBYX3Rlc3QsIHlfdGVzdCA9IFguaWxvY1t0ZXN0X2luZGV4LCA6XSwgeVt0ZXN0X2luZGV4XQogICAgICAgICAgICBpZiBtb2RlbF90eXBlID09ICdyZic6CiAgICAgICAgICAgICAgICBtb2RlbCA9IFJhbmdlckZvcmVzdFJlZ3Jlc3NvcihtaW5fbm9kZV9zaXplPTMsIHZlcmJvc2U9VHJ1ZSwgbl9qb2JzPTQsIG5fZXN0aW1hdG9ycz01MDAsIGltcG9ydGFuY2U9J2ltcHVyaXR5Jywgc2VlZCA9IDIwKQogICAgICAgICAgICAgICAgbW9kZWwuZml0KFhfdHJhaW4sIHlfdHJhaW4pCiAgICAgICAgICAgICAgICBtb2RlbF9mZWF0LmFwcGVuZChwZC5TZXJpZXMobW9kZWwuZmVhdHVyZV9pbXBvcnRhbmNlc18sIGluZGV4PVguY29sdW1ucykpCiAgICAgICAgICAgIGVsaWYgbW9kZWxfdHlwZSA9PSAneGdiJzoKICAgICAgICAgICAgICAgIG1vZGVsID0gWEdCUmVncmVzc29yKG1heF9kZXB0aD1wYXJhbWV0ZXJfZGljdFsnbWF4X2RlcHRoJ10sIGxlYXJuaW5nX3JhdGU9cGFyYW1ldGVyX2RpY3RbJ2V0YSddLCBudGhyZWFkPXBhcmFtZXRlcl9kaWN0WydudGhyZWFkJ10sIG9iamVjdGl2ZT1wYXJhbWV0ZXJfZGljdFsnb2JqZWN0aXZlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3N0ZXI9cGFyYW1ldGVyX2RpY3RbJ2Jvb3N0ZXInXSwgY29sc2FtcGxlX2J5dHJlZT1mbG9hdChwYXJhbWV0ZXJfZGljdFsnY29sc2FtcGxlX2J5dHJlZSddKSwgbl9lc3RpbWF0b3JzPTYwMCwgc2VlZD0yMCkKICAgICAgICAgICAgICAgIG1vZGVsLmZpdChYX3RyYWluLCB5X3RyYWluKQogICAgICAgICAgICAgICAgIyBmcmVxdWVuY3kKICAgICAgICAgICAgICAgIG1vZGVsX2ZlYXQuYXBwZW5kKHBkLlNlcmllcyhtb2RlbC5mZWF0dXJlX2ltcG9ydGFuY2VzXywgaW5kZXg9WC5jb2x1bW5zKSkKICAgICAgICByZXR1cm4gbW9kZWxfZmVhdAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5jdl9maXQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuY3ZfZml0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgc3RyYXRpZmllZF9zYW1wbGUodHJhaW4sIG5mb2xkKToKICAgIG5wLnJhbmRvbS5zZWVkKHNlZWQ9MjApCiAgICB0cnk6CiAgICAgICAgbGFiZWwgPSB0cmFpblsncG9zdF9rcGknXSAhPSAwCiAgICAgICAgZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgQ291bnRlcgogICAgICAgIGNvdW50ID0gQ291bnRlcihsYWJlbCkKICAgICAgICBpZiBzdW0oY291bnQpID09IDE6CiAgICAgICAgICAgIGxheWVycyA9IG5wLnJhbmRvbS5jaG9pY2UocmFuZ2UobmZvbGQpLCByZXBsYWNlPVRydWUsIHNpemU9Y291bnRbMV0pCiAgICAgICAgICAgIGZvbGRzID0gWyhbaSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzKSBpZiB4ID09IHldLCBbaiBmb3IgaiwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzKSBpZiB4ICE9IHldKSBmb3IgeSBpbiByYW5nZShuZm9sZCldCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbGF5ZXJzID0gW25wLnJhbmRvbS5jaG9pY2UocmFuZ2UobmZvbGQpLCByZXBsYWNlPVRydWUsIHNpemU9Y291bnRbaV0pIGZvciBpIGluIHJhbmdlKGxlbihjb3VudCkpXQogICAgICAgICAgICB0cnVlaWR4ID0gbGFiZWwuaW5kZXhbbGFiZWwgPT0gVHJ1ZV0udG9saXN0KCkKICAgICAgICAgICAgZmFsc2VpZHggPSBsYWJlbC5pbmRleFtsYWJlbCA9PSBGYWxzZV0udG9saXN0KCkKICAgICAgICAgICAgdG1wZmFsc2UgPSBbKFtmYWxzZWlkeFtpXSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzBdKSBpZiB4ID09IHldLAogICAgICAgICAgICAgICAgICAgICAgICBbZmFsc2VpZHhbal0gZm9yIGosIHggaW4gZW51bWVyYXRlKGxheWVyc1swXSkgaWYgeCAhPSB5XSkgZm9yIHkgaW4gcmFuZ2UobmZvbGQpXQogICAgICAgICAgICB0bXB0cnVlID0gWyhbdHJ1ZWlkeFtpXSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzFdKSBpZiB4ID09IHldLAogICAgICAgICAgICAgICAgICAgICAgICBbdHJ1ZWlkeFtqXSBmb3IgaiwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzFdKSBpZiB4ICE9IHldKSBmb3IgeSBpbiByYW5nZShuZm9sZCldCiAgICAgICAgICAgIGZvbGRzID0gWyh0bXB0cnVlW2ZdWzBdICsgdG1wZmFsc2VbZl1bMF0sIHRtcHRydWVbZl1bMV0gKyB0bXBmYWxzZVtmXVsxXSkgZm9yIGYgaW4gcmFuZ2UobmZvbGQpXQogICAgICAgIHJldHVybiBmb2xkcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5zdHJhdGlmaWVkX3NhbXBsZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS5zdHJhdGlmaWVkX3NhbXBsZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIHNpbmdsZV9jdihpbmRleCwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBzZWFyY2hfZ3JpZCk6CiAgICB0cnk6CiAgICAgICAgcGFyYW1ldGVyTGlzdCA9IHNlYXJjaF9ncmlkLmlsb2NbaW5kZXhdCiAgICAgICAgY3VycmVudF9zdWJzYW1wbGVfcmF0ZSA9IHBhcmFtZXRlckxpc3RbJ3N1YnNhbXBsZSddCiAgICAgICAgY3VycmVudF9jb2xzYW1wbGVfcmF0ZSA9IHBhcmFtZXRlckxpc3RbJ2NvbHNhbXBsZSddCiAgICAgICAgY3VycmVudF9ldGEgPSBwYXJhbWV0ZXJMaXN0WydldGEnXQogICAgICAgIGN1cnJlbnRfZGVwdGggPSBpbnQocGFyYW1ldGVyTGlzdFsnbWF4ZGVwdGgnXSkKICAgICAgICBwYXJhbXMgPSB7J29iamVjdGl2ZSc6ICdyZWc6c3F1YXJlZGVycm9yJywKICAgICAgICAgICAgICAgICdib29zdGVyJzogJ2didHJlZScsCiAgICAgICAgICAgICAgICAnZXRhJzogY3VycmVudF9ldGEsCiAgICAgICAgICAgICAgICAnc3Vic2FtcGxlJzogY3VycmVudF9zdWJzYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICdtYXhfZGVwdGgnOiBjdXJyZW50X2RlcHRoLAogICAgICAgICAgICAgICAgJ250aHJlYWQnOiA0LAogICAgICAgICAgICAgICAgJ2NvbHNhbXBsZV9ieXRyZWUnOiBjdXJyZW50X2NvbHNhbXBsZV9yYXRlfQogICAgICAgIGVhcmx5X3N0b3BwaW5nX3JvdW5kcyA9IDEwMAogICAgICAgIHN0cmF0aWZpZWRmb2xkID0gc3RyYXRpZmllZF9zYW1wbGUodHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBuZm9sZD01KQogICAgICAgIHhnYm9vc3RfbW9kZWxfY3YgPSB4Z2IuY3YocGFyYW1zPXBhcmFtcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdHJhaW49eGdiLkRNYXRyaXgoJ2FnZ3JlZ2F0ZWRfbGlmdF9kYXRhJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtX2Jvb3N0X3JvdW5kPTIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0cmljcz0ncm1zZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyYm9zZV9ldmFsPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW1pemU9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZHM9c3RyYXRpZmllZGZvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlfc3RvcHBpbmdfcm91bmRzPWVhcmx5X3N0b3BwaW5nX3JvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaHVmZmxlPUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWQgPSAyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICByb3VuZHMgPSB4Z2Jvb3N0X21vZGVsX2N2LnNoYXBlWzBdLTEKICAgICAgICBybXNlID0geGdib29zdF9tb2RlbF9jdlsndGVzdC1ybXNlLW1lYW4nXVtyb3VuZHNdCiAgICAgICAgcmV0dXJuIGxpc3QoKHJtc2UsIGN1cnJlbnRfZXRhLCBjdXJyZW50X3N1YnNhbXBsZV9yYXRlLCBjdXJyZW50X2NvbHNhbXBsZV9yYXRlLCBjdXJyZW50X2RlcHRoLCByb3VuZHMrMSkpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLnNpbmdsZV9jdikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS5zaW5nbGVfY3YpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiB0dW5lX3BhcmFfeGdidHJlZV90ZXN0KHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZiwgY29sdW1uX25hbWVzX3RvX2V4Y2x1ZGUpOgogICAgdHJ5OgogICAgICAgIHRyYWluX3hnYiA9IHhnYi5ETWF0cml4KGRhdGE9dHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmW1t4IGZvciB4IGluIHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZi5jb2x1bW5zIGlmIHggbm90IGluIGNvbHVtbl9uYW1lc190b19leGNsdWRlXV0sIGxhYmVsPXRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZlsncG9zdF9rcGknXSwgbWlzc2luZz1mbG9hdCgnbmFuJykpCiAgICAgICAgdHJhaW5feGdiLnNhdmVfYmluYXJ5KCdhZ2dyZWdhdGVkX2xpZnRfZGF0YScpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSB0cmFpbi54Z2IgY29tcGxldGUnKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHNlYXJjaC5ncmlkIHN0YXJ0IC4uLicpCiAgICAgICAgI3N1YnNhbXBsZSA9IGxpc3QoKDAuNywgMC45KSkKICAgICAgICAjY29sc2FtcGxlID0gbGlzdCgoMC43LCAwLjkpKQogICAgICAgIHN1YnNhbXBsZSA9IGxpc3QoKDEuMCwgMS4wKSkKICAgICAgICBjb2xzYW1wbGUgPSBsaXN0KCgxLjAsIDEuMCkpCiAgICAgICAgZXRhID0gbGlzdCgoMC4xLCAwLjMsIDAuNSkpCiAgICAgICAgbWF4ZGVwdGggPSBsaXN0KCgzLCA1LCA3KSkKCiAgICAgICAgc2VhcmNoX2dyaWQgPSBwZC5EYXRhRnJhbWUobGlzdChwcm9kdWN0KHN1YnNhbXBsZSwgY29sc2FtcGxlLCBldGEsIG1heGRlcHRoKSksIGNvbHVtbnM9WydzdWJzYW1wbGUnLCAnY29sc2FtcGxlJywgJ2V0YScsICdtYXhkZXB0aCddKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHNlYXJjaC5ncmlkIGNvbXBsZXRlJykKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHJtc2VIeXBlcnBhcmFtcyBzdGFydCAuLi4nKQogICAgICAgIHJtc2VIeXBlcnBhcmFtcyA9IFtzaW5nbGVfY3YoaSwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBzZWFyY2hfZ3JpZCkgZm9yIGkgaW4gcmFuZ2Uoc2VhcmNoX2dyaWQuc2hhcGVbMF0pXQogICAgICAgIHJtc2VIeXBlcnBhcmFtcyA9IHBkLkRhdGFGcmFtZShybXNlSHlwZXJwYXJhbXMsIGNvbHVtbnM9WydSTVNFJywgJ2V0YScsICdzdWJzYW1wbGUnLCAnY29sc2FtcGxlJywgJ2RlcHRoJywgJ3JvdW5kcyddKS5zb3J0X3ZhbHVlcyhieT0nUk1TRScpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSBybXNlSHlwZXJwYXJhbXMgY29tcGxldGUnKQogICAgICAgIHJldHVybiBybXNlSHlwZXJwYXJhbXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UudHVuZV9wYXJhX3hnYnRyZWVfdGVzdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgeGdib29zdChkZiwgcGFyYW1ldGVyX2RpY3QsIG5yb3VuZHM9MTIwMCk6CiAgICB0cnk6CiAgICAgICAgdHJhaW5feGdiID0geGdiLkRNYXRyaXgoZGF0YT1kZltbeCBmb3IgeCBpbiBkZi5jb2x1bW5zIGlmIHggIT0gJ3Bvc3Rfa3BpJ11dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPWRmLnBvc3Rfa3BpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodD1bMiBpZiB3ID4gMjAwIGVsc2UgMSBmb3IgdyBpbiBkZi5uZXRfcmF0ZV0pCiAgICAgICAgeGdiZml0ID0geGdiLnRyYWluKHBhcmFtcz1wYXJhbWV0ZXJfZGljdCwKICAgICAgICAgICAgICAgICAgICAgICAgZHRyYWluPXRyYWluX3hnYiwKICAgICAgICAgICAgICAgICAgICAgICAgbnVtX2Jvb3N0X3JvdW5kPW5yb3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmJvc2VfZXZhbD1UcnVlKQogICAgICAgIHJldHVybiB4Z2JmaXQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuaW5mbyhmIihwZXJmb3JtYW5jZS54Z2Jvb3N0KSBFUlJPUjoge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLnhnYm9vc3QpIEVSUk9SOiB7ZX0iKQoKCmRlZiBpdGVyYXRlX2xpZnQoaXRlciwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBjb2x1bW5fbmFtZXNfdG9fZXhjbHVkZSwgd2l0aF9pbXByZXNzaW9uKToKICAgICMgdGhpcyBmdW5jdGlvbiBydW5zIHRoZSBtb2RlbCB0aGUgbnVtYmVyIG9mIHRpbWVzIHNwZWNpZmllZCBpbiB0aGUgIml0ZXJhdGlvbiIgdmFyaWFibGUKICAgIHRyeToKICAgICAgICBwYXJhX3RyZWUgPSB0dW5lX3BhcmFfeGdidHJlZV90ZXN0KHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZiwgY29sdW1uX25hbWVzX3RvX2V4Y2x1ZGUpCgogICAgICAgIG5yb3VuZHMgPSBpbnQocm91bmQocGFyYV90cmVlWydyb3VuZHMnXVswXSAqIDEuNSkpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIGh5cGVyLXBhcmFtcyB0dW5pbmcgY29tcGxldGUsIHNlbGVjdCBsZWFybmluZyByYXRlOiB7fSwgbWF4X2RlcHRoOiB7fScuZm9ybWF0KHBhcmFfdHJlZVsnZXRhJ11bMF0sIHBhcmFfdHJlZVsnZGVwdGgnXVswXSkpCgogICAgICAgIHBhcmFtZXRlcl9kaWN0ID0geGdib29zdF9wYXJhbWV0ZXJfZGljdAoKICAgICAgICBsb2dnZXIuaW5mbyhmJyhwZXJmb3JtYW5jZS5pdGVyYXRlX2xpZnQpIFBhcmFtZXRlcnMgVXNlZDoge3BhcmFtZXRlcl9kaWN0fScpCiAgICAgICAgb3V0ID0gW21vZGVsX3J1bihmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBwYXJhbWV0ZXJfZGljdCwgbnJvdW5kcywgd2l0aF9pbXByZXNzaW9uLCBpLCBpdGVyKSBmb3IgaSBpbiByYW5nZShpdGVyKV0KICAgICAgICByZXR1cm4gb3V0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLml0ZXJhdGVfbGlmdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIG1vZGVsX3J1bihmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBwYXJhbWV0ZXJfZGljdCwgbnJvdW5kcywgd2l0aF9pbXByZXNzaW9uLCBpLCBpdGVyYXRpb24pOgogICAgIyB0aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHRoZSBudW1iZXIgb2YgdGltZXMgc3BlY2lmaWVkIGluIHRoZSAiaXRlcmF0aW9uIiB2YXJpYWJsZQogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKGYnbW9kZWxfcnVuOiBsb29wW3tpKzF9XScpCiAgICAgICAgYWRkaXRpb25hbEF0dHJpYnV0ZSA9IFsic3RhcnRkYXRldGltZXJvdW5kZWQiLCAiaW5kZXhfaWQiLCAicHJvZ3JhbSJdCiAgICAgICAgdG1wVHJhaW4gPSBmaW5hbF90cmFpbmluZ19kYXRhX2RmW1t4IGZvciB4IGluIGZpbmFsX3RyYWluaW5nX2RhdGFfZGYuY29sdW1ucyBpZiB4IG5vdCBpbiBhZGRpdGlvbmFsQXR0cmlidXRlXV0KCiAgICAgICAgeGdiX21vZGVsID0geGdib29zdCh0bXBUcmFpbiwgcGFyYW1ldGVyX2RpY3QsIG5yb3VuZHMraSkKICAgICAgICB4Z2JMaWZ0ID0gY2FsY3VsYXRlX2VmZmVjdF9ydW5fb3AoZmluYWxfdHJhaW5pbmdfZGF0YV9kZiwgeGdiX21vZGVsLCB3aXRoX2ltcHJlc3Npb24pCiAgICAgICAgcmV0dXJuIHhnYkxpZnQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UubW9kZWxfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLm1vZGVsX3J1bikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKHRyYWluRGF0YSwgbW9kZWwsIHdpdGhfaW1wcmVzc2lvbik6CiAgICB0cnk6CiAgICAgICAgc3BvdEFkID0gdHJhaW5EYXRhCiAgICAgICAgbmFtZSA9IHNwb3RBZC5jb2x1bW5zCiAgICAgICAgZXhwX3N0YXRpb24gPSByZS5jb21waWxlKCJec3RhdGlvbltBLVphLXpdIikKICAgICAgICBuYW1lX3MgPSBbeCBmb3IgeCBpbiBuYW1lIGlmIHJlLnNlYXJjaChleHBfc3RhdGlvbiwgeCldCiAgICAgICAgc3RhdGlvbk5hbWUgPSBbbmFtZV9zW25wLndoZXJlKHNwb3RBZFtuYW1lX3NdLmlsb2NbaV0gIT0gMClbMF1bMF1dIGZvciBpIGluIHJhbmdlKHNwb3RBZC5zaGFwZVswXSldCiAgICAgICAgZXhwX2lzY2kgPSByZS5jb21waWxlKCJeaXNjaV9bMC05QS1aYS16XSIpCiAgICAgICAgbmFtZV9pID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwX2lzY2ksIHgpXQogICAgICAgIGlzY2lOYW1lID0gW25hbWVfaVtucC53aGVyZShzcG90QWRbbmFtZV9pXS5pbG9jW2ldICE9IDApWzBdWzBdXSBmb3IgaSBpbiByYW5nZShzcG90QWQuc2hhcGVbMF0pXQogICAgICAgIGV4cF9wcm9kdWN0bmFtZSA9IHJlLmNvbXBpbGUoIl5wcm9kdWN0X25hbWVbMC05QS1aYS16XSIpCiAgICAgICAgbmFtZV9wID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwX3Byb2R1Y3RuYW1lLCB4KV0KICAgICAgICBwcm9kdWN0bmFtZU5hbWUgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKHNwb3RBZC5zaGFwZVswXSk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHByb2R1Y3RuYW1lTmFtZS5hcHBlbmQobmFtZV9wW25wLndoZXJlKHNwb3RBZFtuYW1lX3BdLmlsb2NbaV0gIT0gMClbMF1bMF1dKQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgcHJvZHVjdG5hbWVOYW1lLmFwcGVuZChucC5uYW4pCiAgICAgICAgZXhwX2J1eWNvZGUgPSByZS5jb21waWxlKCJeYnV5X2NvZGVzWzAtOUEtWmEtel0iKQogICAgICAgIG5hbWVfYiA9IFt4IGZvciB4IGluIG5hbWUgaWYgcmUuc2VhcmNoKGV4cF9idXljb2RlLCB4KV0KICAgICAgICBidXljb2RlTmFtZSA9IFtuYW1lX2JbbnAud2hlcmUoc3BvdEFkW25hbWVfYl0uaWxvY1tpXSAhPSAwKVswXVswXV0gZm9yIGkgaW4gcmFuZ2Uoc3BvdEFkLnNoYXBlWzBdKV0KCiAgICAgICAgaW5kZXhJRCA9IHNwb3RBZC5pbmRleF9pZAogICAgICAgIHByb2dyYW0gPSBzcG90QWQucHJvZ3JhbQoKICAgICAgICB0ZXN0ID0gc3BvdEFkLmNvcHkoKQogICAgICAgIGlmICh3aXRoX2ltcHJlc3Npb24pOgogICAgICAgICAgICB0ZXN0W1t4IGZvciB4IGluIHRlc3QuY29sdW1ucyBpZiB4IGluIFsnbmV0X3JhdGUnLCAnaW1wcmVzc2lvbnMnLCBzdGF0aW9uTmFtZSwgaXNjaU5hbWVdXV0gPSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGVzdFtbeCBmb3IgeCBpbiB0ZXN0LmNvbHVtbnMgaWYgeCBpbiBbJ25ldF9yYXRlJywgc3RhdGlvbk5hbWUsIGlzY2lOYW1lXV1dID0gMAogICAgICAgIHRlc3RbJ3N0YXRpb25ub25lJ10gPSAxCgogICAgICAgIHRyYWluX3hnYiA9IHhnYi5ETWF0cml4KGRhdGE9c3BvdEFkW1t4IGZvciB4IGluIHNwb3RBZC5jb2x1bW5zIGlmIHggbm90IGluIFsicG9zdF9rcGkiLCAic3RhcnRkYXRldGltZXJvdW5kZWQiLCAiaW5kZXhfaWQiLCAicHJvZ3JhbSJdXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9c3BvdEFkLnBvc3Rfa3BpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodD1bMiBpZiB3ID4gMjAwIGVsc2UgMSBmb3IgdyBpbiBzcG90QWQubmV0X3JhdGVdKQogICAgICAgIHRlc3RfeGdiID0geGdiLkRNYXRyaXgoZGF0YT10ZXN0W1t4IGZvciB4IGluIHRlc3QuY29sdW1ucyBpZiB4IG5vdCBpbiBbInBvc3Rfa3BpIiwgInN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIiwgImluZGV4X2lkIiwgInByb2dyYW0iXV1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9dGVzdC5wb3N0X2twaSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0PVsyIGlmIHcgPiAyMDAgZWxzZSAxIGZvciB3IGluIHRlc3QubmV0X3JhdGVdKQoKICAgICAgICB3aXRoX3Nwb3QgPSBtb2RlbC5wcmVkaWN0KHRyYWluX3hnYikKICAgICAgICB3aXRob3V0X3Nwb3QgPSBtb2RlbC5wcmVkaWN0KHRlc3RfeGdiKQogICAgICAgIAogICAgICAgICNtYWtpbmcgYW55IG5lZ2F0aXZlIGJhc2VsaW5lcyBjaGFuZ2UgdG8gMCAKICAgICAgICB3aXRob3V0X3Nwb3QgPSBbMCBpZiBpIDwgMCBlbHNlIGkgZm9yIGkgaW4gd2l0aG91dF9zcG90XQogICAgICAgIAogICAgICAgIGxpZnQgPSB3aXRoX3Nwb3QgLSB3aXRob3V0X3Nwb3QKCiAgICAgICAgaWYgKHdpdGhfaW1wcmVzc2lvbik6CiAgICAgICAgICAgIG91dHB1dCA9IHBkLkRhdGFGcmFtZSh7J2RhdGUnOiBzcG90QWQuc3RhcnRkYXRldGltZXJvdW5kZWQuYXBwbHkoc3RyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGlvbic6IHN0YXRpb25OYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpc2NpXzIwJzogaXNjaU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpZnQnOiBsaWZ0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXRfcmF0ZSc6IHNwb3RBZC5uZXRfcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wcmVzc2lvbnMnOiBzcG90QWQuaW1wcmVzc2lvbnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJzogd2l0aG91dF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVkaWN0aW9uJzogd2l0aF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVfa3BpJzogc3BvdEFkLnByZV9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4X2lkJzogaW5kZXhJRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknOiBzcG90QWQucG9zdF9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3RfbmFtZSc6IHByb2R1Y3RuYW1lTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6IHByb2dyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1eV9jb2Rlcyc6IGJ1eWNvZGVOYW1lfSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBvdXRwdXQgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogc3BvdEFkLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmFwcGx5KHN0ciksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpb24nOiBzdGF0aW9uTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCc6IGlzY2lOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaWZ0JzogbGlmdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiBzcG90QWQubmV0X3JhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJzogd2l0aG91dF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVkaWN0aW9uJzogd2l0aF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVfa3BpJzogc3BvdEFkLnByZV9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4X2lkJzogaW5kZXhJRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknOiBzcG90QWQucG9zdF9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3RfbmFtZSc6IHByb2R1Y3RuYW1lTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6IHByb2dyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1eV9jb2Rlcyc6IGJ1eWNvZGVOYW1lfSkKICAgICAgICByZXR1cm4gb3V0cHV0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikK\\\\\\\",\\\\\\\"4849687\\\\\\\":\\\\\\\"ZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKZnJvbSBiYXNlX2xvZ2dlciBpbXBvcnQgbG9nZ2VyCmltcG9ydCB0aW1lCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgcGlwZWxpbmUKaW1wb3J0IG9wdGltaXphdGlvbgppbXBvcnQgdXRpbHMKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgY29uZmlnCmltcG9ydCBib3RvMwppbXBvcnQgY29ubmVjdGlvbnNfYXdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgoKZGVmIGluaXRfY29uZmlnKHMzX3RhcmdldF9idWNrZXRfcGVyZm9ybWFuY2UsIHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlLCBzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZV90dm8sCiAgICAgICAgICAgICAgICBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsCiAgICAgICAgICAgICAgICBhd3Nfc2VjcmV0X2FjY2Vzc19rZXksIGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uLCBxdWVyeV9idWNrZXQpOgogICAgY29uZmlnLlMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0UgPSBzM190YXJnZXRfYnVja2V0X3BlcmZvcm1hbmNlCiAgICBjb25maWcuUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UgPSBzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZQogICAgY29uZmlnLlMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTyA9IHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlX3R2bwogICAgY29uZmlnLlNFQ1JFVF9OQU1FID0gc2VjcmV0X25hbWUKICAgIGNvbmZpZy5SRUdJT05fTkFNRSA9IHJlZ2lvbl9uYW1lCiAgICBjb25maWcuQVRIRU5BX0RBVEFCQVNFID0gYXRoZW5hX2RhdGFiYXNlCiAgICBjb25maWcuQVdTX0FDQ0VTU19LRVlfSUQgPSBhd3NfYWNjZXNzX2tleV9pZAogICAgY29uZmlnLkFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IGF3c19zZWNyZXRfYWNjZXNzX2tleQogICAgY29uZmlnLkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24KICAgIGNvbmZpZy5TMyA9IGJvdG8zLmNsaWVudCgKICAgICAgICAiczMiLAogICAgICAgIHJlZ2lvbl9uYW1lPWNvbmZpZy5SRUdJT05fTkFNRSwKICAgICAgICBhd3NfYWNjZXNzX2tleV9pZD1jb25maWcuQVdTX0FDQ0VTU19LRVlfSUQsCiAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkKICAgICkKICAgIGNvbmZpZy5BVEhFTkFfQ0xJRU5UID0gY29ubmVjdGlvbnNfYXdzLmdldF9hdGhlbmFfY29ubmVjdGlvbigpCiAgICBjb25maWcuUkVEU0hJRlRfQ09OTiA9IGNvbm5lY3Rpb25zX2F3cy5nZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpCiAgICBjb25maWcuUVVFUllfQlVDS0VUID0gcXVlcnlfYnVja2V0CiAgICBsb2dnZXIuaW5mbyhmIiBWYWx1ZSBvZiBhdGhlbmEgZGF0YWJhc2Uge2NvbmZpZy5BVEhFTkFfREFUQUJBU0V9IikKICAgIGxvZ2dlci5pbmZvKGYiIFZhbHVlIG9mIHNwb3RkYXRhIHNvdXJjZSB7Y29uZmlnLkFUSEVOQV9EQVRBQkFTRX0ue2NvbmZpZy5TUE9UREFUQV9TT1VSQ0V9IikKICAgIAoKCgpkZWYgX21haW4oaW5wdXRfZGF0YSk6CiAgICAKICAgIHJhbmRvbS5zZWVkKDIwKQogICAgCiAgICAKICAgIHRyeToKICAgICAgICBsb2dnZXIuaW5mbygnKG1haW4uX19tYWluX18pIFByb2Nlc3NpbmcnKQogICAgICAgIAogICAgICAgIGNsaWVudGtleSA9IGlucHV0X2RhdGFbJ2NsaWVudGtleSddCiAgICAgICAga3BpX2luZGV4ID0gaW5wdXRfZGF0YVsna3BpX2luZGV4J10KICAgICAgICBzdGFydF9kYXRlID0gaW5wdXRfZGF0YVsnc3RhcnRfZGF0ZSddCiAgICAgICAgZW5kX2RhdGUgPSBpbnB1dF9kYXRhWydlbmRfZGF0ZSddCiAgICAgICAgcHJpbnQoJ3N0YXJ0X2RhdGU9Jywgc3RhcnRfZGF0ZSkKICAgICAgICBwcmludCgnZW5kX2RhdGU9JywgZW5kX2RhdGUpCiAgICAgICAgaW5jbHVkZV9pbXByZXNzaW9ucyA9IGJvb2woaW5wdXRfZGF0YVsnaW5jbHVkZV9pbXByZXNzaW9ucyddKQogICAgICAgIGluY2x1ZGVfZnJlZXNwb3RzID0gYm9vbChpbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddKQoKICAgICAgICBsb29rYmVmb3JlX21pbnMgPSBpbnQoMykKICAgICAgICBsb29rYWZ0ZXJfbWlucyA9IGludCgzKQoKICAgICAgICBvcHRfcGVuYWx0eV9zdGF0aW9uID0gaW50KGlucHV0X2RhdGFbJ29wdF9wZW5hbHR5X3N0YXRpb24nXSkKICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0ID0gaW50KGlucHV0X2RhdGFbJ29wdF9wZW5hbHR5X2RheXBhcnQnXSkKICAgICAgICBvcHRfcGVuYWx0eV9idWNrZXQgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X3BlbmFsdHlfYnVja2V0J10pCiAgICAgICAgb3B0X3BlbmFsdHlfdmFyaWFuY2UgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X3BlbmFsdHlfdmFyaWFuY2UnXSkKICAgICAgICBvcHRfbWF4X3NlY29uZHMgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X21heF9zZWNvbmRzJ10pCgogICAgICAgIGJyYW5jaCA9IGlucHV0X2RhdGFbJ2JyYW5jaCddCgogICAgICAgIGlmIHN0cihicmFuY2gpIG5vdCBpbiBbImRldiIsICJtYXN0ZXIiXToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFUlJPUjogSW52YWxpZCBicmFuY2ggKGRldiwgbWFzdGVyKScpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCdFUlJPUjogSW52YWxpZCBicmFuY2ggKGRldiwgbWFzdGVyKScpCgogICAgICAgIHRyeToKICAgICAgICAgICAgIyBUaGlzIGFsbG93cyBqZW5raW5zIGpvYiB0byBydW4gZXZlcnkgZGF5IGFuZCBmaW5kIHllc3RlcmRheSdzIGRhdGUKICAgICAgICAgICAgaWYgZW5kX2RhdGUubG93ZXIoKSA9PSAiZGVmYXVsdCI6CiAgICAgICAgICAgICAgICBjdXJyX2RhdGUgPSBkYXRldGltZS5ub3coKQogICAgICAgICAgICAgICAgI3ByZXZfc3VuID0gY3Vycl9kYXRlIC0gdGltZWRlbHRhKGN1cnJfZGF0ZS53ZWVrZGF5KCkgKyAxKQogICAgICAgICAgICAgICAgcHJldl9kYXkgPSBjdXJyX2RhdGUgLSB0aW1lZGVsdGEoMSkKICAgICAgICAgICAgICAgIGVuZF9kYXRlX3N0cmluZyA9IGYne3ByZXZfZGF5LnllYXJ9LXtzdHIoIns6MDJkfSIuZm9ybWF0KHByZXZfZGF5Lm1vbnRoKSl9LXtzdHIoIns6MDJkfSIuZm9ybWF0KHByZXZfZGF5LmRheSkpfScKICAgICAgICAgICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzFdKSwgZGF5PWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiQ2hhbmdpbmcgRW5kIERhdGUgdG8ge2VuZF9kYXRlX3N0cmluZ30iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJFbmQgRGF0ZSBpcyB7ZW5kX2RhdGV9IikKICAgICAgICAgICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlLnNwbGl0KCItIilbMF0pLCBtb250aD1pbnQoZW5kX2RhdGUuc3BsaXQoIi0iKVsxXSksIGRheT1pbnQoZW5kX2RhdGUuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKCiAgICAgICAgICAgICMgQ2FsY3VsYXRlcyB0aGUgU3RhcnQgRGF0ZSB0byA2IG1vbnRocyBmcm9tIEVuZCBEYXRlIHdoZW4gZGVmYXVsdCBpcyB1c2VkCiAgICAgICAgICAgIGlmIHN0YXJ0X2RhdGUubG93ZXIoKSA9PSAiZGVmYXVsdCI6CiAgICAgICAgICAgICAgICBuZXdfc3RhcnRfZGF0ZSA9IGVuZF9kdCArIHRpbWVkZWx0YShkYXlzPS0xODMpCiAgICAgICAgICAgICAgICBuZXdfc3RhcnRfZGF0ZV9zdHJpbmcgPSBmJ3tuZXdfc3RhcnRfZGF0ZS55ZWFyfS17c3RyKCJ7OjAyZH0iLmZvcm1hdChuZXdfc3RhcnRfZGF0ZS5tb250aCkpfS17c3RyKCJ7OjAyZH0iLmZvcm1hdChuZXdfc3RhcnRfZGF0ZS5kYXkpKX0nCiAgICAgICAgICAgICAgICBzdGFydF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KG5ld19zdGFydF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KG5ld19zdGFydF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzFdKSwgZGF5PWludChuZXdfc3RhcnRfZGF0ZV9zdHJpbmcuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiQ2hhbmdpbmcgU3RhcnQgRGF0ZSB0byB7c3RyKG5ld19zdGFydF9kYXRlX3N0cmluZyl9IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXJ0X2R0ID0gZGF0ZXRpbWUoeWVhcj1pbnQoc3RhcnRfZGF0ZS5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KHN0YXJ0X2RhdGUuc3BsaXQoIi0iKVsxXSksIGRheT1pbnQoc3RhcnRfZGF0ZS5zcGxpdCgiLSIpWzJdKSwgaG91cj0wKQogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJTdGFydCBEYXRlIGlzIHtzdHIoc3RhcnRfZHQpfSIpCgogICAgICAgICAgICBsb2dnZXIuaW5mbygiSW5wdXQgVmFyaWFibGVzIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmImNsaWVudGtleToge2NsaWVudGtleX0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmImtwaV9pbmRleDoge2twaV9pbmRleH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmInN0YXJ0X2R0OiB7c3RhcnRfZHR9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJlbmRfZHQ6IHtlbmRfZHR9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJsb29rYmVmb3JlX21pbnM6IHtsb29rYmVmb3JlX21pbnN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJsb29rYWZ0ZXJfbWluczoge2xvb2thZnRlcl9taW5zfSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiaW5jbHVkZV9pbXByZXNzaW9uczoge2luY2x1ZGVfaW1wcmVzc2lvbnN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJpbmNsdWRlX2ZyZWVzcG90czoge2luY2x1ZGVfZnJlZXNwb3RzfSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYib3B0X3BlbmFsdHlfc3RhdGlvbjoge29wdF9wZW5hbHR5X3N0YXRpb259IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJvcHRfcGVuYWx0eV9kYXlwYXJ0OiB7b3B0X3BlbmFsdHlfZGF5cGFydH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmIm9wdF9wZW5hbHR5X2J1Y2tldDoge29wdF9wZW5hbHR5X2J1Y2tldH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmIm9wdF9wZW5hbHR5X3ZhcmlhbmNlOiB7b3B0X3BlbmFsdHlfdmFyaWFuY2V9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJvcHRfbWF4X3NlY29uZHM6IHtvcHRfbWF4X3NlY29uZHN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJicmFuY2g6IHticmFuY2h9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoKICAgICAgICAgICAgIyBSdW4gdGhlIFRWTyBQRVJGT1JNQU5DRSBwaXBlbGluZQogICAgICAgICAgICAjIHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMoKQogICAgICAgICAgICByZXN1bHRzID0gcGlwZWxpbmUucnVuKGNsaWVudGtleSwgc3RhcnRfZHQsIGVuZF9kdCwga3BpX2luZGV4LCBsb29rYmVmb3JlX21pbnMsIGxvb2thZnRlcl9taW5zLCBpbmNsdWRlX2ltcHJlc3Npb25zLCBpbmNsdWRlX2ZyZWVzcG90cywgYnJhbmNoKQoKICAgICAgICAgICAgY29ubmVjdGlvbnNfYXdzLmNsb3NlX2Nvbm5lY3Rpb25zKCkKCiAgICAgICAgICAgICMgUnVuIFRWTyBPUFRJTUlaQVRJT04KICAgICAgICAgICAgIyBvcHRpbWl6YXRpb24ucnVuKGNsaWVudGtleSwgc3RhcnRfZHQsIGVuZF9kdCwga3BpX2luZGV4LCBvcHRfcGVuYWx0eV9zdGF0aW9uLCBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCkKICAgICAgICAgICAgcmV0dXJuX29iaiA9IFt7J2NsaWVudGtleSc6aW5wdXRfZGF0YVsnY2xpZW50a2V5J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0X2RhdGUnOmlucHV0X2RhdGFbJ3N0YXJ0X2RhdGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOmlucHV0X2RhdGFbJ2VuZF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6aW5wdXRfZGF0YVsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2tiZWZvcmVfbWlucyc6aW5wdXRfZGF0YVsnbG9va2JlZm9yZV9taW5zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2thZnRlcl9taW5zJzppbnB1dF9kYXRhWydsb29rYWZ0ZXJfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJzppbnB1dF9kYXRhWydpbmNsdWRlX2ltcHJlc3Npb25zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGVfZnJlZXNwb3RzJzppbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOidzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtX3JlY29yZHMnOmxlbihyZXN1bHRzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOidOb25lJ31dCiAgICAgICAgICAgIHJldHVybiByZXR1cm5fb2JqCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJFUlJPUjogTWFpbiBGdW5jdGlvbjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICAjIHJhaXNlIEV4Y2VwdGlvbihmIkVSUk9SOiBNYWluIEZ1bmN0aW9uOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgcmV0dXJuX29iaiA9IFt7J2NsaWVudGtleSc6aW5wdXRfZGF0YVsnY2xpZW50a2V5J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0X2RhdGUnOmlucHV0X2RhdGFbJ3N0YXJ0X2RhdGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOmlucHV0X2RhdGFbJ2VuZF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6aW5wdXRfZGF0YVsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2tiZWZvcmVfbWlucyc6aW5wdXRfZGF0YVsnbG9va2JlZm9yZV9taW5zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2thZnRlcl9taW5zJzppbnB1dF9kYXRhWydsb29rYWZ0ZXJfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJzppbnB1dF9kYXRhWydpbmNsdWRlX2ltcHJlc3Npb25zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGVfZnJlZXNwb3RzJzppbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOidmYWlsZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcic6ZiJFUlJPUjogTWFpbiBGdW5jdGlvbjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9In1dCiAgICAgICAgICAgIHJldHVybiByZXR1cm5fb2JqCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIHBhcnNpbmcgY29tbWFuZCBsaW5lIGFyZ3VtZW50czogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9JykKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgIyByYWlzZSBFeGNlcHRpb24oZidFcnJvciBwYXJzaW5nIGNvbW1hbmQgbGluZSBhcmd1bWVudHM6IExpbmU6IHtmb3JtYXQoc3lzLmV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nKQogICAgICAgIHJldHVybl9vYmogPSBbeydjbGllbnRrZXknOmlucHV0X2RhdGFbJ2NsaWVudGtleSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFydF9kYXRlJzppbnB1dF9kYXRhWydzdGFydF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZF9kYXRlJzppbnB1dF9kYXRhWydlbmRfZGF0ZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdrcGlfaW5kZXgnOmlucHV0X2RhdGFbJ2twaV9pbmRleCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdsb29rYmVmb3JlX21pbnMnOmlucHV0X2RhdGFbJ2xvb2tiZWZvcmVfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdsb29rYWZ0ZXJfbWlucyc6aW5wdXRfZGF0YVsnbG9va2FmdGVyX21pbnMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucyc6aW5wdXRfZGF0YVsnaW5jbHVkZV9pbXByZXNzaW9ucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ZyZWVzcG90cyc6aW5wdXRfZGF0YVsnaW5jbHVkZV9mcmVlc3BvdHMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzonZmFpbGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOmYnRXJyb3IgcGFyc2luZyBjb21tYW5kIGxpbmUgYXJndW1lbnRzOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nfV0KICAgICAgICByZXR1cm4gcmV0dXJuX29iagoKIyBweXRob24gbWFpbi5weSAtLWNsaWVudGtleSBjdWJpaSAtLWtwaS1pbmRleCAyIC0tc3RhcnQtZGF0ZSBkZWZhdWx0IC0tZW5kLWRhdGUgZGVmYXVsdCAgLS1pbmNsdWRlLWltcHJlc3Npb25zIFRydWUgLS1pbmNsdWRlLWZyZWVzcG90cyBUcnVlIC0tbG9va2JlZm9yZS1taW5zIDMgLS1sb29rYWZ0ZXItbWlucyAzIC0tb3B0LXBlbmFsdHktc3RhdGlvbiAxIC0tb3B0LXBlbmFsdHktZGF5cGFydCAxIC0tb3B0LXBlbmFsdHktYnVja2V0IDEgLS1vcHQtcGVuYWx0eS12YXJpYW5jZSAxIC0tb3B0LW1heC1zZWNvbmRzIDYwIC0tYnJhbmNoIGRldgo=\\\\\\\",\\\\\\\"4849688\\\\\\\":\\\\\\\"aW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwppbXBvcnQgcmUKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCB0aW1lCmltcG9ydCBjc3YKZnJvbSBjb3B5IGltcG9ydCBkZWVwY29weQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCmltcG9ydCBkYXRldGltZQpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcmVkdWNlCmZyb20gaXRlcnRvb2xzIGltcG9ydCBwcm9kdWN0CmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgYm90bzMKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IHB1bHAgYXMgcGxwCmZyb20gaW1weXV0ZS5pbXB1dGF0aW9uLmNzIGltcG9ydCBmYXN0X2tubgppbXBvcnQgdXRpbHMKaW1wb3J0IHdhcm5pbmdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgojIFMzX1RBUkdFVF9CVUNLRVQgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24nCiMgUzNfVEFSR0VUX0JVQ0tFVF9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwoKUzNfREFURVRJTUVfRk9STUFUID0gIiVZLSVtLSVkLSVILSVNLSVTIgpQRVJGT1JNQU5DRV9GSUxFX05BTUUgPSAib3V0cHV0X2FnZ3JlZ2F0ZWRfbGlmdF9kYXRhLmNzdiIKT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCA9ICIlWS0lbS0lZCAlSDolTTolUyIKCkNSRUFUSVZFX0xFTkdUSFNfVE9fT1BUSU1JWkUgPSBbMTUsIDMwLCA2MF0KREVDSU1BTF9QUkVDSVNJT04gPSAyCgpyZWNvbW1lbmRhdGlvbl9udW1iZXJfb2Zfd2VlayA9IDQKY29tcGFyaW5nX251bWJlcl9vZl93ZWVrID0gNApoaXN0b3J5X251bWJlcl9vZl93ZWVrID0gNApzdGF0aW9uX3BlcmNlbnRhZ2VfY2hhbmdlID0gMC4yCmRheXBhcnRfcGVyY2VudGFnZV9jaGFuZ2UgPSAwLjIKYnVja2V0X3BlcmNlbnRhZ2VfY2hhbmdlID0gMC41CnJlY29tbWVuZGF0aW9uX2xldmVsID0gWyJzdGF0aW9uIiwgImRheXBhcnQiLCAibGVuZ3RoIl0KdG9Qcm9qZWN0ID0gRmFsc2UKCgpkZWYgcnVuKGNsaWVudGtleSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGtwaV9pbmRleCwgb3B0X3BlbmFsdHlfc3RhdGlvbiwgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gpOgogICAgcmFuZG9tLnNlZWQoMjApCiAgICAKICAgIHRyeToKICAgICAgICBsb2dnZXIuaW5mbygnKG9wdGltaXphdGlvbi5ydW4pIFN0YXJ0aW5nIE9wdGltaXphdGlvbicpCiAgICAgICAgcGVyZm9ybWFuY2VfZGYgPSBwZC5yZWFkX2NzdihQRVJGT1JNQU5DRV9GSUxFX05BTUUsIHNlcD0nLCcsIGhlYWRlcj0iaW5mZXIiLCBxdW90aW5nPWNzdi5RVU9URV9NSU5JTUFMLCBsaW5ldGVybWluYXRvcj1Ob25lLCBlbmNvZGluZz0ndXRmLTgnKQogICAgICAgIHBlcmZvcm1hbmNlX2RmID0gcGVyZm9ybWFuY2VfZGYuYXNzaWduKGRhdGU9cGQudG9fZGF0ZXRpbWUocGVyZm9ybWFuY2VfZGZbImRhdGUiXSwgZm9ybWF0PSIlWS0lbS0lZCIpKQogICAgICAgIHBlcmZvcm1hbmNlX2RmID0gcGVyZm9ybWFuY2VfZGYubG9jW1t4LmRhdGUoKSA8IChkYXRldGltZS5kYXRldGltZS5ub3coKSAtIHRpbWVkZWx0YShkYXlzPWRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLndlZWtkYXkoKSkpLmRhdGUoKSBmb3IgeCBpbiBwZXJmb3JtYW5jZV9kZi5kYXRlXV0KICAgICAgICBwZXJmb3JtYW5jZV9kZiA9IHBlcmZvcm1hbmNlX2RmLmxvY1twZXJmb3JtYW5jZV9kZlsiYnV5X2NvZGVzIl0gPT0gIkRSIl0uZHJvcG5hKGF4aXM9MCwgaG93PSdhbnknLCB0aHJlc2g9Tm9uZSwgc3Vic2V0PXJlY29tbWVuZGF0aW9uX2xldmVsLCBpbnBsYWNlPUZhbHNlKQoKICAgICAgICBjYXBfb25fYnVja2V0ID0gcGQuRGF0YUZyYW1lKHsic3RhdGlvbiI6IFtdLCAiZGF5cGFydCI6IFtdLCAiY2FwIjogW119KQogICAgICAgIGV4YW1wbGUgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihleGFtcGxlKSk6CiAgICAgICAgICAgIGNhcF9vbl9idWNrZXQgPSBjYXBfb25fYnVja2V0LmFwcGVuZCh7InN0YXRpb24iOiBleGFtcGxlW2ldWzBdLCAiZGF5cGFydCI6IGV4YW1wbGVbaV1bMV0sICJjYXAiOiBleGFtcGxlW2ldWzJdfSwgaWdub3JlX2luZGV4PVRydWUpCgoKICAgICAgICBydW5fZGF0ZXRpbWUgPSBkYXRldGltZS5kYXRldGltZS5ub3coKQogICAgICAgIHNhX2RhdGV0aW1lID0gcnVuX2RhdGV0aW1lCgogICAgICAgIGNvbXBhcmlzb25fZGYsIGJhY2t0ZXN0aW5fZGYsIGhpc3RvcmljYWxfZGYgPSBnZXRfbGF0ZXN0X3dlZWtzKHBlcmZvcm1hbmNlX2RmKQogICAgICAgIAogICAgICAgIGlmKGJhY2t0ZXN0aW5fZGYuc2hhcGVbMF0gPT0gMCk6CiAgICAgICAgICAgIGJhY2t0ZXN0aW5fZGYgPSBoaXN0b3JpY2FsX2RmCgogICAgICAgIGlmIChjb21wYXJpc29uX2RmLm5ldF9yYXRlLm1heCgpID09IDAuMCk6CiAgICAgICAgICAgICMgc3lzLmV4aXQoMCkKICAgICAgICAgICAgcmFpc2UgCgogICAgICAgIGluY29uc2lzdGVuY3kgPSBbXQoKICAgICAgICBzdGF0aW9uX3NwZW5kLCBkYXlwYXJ0X3NwZW5kLCBidWNrZXRfc3BlbmQgPSBnZW5lcmF0ZV9jb25zdHJhaW50KGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpCgogICAgICAgIG5ldCwgbGlmdF9wZXJfZG9sbGFyID0gZ2VuZXJhdGVfZm9yZWNhc3RfbWV0cmljcyhjb21wYXJpc29uX2RmLCBoaXN0b3JpY2FsX2RmKQogICAgICAgIFNpID0ge2k6IG5ldFsibWVkaWFuIl0uaWxvY1tpXSBmb3IgaSBpbiByYW5nZShsZW4obmV0KSl9CiAgICAgICAgTFBEaSA9IHtpOiBsaWZ0X3Blcl9kb2xsYXJbIm9yaTUwIl0uaWxvY1tpXSBmb3IgaSBpbiByYW5nZShsZW4obGlmdF9wZXJfZG9sbGFyKSl9CiAgICAgICAgZnJlZV9idWNrZXRzID0gbnAud2hlcmUobmV0WyJtZWFuIl0gPT0gMClbMF0KCiAgICAgICAgc3VpID0ge2k6IDcwICogcmVjb21tZW5kYXRpb25fbnVtYmVyX29mX3dlZWsgZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpfQogICAgICAgIHNsaSA9IHtpOiAwIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKX0KCgogICAgICAgICMgU3VtbWFyeSBtYXRyaXggb2Ygc3RhdGlvbiBhbmQgZGF5cGFydAogICAgICAgIHN0YXRpb25fbGlzdCA9IGxpc3QobmV0LnN0YXRpb24uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkKICAgICAgICBkYXlwYXJ0X2xpc3QgPSBsaXN0KG5ldC5kYXlwYXJ0LnNvcnRfdmFsdWVzKCkudW5pcXVlKCkpCiAgICAgICAgU3RhdGlvbl9NYXRyaXgsIERheXBhcnRfTWF0cml4LCBGcmVxdWVuY3lfTWF0cml4LCBoaXN0b3JpY2FsX3NkLCBmcmVxdWVuY3lfdWIgPSBnZW5lcmF0ZV9mcmVxdWVuY3kobmV0KQoKICAgICAgICAjIGJ1ZGdldAogICAgICAgIHNjZW5hcmlvcyA9IFs3MCwgMTAwLCAxMzBdCgogICAgICAgIGZvciBzY2VuYXJpbyBpbiBzY2VuYXJpb3M6CiAgICAgICAgICAgIG9wdF9kYXRldGltZSA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpCgogICAgICAgICAgICBidWRnZXQgPSBucC5zdW0oY29tcGFyaXNvbl9kZi5uZXRfcmF0ZSkgKiBzY2VuYXJpbyAvIDEwMAogICAgICAgICAgICBTdGF0aW9uX1NoYXJlX2kgPSB7aTogc3RhdGlvbl9zcGVuZC5wZXJjZW50YWdlW2ldICogYnVkZ2V0IGZvciBpIGluIHJhbmdlKGxlbihzdGF0aW9uX2xpc3QpKX0KICAgICAgICAgICAgRGF5cGFydF9TaGFyZV9pID0ge2k6IGRheXBhcnRfc3BlbmQucGVyY2VudGFnZVtpXSAqIGJ1ZGdldCBmb3IgaSBpbiByYW5nZShsZW4oZGF5cGFydF9saXN0KSl9CiAgICAgICAgICAgIEJ1Y2tldF9TaGFyZV9pID0ge2k6IGJ1Y2tldF9zcGVuZC5wZXJjZW50YWdlW2ldICogYnVkZ2V0IGZvciBpIGluIHJhbmdlKGxlbihuZXQpKX0KCiAgICAgICAgICAgICMgQ3JlYXRlIGEgTFAgcHJvYmxlbQogICAgICAgICAgICBvcHRfbW9kZWwgPSBwbHAuTHBQcm9ibGVtKCJTUE9wVGltaXplIE1vZGVsIiwgcGxwLkxwTWluaW1pemUpCgogICAgICAgICAgICAjIENyZWF0ZSB2YXJpYWJsZSAobnVtYmVyIG9mIHNwb3RzIGZvciBlYWNoIGJ1Y2tldCkKICAgICAgICAgICAgeF92YXJzID0ge2k6cGxwLkxwVmFyaWFibGUoY2F0PSJJbnRlZ2VyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93Qm91bmQ9c2xpW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cEJvdW5kPXN1aVtpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0ieHswfSIuZm9ybWF0KGkpKSBmb3IgaSBpbiByYW5nZShsZW4obmV0KSl9CgogICAgICAgICAgICAjIEFkZCBvYmplY3RpdmUKICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5scFN1bSgKICAgICAgICAgICAgICAgICgtMSkgKiB4X3ZhcnNbaV0gKiBTaVtpXSAqIExQRGlbaV0gKiBlbGFzdGljaXR5KHhfdmFyc1tpXSkgKyBvcHRfcGVuYWx0eV92YXJpYW5jZSAqIHhfdmFyc1tpXSAqIGxpZnRfcGVyX2RvbGxhclsidmFyIl1baV0KICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSkKCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzdGF0aW9uX2xpc3QpKToKICAgICAgICAgICAgICAgICMgTWF4aW11bSAyMCUgY2hhbmdlIGluIGEgc3RhdGlvbidzIHNoYXJlIG9mIHRvdGFsIHNwZW5kIChjb21wYXJlZCBhZ2FpbnN0IGxhc3QgNCB3ZWVrcyBvZiBkYXRhKQogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKFN0YXRpb25fTWF0cml4W2ldW2pdICogU2lbaV0gKiB4X3ZhcnNbaV0gZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpKSwKICAgICAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50RVEsCiAgICAgICAgICAgICAgICAgICAgcmhzPVN0YXRpb25fU2hhcmVfaVtqXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X1N0YXRpb25fU2hhcmVfezB9Ii5mb3JtYXQoaikpCiAgICAgICAgICAgICAgICBvcHRfbW9kZWwuZXh0ZW5kKHRtcF9jb25zdHJhaW50Lm1ha2VFbGFzdGljU3ViUHJvYmxlbShwZW5hbHR5PW9wdF9wZW5hbHR5X3N0YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9ydGlvbkZyZWVCb3VuZD1zdGF0aW9uX3BlcmNlbnRhZ2VfY2hhbmdlKSkKICAgICAgICAgICAgIyA2MCBzZWNvbmRzIG9mIGFkIHRpbWUgYWxsb3dlZCBwZXIgaG91cgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oaGlzdG9yaWNhbF9zZCkpOgogICAgICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5McENvbnN0cmFpbnQoCiAgICAgICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2pdICogRnJlcXVlbmN5X01hdHJpeFtqXVtpXSBmb3IgaiBpbiByYW5nZShsZW4obmV0KSkpLAogICAgICAgICAgICAgICAgICAgIHNlbnNlPXBscC5McENvbnN0cmFpbnRMRSwKICAgICAgICAgICAgICAgICAgICByaHM9ZnJlcXVlbmN5X3ViW2ldLAogICAgICAgICAgICAgICAgICAgIG5hbWU9ImNvbnN0cmFpbnRfNjBzZWNfYWxsb3dlZF97MH0iLmZvcm1hdChpKSkKCgogICAgICAgICAgICAjIENvbnN0cmFpbnQgb24gY2FwIHN0YXRpb24vZGF5cGFydCBsZXZlbAogICAgICAgICAgICBmb3IgYyBpbiByYW5nZShsZW4oY2FwX29uX2J1Y2tldCkpOgogICAgICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5McENvbnN0cmFpbnQoCiAgICAgICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oCiAgICAgICAgICAgICAgICAgICAgICAgIHhfdmFyc1tpXSAqIFN0YXRpb25fTWF0cml4W2ldW3N0YXRpb25fbGlzdC5pbmRleChjYXBfb25fYnVja2V0WyJzdGF0aW9uIl1bY10pXSAqIERheXBhcnRfTWF0cml4W2ldWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5cGFydF9saXN0LmluZGV4KGNhcF9vbl9idWNrZXRbImRheXBhcnQiXVtjXSldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgICAgIHJocz1jYXBfb25fYnVja2V0WyJjYXAiXVtjXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X2NhcF9VQl97MH0iLmZvcm1hdChjKSkKCiAgICAgICAgICAgICMgVG90YWwgc3BlbmQgbGVzcyB0aGFuIGJ1ZGdldAogICAgICAgICAgICBvcHRfbW9kZWwgKz0gcGxwLkxwQ29uc3RyYWludCgKICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKFNpW2ldICogeF92YXJzW2ldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50TEUsCiAgICAgICAgICAgICAgICByaHM9YnVkZ2V0LAogICAgICAgICAgICAgICAgbmFtZT0iY29uc3RyYWludF9TcGVuZCIpCiAgICAgICAgICAgICMgVG90YWwgbnVtYmVyIG9mIHNwb3RzIGdyZWF0ZXIgdGhhbiAwCiAgICAgICAgICAgIG9wdF9tb2RlbCArPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2ldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50R0UsCiAgICAgICAgICAgICAgICByaHM9MSwKICAgICAgICAgICAgICAgIG5hbWU9ImNvbnN0cmFpbnRfU3BvdF9MQiIpCiAgICAgICAgICAgICMgTm8gRnJlZSBTcG90cwogICAgICAgICAgICBvcHRfbW9kZWwgKz0gcGxwLkxwQ29uc3RyYWludCgKICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKHhfdmFyc1tpXSBmb3IgaSBpbiBmcmVlX2J1Y2tldHMpLAogICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgcmhzPTAsCiAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0ZyZWVfQnVja2V0IikKICAgICAgICAgICAgIyBObyBJbmNvbnNpc3RlbnQgQnVja2V0CiAgICAgICAgICAgIG9wdF9tb2RlbCArPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2ldIGZvciBpIGluIGluY29uc2lzdGVuY3kpLAogICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgcmhzPTAsCiAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X1VucHJlZGljdGFibGUiKQogICAgICAgICAgICAjIE1heGltdW0gMjAlIGNoYW5nZSBpbiBhIGRheXBhcnQncyBzaGFyZSBvZiB0b3RhbCBzcGVuZCAoY29tcGFyZWQgYWdhaW5zdCBsYXN0IDQgd2Vla3Mgb2YgZGF0YSkKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKGRheXBhcnRfbGlzdCkpOgogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKERheXBhcnRfTWF0cml4W2ldW2pdICogU2lbaV0gKiB4X3ZhcnNbaV0gZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpKSwKICAgICAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50RVEsCiAgICAgICAgICAgICAgICAgICAgcmhzPURheXBhcnRfU2hhcmVfaVtqXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0RheXBhcnRfU2hhcmVfezB9Ii5mb3JtYXQoaikpCiAgICAgICAgICAgICAgICBvcHRfbW9kZWwuZXh0ZW5kKHRtcF9jb25zdHJhaW50Lm1ha2VFbGFzdGljU3ViUHJvYmxlbShwZW5hbHR5PW9wdF9wZW5hbHR5X2RheXBhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9ydGlvbkZyZWVCb3VuZD1kYXlwYXJ0X3BlcmNlbnRhZ2VfY2hhbmdlKSkKICAgICAgICAgICAgIyBNYXhpbXVtIDUwJSBjaGFuZ2UgaW4gYSBidWNrZXQncyBzaGFyZSBvZiB0b3RhbCBzcGVuZCAoY29tcGFyZWQgYWdhaW5zdCBsYXN0IDQgd2Vla3Mgb2YgZGF0YSkKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpOgogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9eF92YXJzW2ldICogU2lbaV0sCiAgICAgICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludEVRLAogICAgICAgICAgICAgICAgICAgIHJocz1CdWNrZXRfU2hhcmVfaVtpXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0J1Y2tldF9TcG90X3swfSIuZm9ybWF0KGkpKQogICAgICAgICAgICAgICAgb3B0X21vZGVsLmV4dGVuZCgKICAgICAgICAgICAgICAgICAgICB0bXBfY29uc3RyYWludC5tYWtlRWxhc3RpY1N1YlByb2JsZW0ocGVuYWx0eT1vcHRfcGVuYWx0eV9idWNrZXQsIHByb3BvcnRpb25GcmVlQm91bmQ9YnVja2V0X3BlcmNlbnRhZ2VfY2hhbmdlKSkKCiAgICAgICAgICAgIG9wdF9tb2RlbC5zb2x2ZShwbHAuUFVMUF9DQkNfQ01EKG1heFNlY29uZHM9b3B0X21heF9zZWNvbmRzKSkKICAgICAgICAgICAgbG9nZ2VyLmluZm8oInN0YXR1czoge30iLmZvcm1hdChvcHRfbW9kZWwuc3RhdHVzKSkKICAgICAgICAgICAgb3B0X2RmID0gcGQuRGF0YUZyYW1lLmZyb21fZGljdCh4X3ZhcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50PSJpbmRleCIpCiAgICAgICAgICAgIG9wdF9kZi5jb2x1bW5zID0gWyJ2YXJpYWJsZV9vYmplY3QiXQogICAgICAgICAgICBvcHRfZGYucmVzZXRfaW5kZXgoaW5wbGFjZT1UcnVlKQoKICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdID0gb3B0X2RmWyJ2YXJpYWJsZV9vYmplY3QiXS5hcHBseShsYW1iZGEgaXRlbTogaXRlbS52YXJWYWx1ZSkKICAgICAgICAgICAgb3B0X2RmLmRyb3AoY29sdW1ucz1bInZhcmlhYmxlX29iamVjdCJdLCBpbnBsYWNlPVRydWUpCgogICAgICAgICAgICAjIyMgT1VUUFVUIEdFTkVSQVRJT04gIyMjCiAgICAgICAgICAgIGdlbmVyYXRlX291dHB1dHMoCiAgICAgICAgICAgICAgICBjbGllbnRrZXksIAogICAgICAgICAgICAgICAgc3RhcnRfZGF0ZSwgCiAgICAgICAgICAgICAgICBlbmRfZGF0ZSwgCiAgICAgICAgICAgICAgICBrcGlfaW5kZXgsCiAgICAgICAgICAgICAgICBvcHRfZGYsCiAgICAgICAgICAgICAgICBjb21wYXJpc29uX2RmLAogICAgICAgICAgICAgICAgaGlzdG9yaWNhbF9kZiwKICAgICAgICAgICAgICAgIG5ldCwKICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhciwKICAgICAgICAgICAgICAgIHNjZW5hcmlvLAogICAgICAgICAgICAgICAgc2FfZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICBvcHRfZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9zdGF0aW9uLCAKICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQsIAogICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfYnVja2V0LCAKICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCAKICAgICAgICAgICAgICAgIG9wdF9tYXhfc2Vjb25kcywKICAgICAgICAgICAgICAgIGJyYW5jaAogICAgICAgICAgICApCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5ydW4pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLnJ1bikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZWxhc3RpY2l0eShzcG90c19wZXJfYnVja2V0LCByYXRlPTAuOCwgd2Vlaz1yZWNvbW1lbmRhdGlvbl9udW1iZXJfb2Zfd2Vlayk6CiAgICByZXR1cm4gMQoKZGVmIGdlbmVyYXRlX2VmZmljaWVuY3koZGYsIHBlcmlvZCk6CiAgICB0cnk6CiAgICAgICAgbGlmdHBlcmRvbGxhcl9kZiA9IGRmW3JlY29tbWVuZGF0aW9uX2xldmVsXS5hc3NpZ24oCiAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhciA9IGRmWyJsaWZ0Il0gLyBkZlsibmV0X3JhdGUiXSkKICAgICAgICBsaWZ0cGVyZG9sbGFyID0gbGlmdHBlcmRvbGxhcl9kZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coCiAgICAgICAgICAgIHsibGlmdF9wZXJfZG9sbGFyIjogbnAubWVkaWFufSkucmVzZXRfaW5kZXgoKQogICAgICAgIGxpZnRwZXJkb2xsYXIuY29sdW1ucyA9IHJlY29tbWVuZGF0aW9uX2xldmVsICsgW3BlcmlvZCArICJfZWZmIl0KICAgICAgICBsaWZ0cGVyZG9sbGFyID0gbGlmdHBlcmRvbGxhci5yZXBsYWNlKFtucC5pbmYsIG5wLk5JTkZdLCAwKQogICAgICAgIGxpZnRwZXJkb2xsYXIgPSBsaWZ0cGVyZG9sbGFyLmZpbGxuYSgwKQogICAgICAgIHJldHVybiBsaWZ0cGVyZG9sbGFyCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9lZmZpY2llbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9lZmZpY2llbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9jb25zdHJhaW50KGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpOgogICAgdHJ5OgogICAgICAgIHVuaXF1ZV9saXN0ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4ocmVjb21tZW5kYXRpb25fbGV2ZWwpKToKICAgICAgICAgICAgdW5pcXVlX2xpc3QuYXBwZW5kKGxpc3QoaGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbFtpXV0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkpCiAgICAgICAgZmllbGRzID0gWyJzdGF0aW9uIiwgImRheXBhcnQiLCAiYnVja2V0Il0KICAgICAgICBjb25zdHJhaW50cyA9IGxpc3QoKQogICAgICAgIGZvciBmaWVsZCBpbiBmaWVsZHM6CiAgICAgICAgICAgIGlmIGZpZWxkICE9ICJidWNrZXQiOgogICAgICAgICAgICAgICAgZ3JvdXBfbGlzdCA9IGxpc3QoaGlzdG9yaWNhbF9kZltmaWVsZF0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkKICAgICAgICAgICAgICAgIGdyb3VwID0gY29tcGFyaXNvbl9kZi5ncm91cGJ5KFtmaWVsZF0pLmFnZyh7Im5ldF9yYXRlIjogWyJzdW0iXX0pLnJlc2V0X2luZGV4KCkKICAgICAgICAgICAgICAgIGdyb3VwLmNvbHVtbnMgPSBbZmllbGQsICJzdW0iXQogICAgICAgICAgICAgICAgbWlzc2luZ19ncm91cCA9IHBkLkRhdGFGcmFtZSh7ZmllbGQ6IGxpc3Qoc2V0KGdyb3VwX2xpc3QpIC0gc2V0KGdyb3VwW2ZpZWxkXSkpLCAic3VtIjogMH0pCiAgICAgICAgICAgICAgICBncm91cCA9IHBkLmNvbmNhdChbZ3JvdXAsIG1pc3NpbmdfZ3JvdXBdLCBheGlzID0gMCkuc29ydF92YWx1ZXMoZmllbGQpCiAgICAgICAgICAgICAgICBncm91cFsicGVyY2VudGFnZSJdID0gZ3JvdXBbInN1bSJdIC8gbnAuc3VtKGdyb3VwWyJzdW0iXSkKICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLmFwcGVuZChncm91cCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGdyb3VwID0gY29tcGFyaXNvbl9kZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coeyJuZXRfcmF0ZSI6IFsic3VtIl19KS5yZXNldF9pbmRleCgpCiAgICAgICAgICAgICAgICBncm91cC5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbInN1bSJdCiAgICAgICAgICAgICAgICBhbGxfYnVja2V0ID0gcGQuRGF0YUZyYW1lKGxpc3QocHJvZHVjdCgqdW5pcXVlX2xpc3QpKSwgY29sdW1ucz1yZWNvbW1lbmRhdGlvbl9sZXZlbCkKICAgICAgICAgICAgICAgIGdyb3VwID0gcGQubWVyZ2UoYWxsX2J1Y2tldCwgZ3JvdXAsIGhvdz0ibGVmdCIsIG9uPXJlY29tbWVuZGF0aW9uX2xldmVsKS5maWxsbmEoMCkKICAgICAgICAgICAgICAgIGdyb3VwWyJwZXJjZW50YWdlIl0gPSBncm91cFsic3VtIl0gLyBucC5zdW0oZ3JvdXBbInN1bSJdKQogICAgICAgICAgICAgICAgY29uc3RyYWludHMuYXBwZW5kKGdyb3VwKQogICAgICAgIHJldHVybiBjb25zdHJhaW50c1swXSwgY29uc3RyYWludHNbMV0sIGNvbnN0cmFpbnRzWzJdCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9jb25zdHJhaW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9jb25zdHJhaW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpOgogICAgdHJ5OgogICAgICAgIHVuaXF1ZV9saXN0ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4ocmVjb21tZW5kYXRpb25fbGV2ZWwpKToKICAgICAgICAgICAgdW5pcXVlX2xpc3QuYXBwZW5kKGxpc3QoaGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbFtpXV0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkpCgogICAgICAgIG5ldF9mcm9tX2NvbXBhcmlzb25fZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21fY29tcGFyaXNvbl9kZiA9IGV4dHJhY3Rfc3VtbWFyeShjb21wYXJpc29uX2RmKQogICAgICAgIG5ldF9mcm9tX2hpc3RvcmljYWxfZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21faGlzdG9yaWNhbF9kZiA9IGV4dHJhY3Rfc3VtbWFyeShoaXN0b3JpY2FsX2RmKQoKICAgICAgICBhbGxfYnVja2V0ID0gcGQuRGF0YUZyYW1lKGxpc3QocHJvZHVjdCgqdW5pcXVlX2xpc3QpKSwgY29sdW1ucz1yZWNvbW1lbmRhdGlvbl9sZXZlbCkKICAgICAgICBhbGxfYnVja2V0ID0gYWxsX2J1Y2tldFsKICAgICAgICAgICAgfnBkLlNlcmllcyhsaXN0KHppcChhbGxfYnVja2V0W3JlY29tbWVuZGF0aW9uX2xldmVsXS5hcHBseSh0dXBsZSwgYXhpcz0xKSkpCiAgICAgICAgICAgICAgICAgICAgKS5pc2luKGxpc3QoemlwKG5ldF9mcm9tX2hpc3RvcmljYWxfZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFwcGx5KHR1cGxlLCBheGlzPTEpKSkpXQogICAgICAgIG5ldF9mcm9tX2hpc3RvcmljYWxfZGYgPSBuZXRfZnJvbV9oaXN0b3JpY2FsX2RmW35wZC5TZXJpZXMobGlzdCh6aXAobmV0X2Zyb21faGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKQogICAgICAgICAgICApLmlzaW4obGlzdCh6aXAobmV0X2Zyb21fY29tcGFyaXNvbl9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKSldCiAgICAgICAgbmV0ID0gcGQuY29uY2F0KFtuZXRfZnJvbV9jb21wYXJpc29uX2RmLCBuZXRfZnJvbV9oaXN0b3JpY2FsX2RmLCBhbGxfYnVja2V0XSwgYXhpcz0wLCBpZ25vcmVfaW5kZXg9VHJ1ZSkuc29ydF92YWx1ZXMocmVjb21tZW5kYXRpb25fbGV2ZWwpLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSkKICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGYgPSBsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGZbfnBkLlNlcmllcyhsaXN0KHppcChsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFwcGx5KHR1cGxlLCBheGlzPTEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgKS5pc2luKGxpc3QoemlwKGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21fY29tcGFyaXNvbl9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKSldCiAgICAgICAgbHBkID0gcGQuY29uY2F0KFtsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2NvbXBhcmlzb25fZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21faGlzdG9yaWNhbF9kZiwgYWxsX2J1Y2tldF0sIGF4aXM9MCwgaWdub3JlX2luZGV4PVRydWUpLnNvcnRfdmFsdWVzKHJlY29tbWVuZGF0aW9uX2xldmVsKS5yZXNldF9pbmRleChkcm9wPVRydWUpCgogICAgICAgIGRlZiBjcmVhdGVfZHVtbXlfdmFyaWFibGVzKGRmKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdmFyX3RvX2R1bW15ID0gcmVjb21tZW5kYXRpb25fbGV2ZWwKICAgICAgICAgICAgICAgIGluZGV4ID0gW2kgaW4gbGlzdChkZi5jb2x1bW5zKSBmb3IgaSBpbiB2YXJfdG9fZHVtbXldCiAgICAgICAgICAgICAgICBuZXdfdmFyX3RvX2R1bW15ID0gW3Zhcl90b19kdW1teVtqXSBmb3IgaiBpbiBbaSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUoaW5kZXgpIGlmIHhdXQogICAgICAgICAgICAgICAgb3V0cHV0ID0gcGQuZ2V0X2R1bW1pZXMoZGYsIHByZWZpeF9zZXA9Il8iLCBjb2x1bW5zPW5ld192YXJfdG9fZHVtbXksIHByZWZpeD1uZXdfdmFyX3RvX2R1bW15KQogICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmNyZWF0ZV9kdW1teV92YXJpYWJsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5jcmVhdGVfZHVtbXlfdmFyaWFibGVzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCiAgICAgICAgZGVmIGdlbmVyYXRlX2ltcHV0YXRpb24oZGYsIG1ldHJpYz0ibHBkIik6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmKH5kZi5pc25hKCkudmFsdWVzLmFueSgpIG9yIHRvUHJvamVjdCA9PSBGYWxzZSk6CiAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljICE9ICJscGQiOgogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gcGQuRGF0YUZyYW1lKGRmW3JlY29tbWVuZGF0aW9uX2xldmVsICsgWyJtZWFuIiwgIm1lZGlhbiJdXSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gcGQuRGF0YUZyYW1lKGRmW3JlY29tbWVuZGF0aW9uX2xldmVsICsgWyJscGQiLCAidmFyIl1dKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsLmNvbHVtbnMgPSByZWNvbW1lbmRhdGlvbl9sZXZlbCArIFsib3JpNTAiLCAidmFyIl0KICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbC5maWxsbmEoMCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZHVtbXlfZGYgPSBjcmVhdGVfZHVtbXlfdmFyaWFibGVzKGRmKQogICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QgPSBbXQogICAgICAgICAgICAgICAgICAgIGZvciBmaWVsZCBpbiByZWNvbW1lbmRhdGlvbl9sZXZlbDoKICAgICAgICAgICAgICAgICAgICAgICAgdG1wX2xpc3QgPSBbeCBmb3IgeCBpbiBkdW1teV9kZi5jb2x1bW5zIGlmIHJlLnNlYXJjaChmaWVsZCwgeCldCiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QuYXBwZW5kKHRtcF9saXN0KQogICAgICAgICAgICAgICAgICAgIGZvciBpbmRleCBpbiByYW5nZShsZW4oZmllbGRfbGlzdCkpOgogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCAhPSBsZW4oZmllbGRfbGlzdCktMSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdW1teV9kZi5pbG9jWzosIGR1bW15X2RmLmNvbHVtbnMuZ2V0X2xvYyhmaWVsZF9saXN0W2luZGV4XVswXSk6ZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKGZpZWxkX2xpc3RbaW5kZXggKyAxXVswXSldID0gZHVtbXlfZGYuaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbGlzdFtpbmRleF1bMF0pOmR1bW15X2RmLmNvbHVtbnMuZ2V0X2xvYyhmaWVsZF9saXN0W2luZGV4ICsgMV1bMF0pXSAqIDEwMDAgKiogKDMgLSBpbmRleCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1bW15X2RmLmlsb2NbOiwgZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKGZpZWxkX2xpc3RbaW5kZXhdWzBdKTpdID0gZHVtbXlfZGYuaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoZmllbGRfbGlzdFtpbmRleF1bMF0pOl0gKiAwLjAxCiAgICAgICAgICAgICAgICAgICAgZG5uID0gZmFzdF9rbm4oZCwgaz0xNSkKICAgICAgICAgICAgICAgICAgICBpZiBtZXRyaWMgIT0gImxwZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGwgPSBwZC5EYXRhRnJhbWUoZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbC5hc3NpZ24obWVhbj1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoIm1lYW4iKV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYW49ZG5uLmlsb2NbOiwgZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKCJtZWRpYW4iKV0pCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbCA9IHBkLkRhdGFGcmFtZShkZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0pCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGwgPSBmdWxsLmFzc2lnbihvcmk1MD1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoImxwZCIpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcj1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoInZhciIpXSkKICAgICAgICAgICAgICAgIHJldHVybiBmdWxsCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfaW1wdXRhdGlvbikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLmdlbmVyYXRlX2ltcHV0YXRpb24pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKICAgICAgICBuZXRfZnVsbCA9IGdlbmVyYXRlX2ltcHV0YXRpb24obmV0LCBtZXRyaWM9Im5ldCIpCiAgICAgICAgbHBkX2Z1bGwgPSBnZW5lcmF0ZV9pbXB1dGF0aW9uKGxwZCkKICAgICAgICByZXR1cm4gbmV0X2Z1bGwsIGxwZF9mdWxsCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgZXh0cmFjdF9zdW1tYXJ5KGRmKToKICAgIHRyeToKICAgICAgICBuZXQgPSBkZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coeyJuZXRfcmF0ZSI6IFtucC5tZWFuLCBucC5tZWRpYW5dfSkucmVzZXRfaW5kZXgoKQogICAgICAgIG5ldC5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbIm1lYW4iLCAibWVkaWFuIl0KCiAgICAgICAgbWVhbl9kZiA9IGRmLmdyb3VwYnkocmVjb21tZW5kYXRpb25fbGV2ZWwpLmFnZyh7Im5ldF9yYXRlIjogW25wLnN1bV0sICJsaWZ0IjogW25wLnN1bV19KS5yZXNldF9pbmRleCgpCiAgICAgICAgbWVhbl9kZi5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbIm5ldF9yYXRlIiwgImxpZnQiXQoKICAgICAgICBsaWZ0cGVyZG9sbGFyX2RmID0gZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFzc2lnbigKICAgICAgICAgICAgbGlmdF9wZXJfZG9sbGFyPWRmWyJsaWZ0Il0gLyBkZlsibmV0X3JhdGUiXSkKICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZyA9IGxpZnRwZXJkb2xsYXJfZGYuZ3JvdXBieShyZWNvbW1lbmRhdGlvbl9sZXZlbCkuYWdnKAogICAgICAgICAgICB7ImxpZnRfcGVyX2RvbGxhciI6IFtucC5zdGQsIG5wLnZhcl19KS5yZXNldF9pbmRleCgpCiAgICAgICAgbGlmdHBlcmRvbGxhcl9hZ2cuY29sdW1ucyA9IFsiICIuam9pbihjb2wpLnN0cmlwKCkgZm9yIGNvbCBpbiBsaWZ0cGVyZG9sbGFyX2FnZy5jb2x1bW5zLnZhbHVlc10KICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZyA9IGxpZnRwZXJkb2xsYXJfYWdnLmFzc2lnbigKICAgICAgICAgICAgc3RkPWxpZnRwZXJkb2xsYXJfYWdnWyJsaWZ0X3Blcl9kb2xsYXIgc3RkIl0gLyBucC5tYXgobGlmdHBlcmRvbGxhcl9hZ2dbImxpZnRfcGVyX2RvbGxhciBzdGQiXSksCiAgICAgICAgICAgIHZhcj1saWZ0cGVyZG9sbGFyX2FnZ1sibGlmdF9wZXJfZG9sbGFyIHZhciJdIC8gbnAubWF4KGxpZnRwZXJkb2xsYXJfYWdnWyJsaWZ0X3Blcl9kb2xsYXIgdmFyIl0pLAogICAgICAgICAgICBscGQ9bWVhbl9kZi5saWZ0L21lYW5fZGYubmV0X3JhdGUpCiAgICAgICAgbGlmdHBlcmRvbGxhcl9hZ2cgPSBsaWZ0cGVyZG9sbGFyX2FnZy5yZXBsYWNlKFtucC5pbmYsIG5wLk5JTkZdLCAwKQogICAgICAgIGxpZnRwZXJkb2xsYXJfYWdnID0gbGlmdHBlcmRvbGxhcl9hZ2cuZmlsbG5hKDApCiAgICAgICAgcmV0dXJuIG5ldCwgbGlmdHBlcmRvbGxhcl9hZ2cKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmV4dHJhY3Rfc3VtbWFyeSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZXh0cmFjdF9zdW1tYXJ5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgZ2V0X2xhdGVzdF93ZWVrcyhkZik6CiAgICB0cnk6CiAgICAgICAgZGZbJ3dlZWtvZiddID0gWyh4IC0gdGltZWRlbHRhKGRheXM9eC53ZWVrZGF5KCkpKS5kYXRlKCkgZm9yIHggaW4gZGYuZGF0ZV0KICAgICAgICBjb21wYXJpc29uX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstY29tcGFyaW5nX251bWJlcl9vZl93ZWVrOl0KICAgICAgICBiYWNrdGVzdGluX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstY29tcGFyaW5nX251bWJlcl9vZl93ZWVrLTQ6LWNvbXBhcmluZ19udW1iZXJfb2Zfd2Vla10KICAgICAgICBoaXN0b3JpY2FsX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstaGlzdG9yeV9udW1iZXJfb2Zfd2VlazpdCiAgICAgICAgcmV0dXJuIGRmLmxvY1tkZlsnd2Vla29mJ10uaXNpbihjb21wYXJpc29uX3dlZWtzKV0ucmVzZXRfaW5kZXgoZHJvcD1UcnVlKSwgZGYubG9jW2RmWyd3ZWVrb2YnXS5pc2luKGJhY2t0ZXN0aW5fd2Vla3MpXS5yZXNldF9pbmRleChkcm9wPVRydWUpLCBkZi5sb2NbZGZbJ3dlZWtvZiddLmlzaW4oaGlzdG9yaWNhbF93ZWVrcyldLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmdldF9sYXRlc3Rfd2Vla3MpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLmdldF9sYXRlc3Rfd2Vla3MpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBnZW5lcmF0ZV9mcmVxdWVuY3koZGYpOgogICAgdHJ5OgogICAgICAgIHN0YXRpb25fbGlzdCA9IGxpc3QoZGYuc3RhdGlvbi5zb3J0X3ZhbHVlcygpLnVuaXF1ZSgpKQogICAgICAgIGRheXBhcnRfbGlzdCA9IGxpc3QoZGYuZGF5cGFydC5zb3J0X3ZhbHVlcygpLnVuaXF1ZSgpKQogICAgICAgIGhpc3RvcmljYWxfc2QgPSBkZi5ncm91cGJ5KFsic3RhdGlvbiIsICJkYXlwYXJ0Il0pLnNpemUoKS5yZXNldF9pbmRleCgpLnJlbmFtZShjb2x1bW5zPXswOiAiY291bnQifSkKCiAgICAgICAgU3RhdGlvbl9NYXRyaXggPSBbWzBdICogbGVuKHN0YXRpb25fbGlzdCkgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSldCiAgICAgICAgRGF5cGFydF9NYXRyaXggPSBbWzBdICogbGVuKGRheXBhcnRfbGlzdCkgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSldCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSk6CiAgICAgICAgICAgIFN0YXRpb25fTWF0cml4W2ldW3N0YXRpb25fbGlzdC5pbmRleChkZi5zdGF0aW9uW2ldKV0gPSAxCiAgICAgICAgICAgIERheXBhcnRfTWF0cml4W2ldW2RheXBhcnRfbGlzdC5pbmRleChkZi5kYXlwYXJ0W2ldKV0gPSAxCgogICAgICAgICMgbWF4aW11bSBudW1iZXIgb2Ygc3BvdHMgZm9yIGVhY2ggZGF5cGFydC9sZW5ndGggcGVyIHN0YXRpb24gcGVyIHdlZWsKICAgICAgICBkYXlwYXJ0X2RpYyA9IHsiZGF5dGltZSI6IDMwLCAiZWFybHlmcmluZ2UiOiAxNSwgImxhdGVuaWdodCI6IDE0LCAibW9ybmluZyI6IDIwLAogICAgICAgICAgICAgICAgICAgICJvdmVybmlnaHQiOiAyOCwgInByaW1lIjogMzUsICJ3ZWVrZW5kZGF5IjogMTQsICJ3ZWVrZW5kbW9ybmluZyI6IDEyfQogICAgICAgIEZyZXF1ZW5jeV9NYXRyaXggPSBbWzBdICogbGVuKGhpc3RvcmljYWxfc2QpIGZvciBpIGluIHJhbmdlKGxlbihkZikpXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihGcmVxdWVuY3lfTWF0cml4KSk6CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihGcmVxdWVuY3lfTWF0cml4WzBdKSk6CiAgICAgICAgICAgICAgICBGcmVxdWVuY3lfTWF0cml4W2ldW2pdID0gU3RhdGlvbl9NYXRyaXhbaV1bc3RhdGlvbl9saXN0LmluZGV4KGhpc3RvcmljYWxfc2Quc3RhdGlvbltqXSldICogXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF5cGFydF9NYXRyaXhbaV1bZGF5cGFydF9saXN0LmluZGV4KGhpc3RvcmljYWxfc2QuZGF5cGFydFtqXSldICogXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYubGVuZ3RoLmlsb2NbaV0KICAgICAgICBmcmVxdWVuY3lfdWIgPSB7aTogZGF5cGFydF9kaWNbaGlzdG9yaWNhbF9zZC5kYXlwYXJ0W2ldXSAqIDYwICogcmVjb21tZW5kYXRpb25fbnVtYmVyX29mX3dlZWsgZm9yIGkgaW4KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UobGVuKGhpc3RvcmljYWxfc2QpKX0KICAgICAgICByZXR1cm4gU3RhdGlvbl9NYXRyaXgsIERheXBhcnRfTWF0cml4LCBGcmVxdWVuY3lfTWF0cml4LCBoaXN0b3JpY2FsX3NkLCBmcmVxdWVuY3lfdWIKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmdlbmVyYXRlX2ZyZXF1ZW5jeSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfZnJlcXVlbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9vdXRwdXRzKGNsaWVudGtleSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGtwaV9pbmRleCwgb3B0X2RmLCBjb21wYXJpc29uX2RmLCBoaXN0b3JpY2FsX2RmLCBuZXQsIGxpZnRfcGVyX2RvbGxhciwgc2NlbmFyaW8sIHNhX2RhdGV0aW1lLCBvcHRfZGF0ZXRpbWUsIG9wdF9wZW5hbHR5X3N0YXRpb24sIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoKToKICAgICMjIyBPVVRQVVQgR0VORVJBVElPTiAjIyMKICAgIHRyeToKICAgICAgICBjb21wYXJpc29uX3BhaWQgPSBjb21wYXJpc29uX2RmLmxvY1tjb21wYXJpc29uX2RmLm5ldF9yYXRlICE9IDBdCgogICAgICAgIGNvbXBhcmlzb25fcGFpZCA9IGNvbXBhcmlzb25fcGFpZC5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKQogICAgICAgIGhpc3RvcmljYWxfcGFpZCA9IGNvbXBhcmlzb25fcGFpZC5zaXplKCkudG9fZnJhbWUobmFtZT0iaGlzdG9yaWNhbF9wYWlkX3Nwb3RzIikKICAgICAgICBoaXN0b3JpY2FsX3BhaWQgPSBoaXN0b3JpY2FsX3BhaWQuam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibmV0X3JhdGUiOiAic3VtIn0pKS5yZW5hbWUoCiAgICAgICAgICAgIGNvbHVtbnM9eyJuZXRfcmF0ZSI6ICJoaXN0b3JpY2FsX3RvdGFsX3NwZW5kIn0pLiBcCiAgICAgICAgICAgIGpvaW4oY29tcGFyaXNvbl9wYWlkLmFnZyh7Im5ldF9yYXRlIjogbnAubWVkaWFufSkpLnJlbmFtZShjb2x1bW5zPXsibmV0X3JhdGUiOiAiaGlzdG9yaWNhbF9tZWRpYW5fc3BlbmQifSkuIFwKICAgICAgICAgICAgam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibGlmdCI6ICJzdW0ifSkpLnJlbmFtZShjb2x1bW5zPXsibGlmdCI6ICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMifSkuIFwKICAgICAgICAgICAgam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibGlmdCI6IG5wLm1lZGlhbn0pKS5yZW5hbWUoCiAgICAgICAgICAgIGNvbHVtbnM9eyJsaWZ0IjogImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMifSkucmVzZXRfaW5kZXgoKQoKICAgICAgICBoaXN0b3JpY2FsX3BhaWQgPSBoaXN0b3JpY2FsX3BhaWQuYXNzaWduKAogICAgICAgICAgICBoaXN0b3JpY2FsX3BhaWRfc3BvdHM9W2ludChoKSBmb3IgaCBpbiBoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfcGFpZF9zcG90cyJdXSwKICAgICAgICAgICAgaGlzdG9yaWNhbF90b3RhbF9zcGVuZD1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfdG90YWxfc3BlbmQiXSwgREVDSU1BTF9QUkVDSVNJT04pLAogICAgICAgICAgICBoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHM9cm91bmQoaGlzdG9yaWNhbF9wYWlkWyJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMiXSwgREVDSU1BTF9QUkVDSVNJT04pLAogICAgICAgICAgICBoaXN0b3JpY2FsX21lZGlhbl9zcGVuZD1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfbWVkaWFuX3NwZW5kIl0sIERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF9mb3JfcGFpZF9zcG90cz1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMiXSwgREVDSU1BTF9QUkVDSVNJT04pCiAgICAgICAgICAgICkKCiAgICAgICAgY29tcGFyaXNvbl9ib251cyA9IGNvbXBhcmlzb25fZGYubG9jW2NvbXBhcmlzb25fZGYubmV0X3JhdGUgPT0gMF0uZ3JvdXBieSgKICAgICAgICAgICAgcmVjb21tZW5kYXRpb25fbGV2ZWwpLnNpemUoKS5yZXNldF9pbmRleCgpLnJlbmFtZShjb2x1bW5zPXswOiAiaGlzdG9yaWNhbF9ib251c19zcG90cyJ9KQogICAgICAgIGNvbXBhcmlzb25fYm9udXMgPSBjb21wYXJpc29uX2JvbnVzLmFzc2lnbihoaXN0b3JpY2FsX2JvbnVzX3Nwb3RzPWNvbXBhcmlzb25fYm9udXNbImhpc3RvcmljYWxfYm9udXNfc3BvdHMiIF0pCgogICAgICAgIGJvbnVzX2xpZnQgPSBjb21wYXJpc29uX2RmLmdyb3VwYnkocmVjb21tZW5kYXRpb25fbGV2ZWwpLmFnZyh7ImxpZnQiOiBbbnAuc3VtLCBucC5tZWRpYW5dfSkucmVzZXRfaW5kZXgoKQogICAgICAgIGJvbnVzX2xpZnQuY29sdW1ucyA9IFsic3RhdGlvbiIsICJkYXlwYXJ0IiwgImxlbmd0aCIsICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF93aXRoX2JvbnVzIl0KICAgICAgICBib251c19saWZ0ID0gYm9udXNfbGlmdC5hc3NpZ24oCiAgICAgICAgICAgIGhpc3RvcmljYWxfdG90YWxfbGlmdF93aXRoX2JvbnVzPXJvdW5kKGJvbnVzX2xpZnRbImhpc3RvcmljYWxfdG90YWxfbGlmdF93aXRoX2JvbnVzIl0sIERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF93aXRoX2JvbnVzPXJvdW5kKGJvbnVzX2xpZnRbImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfd2l0aF9ib251cyJdLCBERUNJTUFMX1BSRUNJU0lPTikpCgogICAgICAgIG9wdGltaXplX291dHB1dCA9IHBkLkRhdGFGcmFtZSh7InN0YXRpb24iOiBuZXRbInN0YXRpb24iXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXlwYXJ0IjogbmV0WyJkYXlwYXJ0Il0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibGVuZ3RoIjogbmV0WyJsZW5ndGgiXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfcGFpZF9zcG90cyI6IFtpbnQodikgZm9yIHYgaW4gb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfdG90YWxfc3BlbmQiOiBucC5tdWx0aXBseShuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZlsic29sdXRpb25fdmFsdWUiXS52YWx1ZXMpLnJvdW5kKERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfdG90YWxfbGlmdF9mb3JfcGFpZF9zcG90cyI6IHJlZHVjZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IG5wLm11bHRpcGx5KGxlZnQsIHJpZ2h0KSwgW25ldFsibWVkaWFuIl0udmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX3RvdGFsX2xpZnRfd2l0aF9ib251cyI6IHJlZHVjZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IG5wLm11bHRpcGx5KGxlZnQsIHJpZ2h0KSwgW25ldFsibWVkaWFuIl0udmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX21lZGlhbl9zcGVuZCI6IG5ldFsibWVkaWFuIl0udmFsdWVzLnJvdW5kKERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMiOiByZWR1Y2UoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFtYmRhIGxlZnQsIHJpZ2h0OiBucC5tdWx0aXBseShsZWZ0LCByaWdodCksIFtuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX21lZGlhbl9saWZ0X3dpdGhfYm9udXMiOiByZWR1Y2UoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFtYmRhIGxlZnQsIHJpZ2h0OiBucC5tdWx0aXBseShsZWZ0LCByaWdodCksIFtuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgb3V0cHV0ID0gcmVkdWNlKAogICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IHBkLm1lcmdlKGxlZnQsIHJpZ2h0LCBvbj1yZWNvbW1lbmRhdGlvbl9sZXZlbCwgaG93PSJvdXRlciIpLnNvcnRfdmFsdWVzKAogICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25fbGV2ZWwpLAogICAgICAgICAgICBbaGlzdG9yaWNhbF9wYWlkLCBjb21wYXJpc29uX2JvbnVzLCBib251c19saWZ0LCBvcHRpbWl6ZV9vdXRwdXRdKQogICAgICAgIG91dHB1dCA9IG91dHB1dC5hc3NpZ24oCiAgICAgICAgICAgIGNyZWF0aXZlPSJudWxsIiwKICAgICAgICAgICAgc2FfZGF0ZXRpbWU9c2FfZGF0ZXRpbWUuc3RyZnRpbWUoT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCksCiAgICAgICAgICAgIG9wdF9kYXRldGltZT1vcHRfZGF0ZXRpbWUuc3RyZnRpbWUoT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCksCiAgICAgICAgICAgIGhpc3RvcmljYWxfcmFuZ2Vfc3RhcnQ9bnAubWluKGhpc3RvcmljYWxfZGYud2Vla29mKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9yYW5nZV9lbmQ9bnAubWF4KGhpc3RvcmljYWxfZGYud2Vla29mKSArIHRpbWVkZWx0YShkYXlzPTcpCiAgICAgICAgKSAKCiAgICAgICAgb3V0cHV0ID0gb3V0cHV0W1sic3RhdGlvbiIsICJkYXlwYXJ0IiwgImxlbmd0aCIsICJjcmVhdGl2ZSIsICJoaXN0b3JpY2FsX3BhaWRfc3BvdHMiLCAiaGlzdG9yaWNhbF9ib251c19zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX3RvdGFsX3NwZW5kIiwgImhpc3RvcmljYWxfdG90YWxfbGlmdF9mb3JfcGFpZF9zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX21lZGlhbl9zcGVuZCIsICJoaXN0b3JpY2FsX21lZGlhbl9saWZ0X2Zvcl9wYWlkX3Nwb3RzIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfcGFpZF9zcG90cyIsICJvcHRpbWl6ZWRfdG90YWxfc3BlbmQiLCAib3B0aW1pemVkX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMiLAogICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsICJvcHRpbWl6ZWRfbWVkaWFuX3NwZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9wdGltaXplZF9tZWRpYW5fbGlmdF9mb3JfcGFpZF9zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfbWVkaWFuX2xpZnRfd2l0aF9ib251cyIsICJzYV9kYXRldGltZSIsICJvcHRfZGF0ZXRpbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGlzdG9yaWNhbF9yYW5nZV9zdGFydCIsICJoaXN0b3JpY2FsX3JhbmdlX2VuZCJdXQoKICAgICAgICBpbnB1dF9maWxlbmFtZSA9IGYib3V0cHV0X29wdGltaXphdGlvbl97c2NlbmFyaW99LmNzdiIgICAgICAgICAgCiAgICAgICAgIyBvdXRwdXQudG9fY3N2KHBhdGhfb3JfYnVmPWlucHV0X2ZpbGVuYW1lLCBpbmRleD1GYWxzZSwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgdXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uX25ldyggIGlucHV0X2ZpbGU9b3V0cHV0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9uYW1lPWNsaWVudGtleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrcGlfaW5kZXg9a3BpX2luZGV4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9c3RyKHN0YXJ0X2RhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXN0cihlbmRfZGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmFyaW89c2NlbmFyaW8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoPWJyYW5jaAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfb3V0cHV0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfb3V0cHV0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGZvcm1hdF9yZXN1bHQocmVzdWx0cyk6CiAgICB0cnk6CiAgICAgICAgY29sdW1ucyA9IFsKICAgICAgICAgICAgY29sWyJMYWJlbCJdCiAgICAgICAgICAgIGZvciBjb2wgaW4gcmVzdWx0c1siUmVzdWx0U2V0Il1bIlJlc3VsdFNldE1ldGFkYXRhIl1bIkNvbHVtbkluZm8iXQogICAgICAgIF0KICAgICAgICBmb3JtYXR0ZWRfcmVzdWx0cyA9IFtdCiAgICAgICAgZm9yIHJlc3VsdCBpbiByZXN1bHRzWyJSZXN1bHRTZXQiXVsiUm93cyJdWzA6XToKICAgICAgICAgICAgdmFsdWVzID0gW10KICAgICAgICAgICAgZm9yIGZpZWxkIGluIHJlc3VsdFsiRGF0YSJdOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQobGlzdChmaWVsZC52YWx1ZXMoKSlbMF0pCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmFwcGVuZChsaXN0KCIgIikpCgogICAgICAgICAgICBmb3JtYXR0ZWRfcmVzdWx0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICBkaWN0KHppcChjb2x1bW5zLCB2YWx1ZXMpKQogICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZF9yZXN1bHRzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5mb3JtYXRfcmVzdWx0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5mb3JtYXRfcmVzdWx0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgo=\\\\\\\",\\\\\\\"4849690\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKIyBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCBjb25uZWN0aW9uc19hd3MKZnJvbSBiYXNlX2xvZ2dlciBpbXBvcnQgbG9nZ2VyCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IHJhbmRvbQppbXBvcnQgdXRpbHMKaW1wb3J0IHBlcmZvcm1hbmNlCmltcG9ydCBwaXBlbGluZV9oZWxwZXJzCmZyb20gcmFuZG9tIGltcG9ydCBzYW1wbGUKaW1wb3J0IHJlCmltcG9ydCB1dWlkCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgd2FybmluZ3MKZnJvbSBza2xlYXJuLm1vZGVsX3NlbGVjdGlvbiBpbXBvcnQgdHJhaW5fdGVzdF9zcGxpdApmcm9tIHNrbGVhcm4ubWV0cmljcyBpbXBvcnQgbWVhbl9zcXVhcmVkX2Vycm9yCmltcG9ydCB4Z2Jvb3N0IGFzIHhnYgojZnJvbSBza2xlYXJuLm1ldHJpY3MgaW1wb3J0IG1lYW5fYWJzb2x1dGVfcGVyY2VudGFnZV9lcnJvcgpmcm9tIHNjaXB5Lm9wdGltaXplIGltcG9ydCBsc3FfbGluZWFyCmZyb20gc2tsZWFybiBpbXBvcnQgbGluZWFyX21vZGVsCgppbXBvcnQgY29ubmVjdGlvbnNfYXdzCmltcG9ydCBjb25maWcKd2FybmluZ3MuZmlsdGVyd2FybmluZ3MoImlnbm9yZSIpCgppbml0aWFsX3RpbWUgPSBkYXRldGltZS5ub3coKQoKIyBsb2dnZXIuaW5mbygpCnJhbmRvbS5zZWVkKDIwKQoKCmRlZiBwYXJzZV90aW1lc3RhbXAodGltZV9zdGFtcCk6CiAgICB0cnk6CiAgICAgICAgaWYgIi4iIGluIHRpbWVfc3RhbXA6CiAgICAgICAgICAgIHRpbWVfc3RhbXAgPSB0aW1lX3N0YW1wLnNwbGl0KCIuIilbMF0KICAgICAgICBpZiAiLyIgaW4gdGltZV9zdGFtcDoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHN0cihkYXRldGltZS5zdHJwdGltZSh0aW1lX3N0YW1wLCAnJW0vJWQvJVkgJUg6JU0nKS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKSkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcmV0dXJuIHN0cihkYXRldGltZS5zdHJwdGltZSh0aW1lX3N0YW1wLCAnJW0vJWQvJXkgJUg6JU0nKS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc3RyKGRhdGV0aW1lLnN0cnB0aW1lKHRpbWVfc3RhbXAsICclWS0lbS0lZCAlSDolTTolUycpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5pbmZvKGUpCiAgICAgICAgcmV0dXJuICIiCgpkZWYgY2xlYW5fZmxvYXQoZmxvYXRfc3RyaW5nKToKICAgIHRyeToKICAgICAgICBpZiBmbG9hdF9zdHJpbmcubG93ZXIoKSA9PSAibmFuIiBvciBmbG9hdF9zdHJpbmcubG93ZXIoKSA9PSAiIiBvciBmbG9hdF9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIwIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzdHIoZmxvYXQoZmxvYXRfc3RyaW5nKSkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gIjAiCgoKZGVmIGNsZWFuX2ludChpbnRfc3RyaW5nKToKICAgIHRyeToKICAgICAgICBpZiBpbnRfc3RyaW5nLmxvd2VyKCkgPT0gIm5hbiIgb3IgaW50X3N0cmluZy5sb3dlcigpID09ICIiIG9yIGludF9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIwIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzdHIoaW50KGludF9zdHJpbmcuc3BsaXQoIi4iKVswXSkpCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICIwIgoKCmRlZiBjbGVhbl9zdHJpbmcoc3RyX3N0cmluZyk6CiAgICB0cnk6CiAgICAgICAgaWYgc3RyX3N0cmluZyA9PSAibmFuIiBvciBzdHJfc3RyaW5nID09ICIiIG9yIHN0cl9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdG1wID0gc3RyKHN0cl9zdHJpbmcuc3RyaXAoJ1wiJykpCiAgICAgICAgICAgIHJldHVybiBmInt0bXB9IgogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiIgoKCmRlZiBydW4oY2xpZW50a2V5LCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwga3BpX2luZGV4LCBsb29rYmVmb3JlX21pbnMsIGxvb2thZnRlcl9taW5zLCBpbmNsdWRlX2ltcHJlc3Npb25zLCBpbmNsdWRlX2ZyZWVzcG90cywgYnJhbmNoKToKICAgIAogICAgCiAgICB0cnk6CiAgICAgICAgaWYgY2xpZW50a2V5ID09ICdiYmInOgogICAgICAgICAgICBjbGllbnRfbmV3ID0gJ292ZXJzdG9jaycKICAgICAgICBlbGlmIGNsaWVudGtleSA9PSAncmV4bWQnIG9yIGNsaWVudGtleSA9PSAnc2luZ2xlY2FyZSc6CiAgICAgICAgICAgIGNsaWVudF9uZXcgPSAncnhzZW5zZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbGllbnRfbmV3ID0gY2xpZW50a2V5CgogICAgICAgIGltcG9ydCB4Z2Jvb3N0IGFzIHhnYgoKICAgICAgICBsb2dnZXIuaW5mbygiWEdCT09TVCBWRVJTSU9OIikKICAgICAgICBsb2dnZXIuaW5mbyh4Z2IuX192ZXJzaW9uX18pCiAgICAgICAgY29ubiA9IGNvbmZpZy5SRURTSElGVF9DT05OCgogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBTdGFydGluZyBQaXBlbGluZScpCgogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgMDogR0VUIENMSUVOVCBWQVJJQUJMRVMgRlJPTSBSRURTSElGVAogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIEdldHRpbmcgQ2xpZW50IFZhcmlhYmxlcyBmcm9tIFJlZHNoaWZ0JykKICAgICAgICBxdWVyeSA9IGYiU0VMRUNUIE5WTChtb19jbGllbnRfY29kZSwnJykgYXMgbW9fY2xpZW50X2NvZGUsIE5WTChzb3VyY2VfdHZfc3BvdCwnJykgYXMgc291cmNlX3R2X3Nwb3QsIE5WTChjb3VudHJ5X2NvZGUsJycpIGFzIGNvdW50cnlfY29kZSBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzIFdIRVJFIExPV0VSKGNsaWVudGtleV9tYXApID0gJ3tjbGllbnRfbmV3Lmxvd2VyKCl9JyBBTkQgZW5hYmxlZF90dm8gPSAndHJ1ZSciCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgcXVlcnlfcmVzdWx0cyA9IGN1cnNvci5mZXRjaGFsbCgpCgogICAgICAgIGlmIGxlbihxdWVyeV9yZXN1bHRzKSA9PSAwOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiV0FSTklORzogTm8gcmVjb3JkcyByZXR1cm5lZCBmcm9tIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJXQVJOSU5HOiBObyByZWNvcmRzIHJldHVybmVkIGZyb20gcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5jbGllbnRfbWFwcGluZ3MuICBQaXBlbGluZSBhYm9ydGVkIikKCgogICAgICAgIG1vX2NsaWVudF9jb2RlID0gcXVlcnlfcmVzdWx0c1swXVswXQogICAgICAgICMgc3BvdGRhdGFfc291cmNlID0gcXVlcnlfcmVzdWx0c1swXVsxXQogICAgICAgIHNwb3RkYXRhX3NvdXJjZSA9IGYie2NvbmZpZy5BVEhFTkFfREFUQUJBU0V9Lntjb25maWcuU1BPVERBVEFfU09VUkNFfSIKICAgICAgICBjb3VudHJ5X2NvZGUgPSBxdWVyeV9yZXN1bHRzWzBdWzJdCgogICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICBsb2dnZXIuaW5mbyhmIm1vX2NsaWVudF9jb2RlOiB7bW9fY2xpZW50X2NvZGV9IikKICAgICAgICBsb2dnZXIuaW5mbyhmInNwb3RkYXRhX3NvdXJjZToge3Nwb3RkYXRhX3NvdXJjZX0iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiY291bnRyeV9jb2RlOiB7Y291bnRyeV9jb2RlfSIpCiAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoKCiAgICAgICAgIyBDaGVjayBmb3IgbWlzc2luZyBjbGllbnQgdmFyaWFibGVzCiAgICAgICAgaWYgbW9fY2xpZW50X2NvZGUgPT0gJycgb3Igc3BvdGRhdGFfc291cmNlID09ICcnIG9yIGNvdW50cnlfY29kZSA9PSAnJzoKICAgICAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIEVSUk9SOiBNaXNzaW5nIG9uZSBvciBtb3JlIENsaWVudCB2YXJpYWJsZXMgKG1vX2NsaWVudF9jb2RlLCBzcG90ZGF0YV9zb3VyY2UsIGNvdW50cnlfY29kZSknKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHBpcGVsaW5lLnJ1bikgRVJST1I6IE1pc3Npbmcgb25lIG9yIG1vcmUgQ2xpZW50IHZhcmlhYmxlcyAobW9fY2xpZW50X2NvZGUsIHNwb3RkYXRhX3NvdXJjZSwgY291bnRyeV9jb2RlKScpCgogICAgICAgIGlmIGNsaWVudGtleSA9PSAncmV4bWQnOgogICAgICAgICAgICBtb19jbGllbnRfY29kZV9uZXcgPSAnUlhNRCcKICAgICAgICBlbHNlOgogICAgICAgICAgICBtb19jbGllbnRfY29kZV9uZXcgPSBtb19jbGllbnRfY29kZQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgU1RFUCAxOiBHRVQgS1BJIERFVEFJTFMKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBHZXR0aW5nIEtQSSBEYXRhIGZyb20gUmVkc2hpZnQnKQogICAgICAgIHF1ZXJ5ID0gZiJTRUxFQ1QgZGlzcGxheV9uYW1lX21hcCwgdHZvX2twaV92aWV3LCB0dm9fa3BpX21hcmtldCBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3Mua3BpX21hcHBpbmdzIFdIRVJFIExPV0VSKGNsaWVudGtleV9tYXApID0gJ3tjbGllbnRfbmV3Lmxvd2VyKCl9JyBBTkQgdHZvX2twaV9pbmRleCA9IHtrcGlfaW5kZXh9IEFORCBkaXNwbGF5X3R2ID0gJ3RydWUnIgogICAgICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHF1ZXJ5X3Jlc3VsdHMgPSBjdXJzb3IuZmV0Y2hhbGwoKQogICAgICAgIGtwaV9kZXNjcmlwdGlvbiA9IHF1ZXJ5X3Jlc3VsdHNbMF1bMF0KICAgICAgICBwaXhlbGRhdGFfc291cmNlID0gcXVlcnlfcmVzdWx0c1swXVsxXQogICAgICAgIG1hcmtldCA9IHF1ZXJ5X3Jlc3VsdHNbMF1bMl0KCiAgICAgICAgaWYga3BpX2Rlc2NyaXB0aW9uIGlzIE5vbmUgb3Igc3RyKGtwaV9kZXNjcmlwdGlvbikgPT0gIiI6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3Iga3BpX2Rlc2NyaXB0aW9uLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3Iga3BpX2Rlc2NyaXB0aW9uLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgZWxpZiBwaXhlbGRhdGFfc291cmNlIGlzIE5vbmUgb3Igc3RyKHBpeGVsZGF0YV9zb3VyY2UpID09ICIiOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiV0FSTklORzogTm8gdmFsdWUgcmV0dXJuZWQgZm9yIHR2b19rcGlfdmlldy4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiV0FSTklORzogTm8gdmFsdWUgcmV0dXJuZWQgZm9yIHR2b19rcGlfdmlldy4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgIGVsaWYgbWFya2V0IGlzIE5vbmUgb3Igc3RyKG1hcmtldCkgPT0gIiI6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3IgdHZvX2twaV9tYXJrZXQuICBQaXBlbGluZSBhYm9ydGVkIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIldBUk5JTkc6IE5vIHZhbHVlIHJldHVybmVkIGZvciB0dm9fa3BpX21hcmtldC4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgICAgICAKICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgbG9nZ2VyLmluZm8oZiJrcGlfaW5kZXg6IHtrcGlfaW5kZXh9IikKICAgICAgICBsb2dnZXIuaW5mbyhmImtwaV9kZXNjcmlwdGlvbjoge2twaV9kZXNjcmlwdGlvbn0iKQogICAgICAgIGxvZ2dlci5pbmZvKGYicGl4ZWxkYXRhX3NvdXJjZToge3BpeGVsZGF0YV9zb3VyY2V9IikKICAgICAgICBsb2dnZXIuaW5mbyhmIm1hcmtldDoge21hcmtldH0iKQogICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgU1RFUCAyOiBHRVQgQ1JFQVRJVkVTIERFVEFJTFMKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBHZXR0aW5nIENyZWF0aXZlIERhdGEgZnJvbSBSZWRzaGlmdCcpCiAgICAgICAgc3FsX3F1ZXJ5ID0gZiJTRUxFQ1QgY3JlYXRpdmVfaXNjaV9tYXAgYXMgaXNjaV8yMCwgY3JlYXRpdmVfbGVuZ3RoX21hcCBhcyBsZW5ndGgsIGNyZWF0aXZlX3RpdGxlX21hcCBhcyB0aXRsZSBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuaXNjaV9tYXBwaW5ncyBXSEVSRSBMT1dFUihjbGllbnRrZXlfbWFwKSA9ICd7Y2xpZW50X25ldy5sb3dlcigpfSciCiAgICAgICAgY3JlYXRpdmVfZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShzcWxfcXVlcnksIGNvbj1jb25uKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGNyZWF0aXZlX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMl9jcmVhdGl2ZV9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBTVEVQIDM6IEdFVCBTUE9UIERBVEEKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKGYnKHBpcGVsaW5lLnJ1bikgR2V0dGluZyBTcG90IGRhdGEgZnJvbSBhdGhlbmE6IHtzcG90ZGF0YV9zb3VyY2V9JykKICAgICAgICBpZiBpbmNsdWRlX2ZyZWVzcG90cyBpcyBUcnVlOgogICAgICAgICAgICBmcmVlX3Nwb3RfY2xhdXNlID0gIiIKICAgICAgICBlbHNlOgogICAgICAgICAgICBmcmVlX3Nwb3RfY2xhdXNlID0gIkFORCBuZXRfcmF0ZSA+IDAiCgogICAgICAgIGlmIG1hcmtldC5sb3dlcigpID09ICJuYXRpb25hbCI6CiAgICAgICAgICAgIG1hcmtldF9jbGF1c2UgPSBmIiBBTkQgKExPV0VSKG1hcmtldCkgTElLRSAnJW5hdGlvbmFsJScgT1IgTE9XRVIobWFya2V0KSBMSUtFICclc3luZGljYXRpb24lJykgIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1hcmtldF9jbGF1c2UgPSBmIiBBTkQgTE9XRVIobWFya2V0KSA9ICd7bWFya2V0Lmxvd2VyKCl9JyAiCgogICAgICAgIHNxbF9xdWVyeSA9IGYiIiIKICAgICAgICAgICAgU0VMRUNUIERJU1RJTkNUCiAgICAgICAgICAgICAgICBzdGF0aW9uX25hbWUgQVMgc3RhdGlvbiwgCiAgICAgICAgICAgICAgICBicm9hZGNhc3RfZGF0ZSBBUyBjYWxlbmRhcmRhdGUsCiAgICAgICAgICAgICAgICBEQVRFX0ZPUk1BVChDQVNUKHN0YXJ0X2RhdGVfdGltZSBBUyBUSU1FU1RBTVApLCAnJVktJW0tJWQgJUg6JWk6JXMnKSBBUyBzdGFydGRhdGV0aW1lLAogICAgICAgICAgICAgICAgREFURV9GT1JNQVQoQ0FTVChzdGFydF9kYXRlX3RpbWUgQVMgVElNRVNUQU1QKSwgJyVZLSVtLSVkICVIOiVpOiVzJykgQVMgc3RhcnRkYXRldGltZXJvdW5kZWQsCiAgICAgICAgICAgICAgICBEQVRFX0ZPUk1BVChEQVRFX1BBUlNFKHN0b3BfZGF0ZV90aW1lLCAnJW0vJWQvJVkgJUg6JWk6JXMnKSwgJyVZLSVtLSVkICVIOiVpOiVzJykgQVMgc3RvcGRhdGV0aW1lLAogICAgICAgICAgICAgICAgQ0FTRSBXSEVOIGlzY2lfMjAgPSAnJyBUSEVOICdNaXNzaW5nJwogICAgICAgICAgICAgICAgICAgIFdIRU4gaXNjaV8yMCBJUyBOVUxMIFRIRU4gJ01pc3NpbmcnCiAgICAgICAgICAgICAgICAgICAgRUxTRSBpc2NpXzIwCiAgICAgICAgICAgICAgICAgICAgRU5EIEFTIGlzY2lfMjAsCiAgICAgICAgICAgICAgICBsZW5ndGggQVMgbGVuZ3RoLAogICAgICAgICAgICAgICAgZGF5cGFydCBBUyBkYXlwYXJ0LAogICAgICAgICAgICAgICAgbmV0X3JhdGUgQVMgbmV0X3JhdGUsCiAgICAgICAgICAgICAgICBpbXByZXNzaW9ucyBBUyBpbXByZXNzaW9ucywKICAgICAgICAgICAgICAgIHNlY29uZGFyeV9pbXByZXNzaW9ucyBBUyBzZWNvbmRhcnlfaW1wcmVzc2lvbnMsCiAgICAgICAgICAgICAgICBwcm9kdWN0X25hbWUgQVMgcHJvZHVjdF9uYW1lLAogICAgICAgICAgICAgICAgcHJvZ3JhbSBBUyBwcm9ncmFtLAogICAgICAgICAgICAgICAgYnV5X2NvZGUgQVMgYnV5X2NvZGVzCiAgICAgICAgICAgICAgICBGUk9NIChTRUxFQ1QgRElTVElOQ1QgKiBGUk9NIHtzcG90ZGF0YV9zb3VyY2V9KQogICAgICAgICAgICAgICAgV0hFUkUgVFJJTShCT1RIICcgJyBGUk9NIG1vX2NsaWVudF9jb2RlKSA9ICd7bW9fY2xpZW50X2NvZGVfbmV3fScKICAgICAgICAgICAgICAgICAgICBBTkQgTE9XRVIoVFJJTShCT1RIICcgJyBGUk9NIGFkdmVydGlzZXIpKSA9ICd7Y2xpZW50a2V5fScKICAgICAgICAgICAgICAgICAgICBBTkQgbWVkaWFfdHlwZSA9ICdUVicKICAgICAgICAgICAgICAgICAgICB7bWFya2V0X2NsYXVzZX0KICAgICAgICAgICAgICAgICAgICBBTkQgYnJvYWRjYXN0X2RhdGUgQkVUV0VFTiBEQVRFKENBU1QoJ3tzdHIoc3RhcnRfZGF0ZSl9JyBBUyBUSU1FU1RBTVApKSBBTkQgREFURShDQVNUKCd7c3RyKGVuZF9kYXRlKX0nIEFTIFRJTUVTVEFNUCkpCiAgICAgICAgICAgICAgICAgICAge2ZyZWVfc3BvdF9jbGF1c2V9CiAgICAgICAgICAgICAgICAgICAgQU5EIHByb2dyYW0gIT0gJ1BSRScKICAgICAgICAgICAgICAgICAgICBBTkQgTE9XRVIoc3RhdHVzKSAhPSAncHJlbG9nJwogICAgICAgICAgICAgICAgICAgIEFORCB0YXJnZXRfZGVtbyBJUyBOT1QgTlVMTAogICAgICAgICAgICAgICAgT1JERVIgQlkgc3RhcnRkYXRldGltZSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICIiIgogICAgICAgIHNwb3RfZGYgPSBjb25uZWN0aW9uc19hd3MucnVuX2F0aGVuYV9xdWVyeShzcWxfcXVlcnkpCiAgICAgICAgc3BvdF9kZlsnc3RhcnRkYXRldGltZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdF9kZlsnc3RhcnRkYXRldGltZSddKQogICAgICAgIHNwb3RfZGZbJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJ10gPSBwZC50b19kYXRldGltZShzcG90X2RmWydzdGFydGRhdGV0aW1lcm91bmRlZCddKQogICAgICAgIHNwb3RfZGZbJ3N0b3BkYXRldGltZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdF9kZlsnc3RvcGRhdGV0aW1lJ10pCiAgICAgICAgc3BvdF9kZiA9IHNwb3RfZGYuc29ydF92YWx1ZXMoYnk9J3N0YXJ0ZGF0ZXRpbWUnKQogICAgICAgIAogICAgICAgIHNwb3RfZGYuZHJvcF9kdXBsaWNhdGVzKGlucGxhY2UgPSBUcnVlKQogICAgICAgIHNwb3RfZGZbJ2luZGV4X2lkJ10gPSByYW5nZSgxLCBzcG90X2RmLnNoYXBlWzBdICsgMSkKCgogICAgICAgIHNwb3RfZGYgPSBwaXBlbGluZV9oZWxwZXJzLmZpeF9kYXlwYXJ0KHNwb3RfZGYpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgc3BvdF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzNfc3BvdF9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCgoKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNDogR0VUIEtQSSBFVkVOVCBEQVRBCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBsb2dnZXIuaW5mbyhmJyhwaXBlbGluZS5ydW4pIEdldHRpbmcgS1BJIEV2ZW50IERhdGEgZnJvbSBSZWRzaGlmdDoge3BpeGVsZGF0YV9zb3VyY2V9JykKCiAgICAgICAgc3FsX3F1ZXJ5ID0gZiIiIgogICAgICAgICAgICBTRUxFQ1QgZXZlbnRfZGF0ZSBhcyBkYXksIAogICAgICAgICAgICAgICAgZXZlbnRfdGltZXN0YW1wOjpkYXRldGltZSBBUyBtaW51dGUsIAogICAgICAgICAgICAgICAgZXh0cmFjdChob3VyIGZyb20gZXZlbnRfdGltZXN0YW1wKSBBUyBob3VyLCAKICAgICAgICAgICAgICAgIFNVTShrcGlfcmVzcG9uc2VzKSBhcyBrcGksCiAgICAgICAgICAgICAgICBrcGlfZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgIEZST00ge3BpeGVsZGF0YV9zb3VyY2V9CiAgICAgICAgICAgICAgICBXSEVSRSBldmVudF9kYXRlIEJFVFdFRU4gdG9fZGF0ZSgne3N0cihzdGFydF9kYXRlKX0nLCdZWVlZLU1NLUREJykgQU5EIHRvX2RhdGUoJ3tzdHIoZW5kX2RhdGUpfScsJ1lZWVktTU0tREQnKQogICAgICAgICAgICAgICAgR1JPVVAgQlkgZXZlbnRfZGF0ZSwgZXZlbnRfdGltZXN0YW1wLCBrcGlfZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgIE9SREVSIEJZIG1pbnV0ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAiIiIKICAgICAgICBrcGlfYmVmb3JlX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShzcWxfcXVlcnksIGNvbj1jb25uKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGtwaV9iZWZvcmVfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzNfa3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAga3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydkYXknXSA9IHBkLnRvX2RhdGV0aW1lKGtwaV9iZWZvcmVfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnZGF5J10sIGZvcm1hdD0nJVktJW0tJWQnKQogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0gcGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEoa3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmKQogICAgICAgIAogICAgICAgICMjIEdldCByaWQgb2YgbWlzc2luZyBkZXNjcmlwdGlvbiByb3dzCiAgICAgICAga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlt+a3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2twaV9kZXNjcmlwdGlvbiddLmlzbmEoKV0KICAgICAgICBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZiA9IGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmW2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydrcGlfZGVzY3JpcHRpb24nXSE9ICcnXQogICAgCiAgICAgICAgCiAgICAgICAgI0dldCBIb3VyIGFuZCBNaW4gQ29sdW1ucwogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydob3VyJ10gPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnbWludXRlJ10uZHQuaG91cgogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydtaW4nXSA9IGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydtaW51dGUnXS5kdC5taW51dGUKCiAgICAgICAga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2hvdXJfbWluJ10gPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnaG91ciddICsgIHJvdW5kKChrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnbWluJ10vNjApLDMpCgogICAgICAgICMjIyMjIyMjIyMjIyMjICBnZXR0aW5nIGxhc3QgNyBkYXkgQVIKICAgICAgICAjIGJ5X2RheSA9IHBkLkRhdGFGcmFtZShrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMUQnLGtleT0nbWludXRlJykpWydrcGknXS5zdW0oKSkKICAgICAgICAjIGJ5X2RheS5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICAgICAgIyBieV9kYXlbJ21pbnV0ZSddID0gcGQudG9fZGF0ZXRpbWUoYnlfZGF5WydtaW51dGUnXSkKICAgICAgICAjIGJ5X2RheVsna3BpX2xhc3RfNyddPWJ5X2RheVsna3BpJ10ucm9sbGluZyg3KS5zdW0oKQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddID0gcGQudG9fZGF0ZXRpbWUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddKQogICAgICAgICMgZmlyc3RfN19kYXlzID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ21pbnV0ZSddLmlsb2NbLTFdIC0gdGltZWRlbHRhKGRheXM9MTc3KQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID0gbnAud2hlcmUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddIDwgZmlyc3RfN19kYXlzLDEsMCkKICAgICAgICAjIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZba3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID09MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5yZXNldF9pbmRleChkcm9wPVRydWUpCgogICAgICAgIAogICAgICMjIyMjIyMjIyMjIyMjIEFSIGJ5IGxhc3QgMiAzMCBtaW4gcGVyaW9kcwogICAgICAgIGJ5X2RheSA9IHBkLkRhdGFGcmFtZShrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMzBUJyxrZXk9J21pbnV0ZScpKVsna3BpJ10uc3VtKCkpCiAgICAgICAgYnlfZGF5LnJlc2V0X2luZGV4KGlucGxhY2U9VHJ1ZSkKICAgICAgICBieV9kYXlbJ21pbnV0ZSddID0gcGQudG9fZGF0ZXRpbWUoYnlfZGF5WydtaW51dGUnXSkKICAgICAgICBhcl94PWxpc3QocmFuZ2UoMSwzKSkKCiAgICAgICAgZm9yIGkgaW4gYXJfeDoKICAgICAgICAgICAgYnlfZGF5WyczMF9taW5fc2hpZnRfJyArIHN0cihpKV09YnlfZGF5WydrcGknXS5zaGlmdChpKQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddID0gcGQudG9fZGF0ZXRpbWUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddKQogICAgICAgICMgZmlyc3RfN19kYXlzID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ21pbnV0ZSddLmlsb2NbLTFdIC0gdGltZWRlbHRhKGRheXM9MTc3KQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID0gbnAud2hlcmUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddIDwgZmlyc3RfN19kYXlzLDEsMCkKICAgICAgICAjIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZba3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID09MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5yZXNldF9pbmRleChkcm9wPVRydWUpCiAgICAgICAgCiAgICAgICAgI3NhdmluZyAzMCBtaW51dGUgcGVyaW9kIChvciBsYXN0IGRheSkgQVIgZGF0YQogICAgICAgICMgYnlfZGF5LnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfNF9CWV9EQVkuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgI2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYubWVyZ2UoYnlfZGF5W1snbWludXRlJywna3BpX2xhc3RfNyddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdtaW51dGUnLGhvdz0nbGVmdCcpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z180X2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgCiAgICAgICAgCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMjIyMjIyMjIyMjIyMjIE5ldyBTZWN0aW9uICMjIyMjIyMjIyMjIyMjIyMjIyAgIAoKICAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNTogQ0FMQ1VMQVRFIFBSRS9QT1NUIFdJTkRPVyBTVEFUUwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIENhbGN1bGF0aW5nIFByZS9Qb3N0IFdpbmRvdyBTdGF0cyIpCiAgICAgICAgd2luZG93c3RhdHNfZGYgPSBwZXJmb3JtYW5jZS5pdGVyYXRlX3dpbmRvd3N0YXRzX2NhbGN1bGF0aW9uKHNwb3RfZGYsIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmLCBsb29rYmVmb3JlX21pbnMqNjAsIGxvb2thZnRlcl9taW5zKjYwKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIHdpbmRvd3N0YXRzX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfNV9jYWxjdWxhdGlvbi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNjogTUVSR0UgU1BPVFMgQU5EIFdJTkRPV1NUQVRTCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgTWVyZ2luZyBTcG90IERhdGEgYW5kIFdpbmRvdyBTdGF0cyBEYXRhIikKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiA9IHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdHNfYW5kX3dpbmRvd3N0YXRzKHNwb3RfZGYsIHdpbmRvd3N0YXRzX2RmKQogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddID0gbnAud2hlcmUoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddLmlzbmEoKSwwLHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydzZWNvbmRhcnlfaW1wcmVzc2lvbnMnXSkKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydidXlfY29kZXMnXSA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydidXlfY29kZXMnXS5maWxsbmEoJ2J1eWNvZGVzbm9uZScpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z182X3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgoKCgogICAgICAgIAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgNzogR0VUIFRJTUVTIFRPIEVYQ0xVREUgQU5EIDMwIE1JTiBQRVJJT0RTIFRPIEVYQ0xVREUKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIEdldCB0aW1lcyB0byBleGNsdWRlIGFuZCAzMCBtaW4gcGVyaW9kcyB0byBleGNsdWRlIikKICAgICAgICB0aW1lc193X3Nwb3RzID0gcGlwZWxpbmVfaGVscGVycy50aW1lc190b19leGNsdWRlKHNwb3RfZGYpCiAgCiAgICAgICAgdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QgPSBwaXBlbGluZV9oZWxwZXJzLnRoaXJ0eV9taW5fdG9fcmVtb3ZlKHRpbWVzX3dfc3BvdHMpCgogICAgICAgIG92ZXJsYXBfZGYgPSBwZC5EYXRhRnJhbWUodGltZXNfd19zcG90c1sndGltZV90b19leGNsdWRlJ10udmFsdWVfY291bnRzKCkuaW5kZXgsIGNvbHVtbnMgPSBbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgICAgIG92ZXJsYXBfZGZbJ2NvdW50J10gPSAgb3ZlcmxhcF9kZlsndGltZV90b19leGNsdWRlJ10udmFsdWVfY291bnRzKCkudmFsdWVzCgogICAgICAgIHRpbWVzX3dfc3BvdHMgPSB0aW1lc193X3Nwb3RzLm1lcmdlKG92ZXJsYXBfZGYsIGxlZnRfb24gPSAndGltZV90b19leGNsdWRlJywgIHJpZ2h0X29uID0gJ3RpbWVfdG9fZXhjbHVkZScsIGhvdyA9ICdsZWZ0JykKCiAgICAgICAgI3JvbGwgdXAgdG8gc3RhcnRfZGF0ZV90aW1lCgogICAgICAgIHNwb3RfY291bnRfcm9sbGVkX3VwID0gcGQuRGF0YUZyYW1lKHRpbWVzX3dfc3BvdHMuZ3JvdXBieSgnc3RhcnRfdGltZScpWydjb3VudCddLnN1bSgpKQoKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLm1lcmdlKHNwb3RfY291bnRfcm9sbGVkX3VwLCBsZWZ0X29uID0nc3RhcnRkYXRldGltZScsIHJpZ2h0X29uID0gJ3N0YXJ0X3RpbWUnLCBob3cgPSAnbGVmdCcpCiAgICAgICAgCiAgICAgICAgIyB0aW1lc193X3Nwb3RzLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfN190aW1lc190b19leGNsdWRlLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgogICAgICAgICMgb3ZlcmxhcF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzdfb3ZlcmxhcF9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAgCgogICAgICAgICMgc3BvdF9jb3VudF9yb2xsZWRfdXAudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z183X3JvbGxlZF91cC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAgCiAgICAgICAgIyBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzdfc3BvdF9wbHVzX2NvdW50LmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpICAKCgojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgODogUmVtb3ZlIHNwb3QgdGltZXMgZnJvbSBiYXNlbGluZSBzZXQKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIFJlbW92ZSBzcG90IHRpbWVzIGZyb20gYmFzZWxpbmUgc2V0IikKICAgICAgICBtZXJnZWQgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5tZXJnZSh0aW1lc193X3Nwb3RzLCBsZWZ0X29uID0gJ21pbnV0ZScsIHJpZ2h0X29uID0gJ3RpbWVfdG9fZXhjbHVkZScsIGhvdyA9ICdsZWZ0JyApCiAgICAgICAgIyBtZXJnZWQudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z184X21lcmdlZC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgIGJhc2VsaW5lX2J5X21pbnV0ZSA9IG1lcmdlZFttZXJnZWRbJ3dfc3BvdCddIT0gMV0gICAgICAgIAogICAgICAgICMgYmFzZWxpbmVfYnlfbWludXRlLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfOF9iYXNlbGluZV9ieV9taW51dGUuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiMgIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAjICAgICAgICAjIFNURVAgOTogR2V0IEF2ZyBhbmQgU3RkIGJ5IG1pbnV0ZSwgcmVtb3ZlZCBvdXRzaWRlIG9mIDIgc3RkZGV2cwojICMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBHZXQgQXZncyBhbmQgU3RkRGV2cyBieSBtaW51dGUsIHJlbW92ZSBvdXRzaWRlIDIgc3RkZGV2cyIpCiAgICAgICAgCiAgICAgICAgYXZlcmFnZXMgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLm1lYW4oKSkKICAgICAgICBzdGQgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLnN0ZCgpKQogICAgICAgIAogICAgICAgIHN1bW1hcnkgPSBhdmVyYWdlcy5tZXJnZShzdGQsbGVmdF9vbj0naG91cl9taW4nLCByaWdodF9vbiA9ICdob3VyX21pbicpCiAgICAgICAgc3VtbWFyeS5jb2x1bW5zID0gWydhdmVyYWdlJywnc3RkX2RldiddCgojICAgICAgICAgc3VtbWFyeVsnMl9zdGRfdXAnXSA9IHN1bW1hcnlbJ2F2ZXJhZ2UnXSArIHN1bW1hcnlbJ3N0ZF9kZXYnXSAqIDIKIyAgICAgICAgIHN1bW1hcnlbJzJfc3RkX2Rvd24nXSA9IHN1bW1hcnlbJ2F2ZXJhZ2UnXSAtIHN1bW1hcnlbJ3N0ZF9kZXYnXSAqIDIKCiMgICAgICAgICBzdW1tYXJ5WyczX3N0ZF91cCddID0gc3VtbWFyeVsnYXZlcmFnZSddICsgc3VtbWFyeVsnc3RkX2RldiddICogMwojICAgICAgICAgc3VtbWFyeVsnM19zdGRfZG93biddID0gc3VtbWFyeVsnYXZlcmFnZSddIC0gc3VtbWFyeVsnc3RkX2RldiddICogMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBiYXNlbGluZV9ieV9taW51dGUgPSBiYXNlbGluZV9ieV9taW51dGUubWVyZ2Uoc3VtbWFyeSwgbGVmdF9vbj0gJ2hvdXJfbWluJywgcmlnaHRfaW5kZXg9VHJ1ZSwgaG93ID0gJ2xlZnQnKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCA9IGJhc2VsaW5lX2J5X21pbnV0ZQojICAgICAgICBiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCA9IGJhc2VsaW5lX2J5X21pbnV0ZVsoYmFzZWxpbmVfYnlfbWludXRlWydrcGknXTwgYmFzZWxpbmVfYnlfbWludXRlWycyX3N0ZF91cCddKSAmIChiYXNlbGluZV9ieV9taW51dGVbJ2twaSddID4gYmFzZWxpbmVfYnlfbWludXRlWycyX3N0ZF9kb3duJ10pXQoKIyAgICAgICAgYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z185X2Jhc2VsaW5lX2J5X21pbnV0ZV9jbGVhbmVkLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgCiAjICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYmVmb3JlIGJ5IG1pbnV0ZSBjbGVhbmluZyB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlKSkpCiAjICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYWZ0ZXIgYnkgbWludXRlIGNsZWFuaW5nICB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQpKSkKICMgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE51bWJlciBSZW1vdmVkICB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlKSAtIGxlbihiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCkpKQoKICAgICAgICAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDEwOiBBZ2dyZWdhdGUgdG8gMzAgbWludXRlcywgcmVtb3ZlIDMwIG1pbnMgd2l0aCBzcG90cwojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQWdncmVnYXRlIGJhc2VsaW5lIHRvIDMwIG1pbnV0ZXMiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBhZ2dfZGYgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQuZ3JvdXBieShwZC5Hcm91cGVyKGZyZXE9JzMwVCcsa2V5PSdtaW51dGUnKSlbJ2twaSddLnN1bSgpKQogICAgICAgIGFnZ19kZlsnMzBfbWluX2J1Y2tldCddID0gcGQudG9fZGF0ZXRpbWUoYWdnX2RmLmluZGV4KQogICAgICAgIGFnZ19kZi5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICAgICAgCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE51bWJlciBvZiAzMCBtaW51dGUgcGVyaW9kcyB3aXRoIHplcm9zIHJlbW92ZWQge30gJy5mb3JtYXQobGVuKGFnZ19kZlthZ2dfZGZbJ2twaSddPT0wXSkpKQogICAgICAgIAogICAgICAgIAogICAgICAgIGFnZ19kZiA9IGFnZ19kZlthZ2dfZGZbJ2twaSddPjBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMgYWdnX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTBfYWdncmVnYXRlX3RvXzMwX21pbnV0ZV9wZXJpb2QuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGFnZ19kZl9iYXNlbGluZSA9ICBhZ2dfZGZbfmFnZ19kZlsnMzBfbWluX2J1Y2tldCddLmlzaW4odGhpcnR5X21pbl9yZW1vdmVzX2xpc3QpXSAKCiAgICAgICAgYWdnX2RmX2Jhc2VsaW5lID0gYWdnX2RmX2Jhc2VsaW5lLm1lcmdlKGJ5X2RheVtbJ21pbnV0ZScsJzMwX21pbl9zaGlmdF8xJywnMzBfbWluX3NoaWZ0XzInXV0sIGxlZnRfb24gPSAnMzBfbWluX2J1Y2tldCcsIHJpZ2h0X29uID0gJ21pbnV0ZScsIGhvdz0nbGVmdCcsIHN1ZmZpeGVzPSgnJywgJ19EUk9QJykpCiAgICAgICAgIyBhZ2dfZGZfYmFzZWxpbmUudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xMF9hZ2dyZWdhdGVfdG9fMzBfbWludXRlX3BlcmlvZF9ub19zcG90cy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYmVmb3JlIGJ5IG1pbnV0ZSBjbGVhbmluZyB7fSAnLmZvcm1hdChsZW4oYWdnX2RmKSkpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIExlbmd0aCBhZnRlciBieSBtaW51dGUgY2xlYW5pbmcgIHt9ICcuZm9ybWF0KGxlbihhZ2dfZGZfYmFzZWxpbmUpKSkKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lLnJ1bikgTnVtYmVyIFJlbW92ZWQgIHt9ICcuZm9ybWF0KGxlbihhZ2dfZGYpIC0gbGVuKGFnZ19kZl9iYXNlbGluZSkpKQoKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDExOiBHZXQgQXZnIGFuZCBTdGQgYnkgMzAgbWludXRlLCByZW1vdmUgb3V0c2lkZSBvZiAyIHN0ZGRldnMKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIEdldCBBdmcgYW5kIFN0ZCBieSAzMCBtaW4sIHJlbW92ZSBvdXRzaWRlIDIgc3RkZGV2cyIpCiAgICAgICAgYWdnX2RmX2Jhc2VsaW5lWydob3VyX21pbiddID0gYWdnX2RmX2Jhc2VsaW5lWydtaW51dGUnXS5kdC5ob3VyICsgIHJvdW5kKChhZ2dfZGZfYmFzZWxpbmVbJ21pbnV0ZSddLmR0Lm1pbnV0ZS82MCksMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgCiAgICAgICAgYXZlcmFnZXNfMzAgPSBwZC5EYXRhRnJhbWUoYWdnX2RmX2Jhc2VsaW5lLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLm1lYW4oKSkKICAgICAgICBzdGRfMzAgPSBwZC5EYXRhRnJhbWUoYWdnX2RmX2Jhc2VsaW5lLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLnN0ZCgpKQoKICAgICAgICBzdW1tYXJ5XzMwID0gYXZlcmFnZXNfMzAubWVyZ2Uoc3RkXzMwLGxlZnRfb249J2hvdXJfbWluJywgcmlnaHRfb24gPSAnaG91cl9taW4nKQogICAgICAgIHN1bW1hcnlfMzAuY29sdW1ucyA9IFsnYXZlcmFnZScsJ3N0ZF9kZXYnXQoKICAgICAgICBzdW1tYXJ5XzMwWydob3VyX21pbiddID0gc3VtbWFyeV8zMC5pbmRleAoKICAgICAgICBzdW1tYXJ5XzMwWycyX3N0ZF91cCddID0gc3VtbWFyeV8zMFsnYXZlcmFnZSddICsgc3VtbWFyeV8zMFsnc3RkX2RldiddICogMgogICAgICAgIHN1bW1hcnlfMzBbJzJfc3RkX2Rvd24nXSA9IHN1bW1hcnlfMzBbJ2F2ZXJhZ2UnXSAtIHN1bW1hcnlfMzBbJ3N0ZF9kZXYnXSAqIDIKCiAgICAgICAgc3VtbWFyeV8zMFsnM19zdGRfdXAnXSA9IHN1bW1hcnlfMzBbJ2F2ZXJhZ2UnXSArIHN1bW1hcnlfMzBbJ3N0ZF9kZXYnXSAqIDMKICAgICAgICBzdW1tYXJ5XzMwWyczX3N0ZF9kb3duJ10gPSBzdW1tYXJ5XzMwWydhdmVyYWdlJ10gLSBzdW1tYXJ5XzMwWydzdGRfZGV2J10gKiAzCgogICAgICAgIGFnZ19kZl9iYXNlbGluZSA9IGFnZ19kZl9iYXNlbGluZS5tZXJnZShzdW1tYXJ5XzMwLCBsZWZ0X29uPSAnaG91cl9taW4nLCByaWdodF9pbmRleD1UcnVlLCBob3cgPSAnbGVmdCcpCiAgICAgICAgIAogICAgICAgIGFnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2Jhc2VsaW5lWyhhZ2dfZGZfYmFzZWxpbmVbJ2twaSddPCBhZ2dfZGZfYmFzZWxpbmVbJzNfc3RkX3VwJ10pICYgKGFnZ19kZl9iYXNlbGluZVsna3BpJ10gPiBhZ2dfZGZfYmFzZWxpbmVbJzNfc3RkX2Rvd24nXSldCiAgICAgICAgIyBhZ2dfZGZfY2xlYW5lZC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzExX2FnZ3JlZ2F0ZV90b18zMF9taW51dGVfcGVyaW9kX2NsZWFuZWQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgICAgICAgICMgU1RFUCAxMjogR2V0IFRpbWUgRmVhdHVyZXMgLS0gCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBHZXQgVGltZSBGZWF0dXJlcyBmb3IgTW9kZWwiKQogICAgICAgICMgR2V0IERvVyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnd2Vla2RheSddID0gYWdnX2RmX2NsZWFuZWRbJzMwX21pbl9idWNrZXQnXS5kdC5zdHJmdGltZSgnJUEnKQogICAgICAgIAogICAgICAgIGFnZ19kZl9jbGVhbmVkLnJlbmFtZShjb2x1bW5zPXsiaG91cl9taW5feCI6ICJob3VyX21pbiJ9LCBpbnBsYWNlID0gVHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgaG91cl9taW5fb25lX2hvdCA9IHBkLmdldF9kdW1taWVzKGFnZ19kZl9jbGVhbmVkWydob3VyX21pbiddLHByZWZpeCA9ICdIb3VyX01pbl8nLCBwcmVmaXhfc2VwPScnKQoKICAgICAgICBhZ2dfZGZfY2xlYW5lZCA9IGFnZ19kZl9jbGVhbmVkLmpvaW4oaG91cl9taW5fb25lX2hvdCkKCiAgICAgICAgd2Vla2RheV9vbmVfaG90ID0gcGQuZ2V0X2R1bW1pZXMoYWdnX2RmX2NsZWFuZWRbJ3dlZWtkYXknXSkKCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCd3ZWVrZGF5JyxheGlzPTEpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5qb2luKHdlZWtkYXlfb25lX2hvdCkKCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCdtaW5fc2xvdCcsIGF4aXM9MSwgZXJyb3JzID0gJ2lnbm9yZScpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCczMF9taW5fYnVja2V0JywgYXhpcz0xKQoKICAgICAgICAjZ2V0IG1vc3QgcmVjZW50IGRheSB3ZSBoYXZlIGluIG91ciBiYXNlbGluZSBzZXQKICAgICAgICBsYXN0X2RheSA9IGFnZ19kZl9jbGVhbmVkWydtaW51dGUnXS5pbG9jWy0xXQoKICAgICAgICAjY2h1bmtpbmcgZGF0YSBmb3IgY2hhbmdpbmcgYmFzZWxpbmUgLSBlZmZlY3Qgc2ltaWxhciB0byBhIG1vbnRobHkgZHVtbXkKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTE4MCksJ2NodW5rXzEnLDApCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0xNTApLCdjaHVua18yJyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0xMjApLCdjaHVua18zJyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz05MCksJ2NodW5rXzQnLGFnZ19kZl9jbGVhbmVkWyczMF9kYXlfY2h1bmsnXSkKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTYwKSwnY2h1bmtfNScsYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddKQogICAgICAgIGFnZ19kZl9jbGVhbmVkWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKGFnZ19kZl9jbGVhbmVkWydtaW51dGUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MzApLCdjaHVua182JyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCgogICAgICAgICNhZ2dfZGZfY2xlYW5lZFsnZGF5J10gPSBhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10uZHQudGltZSAKICAgICAgICAjYnlfZGF5WydkYXknXSA9IGJ5X2RheVsnbWludXRlJ10uZHQudGltZSAKCiAgICAgICAgI2FnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2NsZWFuZWQubWVyZ2UoYnlfZGF5W1snZGF5JywnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdkYXknLCBob3c9J2xlZnQnKQogICAgICAgIAogICAgICAgIHRpbWVfY2h1bmsgPSBwZC5nZXRfZHVtbWllcyhhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCgogICAgICAgIGFnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2NsZWFuZWQuZHJvcCgnMzBfZGF5X2NodW5rJyxheGlzPTEpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5qb2luKHRpbWVfY2h1bmspCiAgICAgICAgCiAgICAgICAgIyBOb3Qga2VlcGluZyBIb3VyIDAuMCwgYW5kIFNhdHVyZGF5ICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgY29sdW1uc19mb3JfbW9kZWwgPSBbJ2twaScsCiAgICAgICAgJ0hvdXJfTWluXzAuNScsICdIb3VyX01pbl8xLjAnLCAnSG91cl9NaW5fMS41JywnSG91cl9NaW5fMi4wJywgJ0hvdXJfTWluXzIuNScsICdIb3VyX01pbl8zLjAnLCAnSG91cl9NaW5fMy41JywKICAgICAgICAnSG91cl9NaW5fNC4wJywgJ0hvdXJfTWluXzQuNScsICdIb3VyX01pbl81LjAnLCAnSG91cl9NaW5fNS41JywgJ0hvdXJfTWluXzYuMCcsICdIb3VyX01pbl82LjUnLCAnSG91cl9NaW5fNy4wJywgJ0hvdXJfTWluXzcuNScsCiAgICAgICAgJ0hvdXJfTWluXzguMCcsICdIb3VyX01pbl84LjUnLCAnSG91cl9NaW5fOS4wJywgJ0hvdXJfTWluXzkuNScsICdIb3VyX01pbl8xMC4wJywgJ0hvdXJfTWluXzEwLjUnLCAnSG91cl9NaW5fMTEuMCcsICdIb3VyX01pbl8xMS41JywKICAgICAgICAnSG91cl9NaW5fMTIuMCcsICdIb3VyX01pbl8xMi41JywgJ0hvdXJfTWluXzEzLjAnLCAnSG91cl9NaW5fMTMuNScsICdIb3VyX01pbl8xNC4wJywgJ0hvdXJfTWluXzE0LjUnLCAnSG91cl9NaW5fMTUuMCcsICdIb3VyX01pbl8xNS41JywKICAgICAgICAnSG91cl9NaW5fMTYuMCcsICdIb3VyX01pbl8xNi41JywgJ0hvdXJfTWluXzE3LjAnLCAnSG91cl9NaW5fMTcuNScsICdIb3VyX01pbl8xOC4wJywgJ0hvdXJfTWluXzE4LjUnLCAnSG91cl9NaW5fMTkuMCcsICdIb3VyX01pbl8xOS41JywKICAgICAgICAnSG91cl9NaW5fMjAuMCcsICdIb3VyX01pbl8yMC41JywgJ0hvdXJfTWluXzIxLjAnLCAnSG91cl9NaW5fMjEuNScsJ0hvdXJfTWluXzIyLjAnLCAnSG91cl9NaW5fMjIuNScsICdIb3VyX01pbl8yMy4wJywgJ0hvdXJfTWluXzIzLjUnLAogICAgICAgICdTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCAnRnJpZGF5JywKICAgICAgICAnY2h1bmtfMScsJ2NodW5rXzInLCdjaHVua18zJywnY2h1bmtfNCcsJ2NodW5rXzUnLCdjaHVua182JywKICAgICAgICAnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddCiAgICAgICAgCiAgICAgICAgbWlzc2luZ19jb2xzID0gbGlzdCAoIHNldChjb2x1bW5zX2Zvcl9tb2RlbCkgLSBzZXQoYWdnX2RmX2NsZWFuZWQuY29sdW1ucykgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBmb3IgaSBpbiBtaXNzaW5nX2NvbHM6CiAgICAgICAgICAgIGFnZ19kZl9jbGVhbmVkW2ldID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZFtjb2x1bW5zX2Zvcl9tb2RlbF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgIyBhZ2dfZGZfY2xlYW5lZC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzEyX2Jhc2VsaW5lX3NldF9jbGVhbmVkLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpICAgICAKICAgICAgICAKICAgICAgICAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDEzOiBUcmFpbiBUZXN0IFNwbGl0CiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBUcmFpbiBUZXN0IFNwbGl0IikKCiAgICAgICAgIyBFeHRyYWN0IGZlYXR1cmUgYW5kIHRhcmdldCBhcnJheXMKICAgICAgICBYLCB5ID0gYWdnX2RmX2NsZWFuZWQuZHJvcCgna3BpJywgYXhpcz0xKSwgYWdnX2RmX2NsZWFuZWRbJ2twaSddICAKICAgICAgICAKICAgICAgICAjIFNwbGl0IHRoZSBkYXRhCiAgICAgICAgWF90cmFpbiwgWF90ZXN0LCB5X3RyYWluLCB5X3Rlc3QgPSB0cmFpbl90ZXN0X3NwbGl0KFgsIHksIHJhbmRvbV9zdGF0ZT0yMCwgdGVzdF9zaXplID0gMC4xMCkgICAgICAgCiAgICAgICAgCiAgICAgICAgIyBYX3RyYWluLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTNfWF90cmFpbi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgICMgWF90ZXN0LnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTNfWF90ZXN0LmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAoKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDE0OiBUcmFpbiBNb2RlbAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgVHJhaW4gTW9kZWwiKQoKICAgICAgICBkdHJhaW5fcmVnID0geGdiLkRNYXRyaXgoWF90cmFpbiwgeV90cmFpbikKICAgICAgICBkdGVzdF9yZWcgPSB4Z2IuRE1hdHJpeChYX3Rlc3QsIHlfdGVzdCkKICAgICAgICAKICAgICAgICAjIERlZmluZSBoeXBlcnBhcmFtZXRlcnMKICAgICAgICBwYXJhbXMgPSB7Im9iamVjdGl2ZSI6ICJyZWc6c3F1YXJlZGVycm9yIiwKICAgICAgICAgICAgICAgICAiYm9vc3RlciI6ICJnYnRyZWUiLAogICAgICAgICAgICAgICAgICJldGEiOiAwLjE1LAogICAgICAgICAgICAgICAgICJtYXhfZGVwdGgiIDogOCwKICAgICAgICAgICAgICAgICAnYWxwaGEnIDogMSwKICAgICAgICAgICAgICAgICAnbGFtYmRhJyA6IDAsCiAgICAgICAgICAgICAgICAgJ2dhbW1hJzogMSwKICAgICAgICAgICAgICAgICAnbnRocmVhZCcgOiA0LAogICAgICAgICAgICAgICAgICdzZWVkJyA6IDIwfQoKICAgICAgICBuID0gMjAKICAgICAgICBtb2RlbCA9IHhnYi50cmFpbigKICAgICAgICAgICBwYXJhbXM9cGFyYW1zLAogICAgICAgICAgIGR0cmFpbj1kdHJhaW5fcmVnLAogICAgICAgICAgIG51bV9ib29zdF9yb3VuZD1uCiAgICAgICAgKSAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDE1OiBDaGVjayB0ZXN0IHNldAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQ2hlY2sgVGVzdCBTZXQiKQogICAgICAgIAogICAgICAgIHRyYWluX3ByZWRzID0gbW9kZWwucHJlZGljdChkdHJhaW5fcmVnKSAvIDEwCiAgICAgICAgcHJlZHMgPSBtb2RlbC5wcmVkaWN0KGR0ZXN0X3JlZykgLyAxMAoKICAgICAgICMgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE1BUEUgb2YgVFJBSU4gc2V0ICB7fSAnLmZvcm1hdChtZWFuX2Fic29sdXRlX3BlcmNlbnRhZ2VfZXJyb3IoeV90cmFpbiwgdHJhaW5fcHJlZHMpKSkgICAgICAgIAogICAgICAgIyBsb2dnZXIuaW5mbygnKHBpcGVsaW5lLnJ1bikgTUFQRSBvZiBURVNUIHNldCAge30gJy5mb3JtYXQobWVhbl9hYnNvbHV0ZV9wZXJjZW50YWdlX2Vycm9yKHlfdGVzdCwgcHJlZHMpKSkKICAgICAgICMgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIFJNU0Ugb2YgVEVTVCBzZXQgIHt9ICcuZm9ybWF0KG1lYW5fYWJzb2x1dGVfcGVyY2VudGFnZV9lcnJvcih5X3Rlc3QsIHByZWRzKSkpCiAgICAgICAgdGVzdCA9IHlfdGVzdC5jb3B5KCkKICAgICAgICB0ZXN0WydwcmVkcyddID0gcHJlZHMKICAgICAgICAKICAgICAgICAjIHRlc3QudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xNV90ZXN0X3ByZWRzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAogICAgICAgIAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgMTY6IENsZWFuIFNwb3QgRGF0YSB0byBDYWxjdWxhdGUgTGlmdCBPbgojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQ2hlY2sgVGVzdCBTZXQiKQogICAgICAgIAogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5jb3B5KCkKCiAgICAgICAgIyAjZ2V0IHRpbWUgdmFyaWFibGVzIGR1bW1pZWQgb3V0CgogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3dlZWtkYXknXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5zdHJmdGltZSgnJUEnKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWydtaW51dGUnXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5yb3VuZCgnMzBtaW4nKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5tZXJnZShieV9kYXlbWydtaW51dGUnLCczMF9taW5fc2hpZnRfMScsJzMwX21pbl9zaGlmdF8yJ11dLCBsZWZ0X29uID0gJ21pbnV0ZScsIHJpZ2h0X29uID0gJ21pbnV0ZScsIGhvdz0nbGVmdCcsIHN1ZmZpeGVzPSgnJywgJ19EUk9QJykpCiAgICAgICAgCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbFsnaG91cl9taW4nXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5ob3VyICsgIHJvdW5kKChzcG90X2RhdGFfZm9yX21vZGVsWydtaW51dGUnXS5kdC5taW51dGUvNjApLDMpCgogICAgICAgIGhvdXJfbWluX29uZV9ob3QgPSBwZC5nZXRfZHVtbWllcyhzcG90X2RhdGFfZm9yX21vZGVsWydob3VyX21pbiddLHByZWZpeCA9ICdIb3VyX01pbl8nLCBwcmVmaXhfc2VwPScnKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5qb2luKGhvdXJfbWluX29uZV9ob3QpCgogICAgICAgIHdlZWtkYXlfb25lX2hvdCA9IHBkLmdldF9kdW1taWVzKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3dlZWtkYXknXSkKCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuZHJvcCgnd2Vla2RheScsYXhpcz0xKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X2RhdGFfZm9yX21vZGVsLmpvaW4od2Vla2RheV9vbmVfaG90KQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5kcm9wKCdob3VyX21pbicsIGF4aXM9MSwgZXJyb3JzID0gJ2lnbm9yZScpCiAgICAgICAgI3Nwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X2RhdGFfZm9yX21vZGVsLmRyb3AoJzMwX21pbl9idWNrZXQnLCBheGlzPTEpIAogICAgICAgICAgICAgICAgCiAgICAgICAgI2J1aWxkaW5nIGluIGNodW5rcyAtIHNpbWlsYXIgdG8gbW9udGggZHVtbXkKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MTgwKSwnY2h1bmtfMScsMCkKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MTUwKSwnY2h1bmtfMicsc3BvdF9kYXRhX2Zvcl9tb2RlbFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShzcG90X2RhdGFfZm9yX21vZGVsWydzdGFydGRhdGV0aW1lJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTEyMCksJ2NodW5rXzMnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz05MCksJ2NodW5rXzQnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz02MCksJ2NodW5rXzUnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0zMCksJ2NodW5rXzYnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHRpbWVfY2h1bmsgPSBwZC5nZXRfZHVtbWllcyhzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSkKCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuZHJvcCgnMzBfZGF5X2NodW5rJyxheGlzPTEpCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuam9pbih0aW1lX2NodW5rKQoKICAgICAgICAjc3BvdF9kYXRhX2Zvcl9tb2RlbFsnZGF5J10gPSBzcG90X2RhdGFfZm9yX21vZGVsWydzdGFydGRhdGV0aW1lJ10uZHQudGltZSAKICAgICAgICAjc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwubWVyZ2UoYnlfZGF5W1snZGF5JywnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdkYXknLCBob3c9J2xlZnQnKQogICAgICAgIAogICAgICAgICMgTm90IGtlZXBpbmcgSG91ciAwLjAsIGFuZCBTYXR1cmRheSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGNvbHVtbnNfZm9yX21vZGVsID0gWwogICAgICAgICdIb3VyX01pbl8wLjUnLCAnSG91cl9NaW5fMS4wJywgJ0hvdXJfTWluXzEuNScsJ0hvdXJfTWluXzIuMCcsICdIb3VyX01pbl8yLjUnLCAnSG91cl9NaW5fMy4wJywgJ0hvdXJfTWluXzMuNScsCiAgICAgICAgJ0hvdXJfTWluXzQuMCcsICdIb3VyX01pbl80LjUnLCAnSG91cl9NaW5fNS4wJywgJ0hvdXJfTWluXzUuNScsICdIb3VyX01pbl82LjAnLCAnSG91cl9NaW5fNi41JywgJ0hvdXJfTWluXzcuMCcsICdIb3VyX01pbl83LjUnLAogICAgICAgICdIb3VyX01pbl84LjAnLCAnSG91cl9NaW5fOC41JywgJ0hvdXJfTWluXzkuMCcsICdIb3VyX01pbl85LjUnLCAnSG91cl9NaW5fMTAuMCcsICdIb3VyX01pbl8xMC41JywgJ0hvdXJfTWluXzExLjAnLCAnSG91cl9NaW5fMTEuNScsCiAgICAgICAgJ0hvdXJfTWluXzEyLjAnLCAnSG91cl9NaW5fMTIuNScsICdIb3VyX01pbl8xMy4wJywgJ0hvdXJfTWluXzEzLjUnLCAnSG91cl9NaW5fMTQuMCcsICdIb3VyX01pbl8xNC41JywgJ0hvdXJfTWluXzE1LjAnLCAnSG91cl9NaW5fMTUuNScsCiAgICAgICAgJ0hvdXJfTWluXzE2LjAnLCAnSG91cl9NaW5fMTYuNScsICdIb3VyX01pbl8xNy4wJywgJ0hvdXJfTWluXzE3LjUnLCAnSG91cl9NaW5fMTguMCcsICdIb3VyX01pbl8xOC41JywgJ0hvdXJfTWluXzE5LjAnLCAnSG91cl9NaW5fMTkuNScsCiAgICAgICAgJ0hvdXJfTWluXzIwLjAnLCAnSG91cl9NaW5fMjAuNScsICdIb3VyX01pbl8yMS4wJywgJ0hvdXJfTWluXzIxLjUnLCdIb3VyX01pbl8yMi4wJywgJ0hvdXJfTWluXzIyLjUnLCAnSG91cl9NaW5fMjMuMCcsICdIb3VyX01pbl8yMy41JywKICAgICAgICAnU3VuZGF5JywnTW9uZGF5JywnVHVlc2RheScsJ1dlZG5lc2RheScsJ1RodXJzZGF5JywgJ0ZyaWRheScsCiAgICAgICAgJ2NodW5rXzEnLCdjaHVua18yJywnY2h1bmtfMycsJ2NodW5rXzQnLCdjaHVua181JywnY2h1bmtfNicsCiAgICAgICAgJzMwX21pbl9zaGlmdF8xJywnMzBfbWluX3NoaWZ0XzInXQogICAgICAgIAogICAgICAgIG1pc3NpbmdfY29scyA9IGxpc3QgKCBzZXQoY29sdW1uc19mb3JfbW9kZWwpIC0gc2V0KHNwb3RfZGF0YV9mb3JfbW9kZWwuY29sdW1ucykgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBmb3IgaSBpbiBtaXNzaW5nX2NvbHM6CiAgICAgICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbaV0gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbFtjb2x1bW5zX2Zvcl9tb2RlbF0KICAgICAgIAogICAgICAgIAogICAgICAgICMgc3BvdF9kYXRhX2Zvcl9tb2RlbC50b19jc3YocGF0aF9vcl9idWY9ImNsZWFuX3Nwb3RfZGF0YS5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCiAgICAgICAgCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgICAgICAgICMgU1RFUCAxNzogR2V0IEJhc2VsaW5lIFByZWRzIGFuZCBDYWxjdWxhdGUgTGlmdAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgTWFrZSBQcmVkcyBvbiBBY3R1YWwgU3BvdHMiKQoKICAgICAgICBzcG90c19kbWF0ID0geGdiLkRNYXRyaXgoc3BvdF9kYXRhX2Zvcl9tb2RlbCkKICAgICAgICAKICAgICAgICBiYXNlbGluZSA9IG1vZGVsLnByZWRpY3Qoc3BvdHNfZG1hdCkgLyAxMAoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWydiYXNlbGluZSddID0gYmFzZWxpbmUKICAgICAgICAKICAgICAgICAjIHNwb3RfZGF0YV9mb3JfbW9kZWwudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xN19iYXNlbGluZV9wcmVkcy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Jhc2VsaW5lJ10gPSBiYXNlbGluZQoKICAgICAgICAjIFJhdyBsaWZ0ID0gcG9zdF9rcGkgLSBiYXNlbGluZQogICAgICAgIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydyYXdfbGlmdCddID0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ10gLSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXQoKICAgICAgICAjIGxpZnQgYWRqIHRvIG92ZXJsYXAgLS0gZ2l2ZSBwYXJ0aWFsIGNyZWRpdCBpZiB0d28gc3BvdHMgb3ZlcmxhcHBlZC4gCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSAqICgzIC8gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2NvdW50J10pCgogICAgICAgICNpZiBwb3N0IG9yIHByZSBrcGkgaXMgMCwgbWFrZSB0aGUgbGlmdCB6ZXJvCiAgICAgICAgI3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ109PTAsIDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICNzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSA9IG5wLndoZXJlKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwb3N0X2twaSddPT0wLCAwLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSkKCiAgICAgICAgIyByZW1vdmUgc3BvdHMgd2hlcmUgcG9zdCBvciBwcmUga3BpIGlzIDAuLi50aGlzIGVsaW1pbmF0ZXMgdGhlIHNwb3RzIHRoYXQgZXNzZW50aWFsbHkgaGF2ZSBkYXRhIHF1YWxpdHkgaXNzdWVzCiAgICAgICAgI3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmID0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ10+MF0KICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZltzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncHJlX2twaSddPjBdCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5yZXNldF9pbmRleChkcm9wPUZhbHNlKQoKICAgICAgICAKICAgICAgICAjIGluZGljYXRlcyBpZiBwcmVfa3BpIGlzICsgMiBzdGQgZGV2cyBmcm9tIG1lYW4KICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXSA9IG5wLndoZXJlKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwcmVfa3BpJ10gPiBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXSArIDIgKiBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXS5zdGQoKSwgMSwgMCApCgogICAgICAgICNQb3N0IEtQSSAtIFByZSBLUEkuLi5qdXN0IGZvciBjb21wYXJpc29ucwogICAgICAgIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydQb3N0IC0gUHJlJ10gPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncG9zdF9rcGknXSAtIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwcmVfa3BpJ10KICAgICAgICAKICAgICAgICAjIElmIFByZSBpcyBzdWJzdGFudGlhbGx5IGhpZ2hlciB0aGFuIGJhc2VsaW5lLCB0aGVuIHVzZSBtZWRpYW4gbGlmdCBmb3IgdGhhdCBuZXR3b3JrICggT1IgUG9zdCAtIFByZSkKICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXT09MSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAjaWYgaGlnaF9wcmUgZmxhZyBpcyBvbiwgaW1wdXRlIHRoZSBtZWRpYW4gYWRqIGxpZnQgZm9yIHRoYXQgc3RhdGlvbi4KICAgICAgICBzdGF0aW9uX2xpc3RfaW5faGlnaF9wcmUgPSAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2hpZ2hfcHJlX2twaV9mbGFnJ109PTFdLnN0YXRpb24udW5pcXVlKCkKCiAgICAgICAgZm9yIGkgaW4gc3RhdGlvbl9saXN0X2luX2hpZ2hfcHJlOgogICAgICAgICAgICBtZWRfc3RhdGlvbl9hZGpfbGlmdCA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmW3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydzdGF0aW9uJ109PWldLmFkal9saWZ0Lm1lZGlhbigpCgogICAgICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA9IG5wLndoZXJlKChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnc3RhdGlvbiddPT1pKSAmIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXT09MSksbWVkX3N0YXRpb25fYWRqX2xpZnQsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKSAgCgoKICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSgoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXTwwKSAmIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA+IDApLDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKSAgCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSgoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXSA8IC0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3ByZV9rcGknXS5zdGQoKSApICxzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguMDI1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pICAKCiAgICAgICAgICNpZiBhZGouIGxpZnQgaXMgb3V0c2lkZSBvZiB0aGUgLjAyNSBvciAuOTc1IHBlcmNlbnRpbGVzLCBmb3JjZSBpdCB0byB0aGVtLiBUaGlzIGN1dHMgb3VyIHRhaWxzIGRvd24gc2lnbmlmaWNhbnRseSBhbmQgYXZvaWRzIGh1Z2UgbGlmdCBvbiBpbmRpdmlkdWFsIHNwb3RzCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA+IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLmFkal9saWZ0LnF1YW50aWxlKC45NzUpLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguOTc1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCiAgICAgICAgCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA8IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLmFkal9saWZ0LnF1YW50aWxlKC4wMjUpLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguMDI1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAjICN0aWVyIGJ5IG5ldCByYXRlCiAgICAgICAgCiAgICAgICAgIyAjdW5kZXIgMTAwLi4uMC41MAogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSggKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDEwMCksIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKjAuMzMsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICMgI2JldHdlZW4gMTAwLTUwMC4uLjAuNzUKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnbmV0X3JhdGUnXSAgPiAxMDApICYgKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDUwMCksIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKjAuNjYsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICMgIzUwMC0xMDAwLi4uMS4yNQogICAgICAgICMgIzEwMDAtMjAwMAogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSggKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA+IDEwMDApICYgKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDIwMDApLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSoxLjMzLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSkKICAgICAgICAjICNPdmVyIDIwMDAsIDEuNTAKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA+IDIwMDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddICogMS42Niwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTdfYmFzZWxpbmVfcHJlZHNfd193aW5kb3dzdGF0cy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCgogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xN19iYXNlbGluZV9wcmVkc193X3dpbmRvd3N0YXRzX25vX3plcm9zLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAoKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgIyBTVEVQIDE4OiBHZXQgUmVhZHkgZm9yIFNlY29uZCBTdGFnZSBNb2RlbAogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBTZWNvbmQgU3RhZ2UgTW9kZWwgUHJlcCIpCiAgICAgICAgZmVhdHVyZV9kYXRhc2V0X2RmID0gcGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiwgY291bnRyeV9jb2RlKQoKICAgICAgICBkZWYgY3JlYXRlX2ludGVyYWN0aW9ucyhkZix2YXIxLHZhcjIpOgogICAgICAgICAgICB2YXJpYWJsZXMgPSBkZltbdmFyMSx2YXIyXV0gCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDAsIHZhcmlhYmxlcy5jb2x1bW5zLnNpemUpOgogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoMCwgdmFyaWFibGVzLmNvbHVtbnMuc2l6ZSk6CiAgICAgICAgICAgICAgICAgICAgY29sMSA9IHN0cih2YXJpYWJsZXMuY29sdW1uc1tpXSkKICAgICAgICAgICAgICAgICAgICBjb2wyID0gc3RyKHZhcmlhYmxlcy5jb2x1bW5zW2pdKQogICAgICAgICAgICAgICAgICAgIGlmIGkgPD0gajoKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGNvbDEgKyAiKiIgKyBjb2wyCiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmxvY1s6LCBuYW1lXSA9IHZhcmlhYmxlc1tjb2wxXSAqIHZhcmlhYmxlc1tjb2wyXSAKICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGVfdmVyeWxvdyddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZSddIDwgMTAwLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlX2xvdyddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA+IDEwMCkgJiAoZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZSddIDwgNTAwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZV9tZWRpdW0nXSA9IG5wLndoZXJlKChmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlJ10gPiA1MDApICYgKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA8IDE1MDApLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlX2hpZ2gnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA+IDE1MDAsIDEsMCkKCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5dGltZSddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ0RBWVRJTUUnLCAxLDApCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnZWFybHlmcmluZ2UnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5cGFydCddID09ICdFQVJMWSBGUklOR0UnLCAxLDApCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnbGF0ZW5pZ2h0J10gPSBucC53aGVyZShmZWF0dXJlX2RhdGFzZXRfZGZbJ2RheXBhcnQnXSA9PSAnTEFURU5JR0hUJywgMSwwKQogICAgICAgICMgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ292ZXJuaWdodCddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ09WRVJOSUdIVCcsIDEsMCkKICAgICAgICAjICMgZmVhdHVyZV9kYXRhc2V0X2RmWydwcmltZSddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ1BSSU1FJywgMSwwKQogICAgICAgICMgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ3dlZWtlbmRkYXknXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5cGFydCddID09ICdXRUVLRU5EIERBWScsIDEsMCkKICAgICAgICAjICMgZmVhdHVyZV9kYXRhc2V0X2RmWyd3ZWVrZW5kbW9ybmluZyddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ1dFRUtFTkQgTU9STklORycsIDEsMCkKCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcF92ZXJ5bG93J10gPSBucC53aGVyZShmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMTAsIDEsMCkKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wX2xvdyddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDEwKSAmIChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMzApLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcF9tZWRpdW0nXSA9IG5wLndoZXJlKChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPiAzMCkgJiAoZmVhdHVyZV9kYXRhc2V0X2RmWydpbXByZXNzaW9ucyddIDw9IDkwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWydpbXBfaGlnaCddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDkwKSAmIChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMjAwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWydpbXBfdmVyeWhpZ2gnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDIwMCwgMSwwKQoKICAgICAgICAjIG5ldHMgPSBbJ25ldF9yYXRlX3Zlcnlsb3cnLCduZXRfcmF0ZV9sb3cnLCduZXRfcmF0ZV9tZWRpdW0nLCduZXRfcmF0ZV9oaWdoJ10KICAgICAgICAjIGltcHMgPSBbJ2ltcF92ZXJ5bG93JywnaW1wX2xvdycsJ2ltcF9tZWRpdW0nLCdpbXBfaGlnaCcsJ2ltcF92ZXJ5aGlnaCddCiAgICAgICAgIyBkYXlwYXJ0cyA9IFsnZGF5cGFydGRheXRpbWUnLAogICAgICAgICMgICAgICAgICAgICAgICAgICdkYXlwYXJ0ZWFybHlmcmluZ2UnLAogICAgICAgICMgICAgICAgICAgICAgICAgICdkYXlwYXJ0bGF0ZW5pZ2h0JywKICAgICAgICAjICAgICAgICAgICAgICAgICAnZGF5cGFydG92ZXJuaWdodCcsCiAgICAgICAgIyAgICAgICAgICAgICAgICAgJ2RheXBhcnRwcmltZScsCiAgICAgICAgIyAgICAgICAgICAgICAgICAgJ2RheXBhcnR3ZWVrZW5kZGF5JywKICAgICAgICAjICAgICAgICAgICAgICAgICAnZGF5cGFydHdlZWtlbmRtb3JuaW5nJ10KCiAgICAgICAgIyBmb3IgaSBpbiBpbXBzOgogICAgICAgICMgICAgIGZvciBqIGluIGRheXBhcnRzOgogICAgICAgICMgICAgICAgICBjcmVhdGVfaW50ZXJhY3Rpb25zKGZlYXR1cmVfZGF0YXNldF9kZixpLGopCgogICAgICAgICMgaW50X2R1cHMgPSBbJ2ltcF92ZXJ5bG93KmltcF92ZXJ5bG93JywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX2xvdyppbXBfbG93JywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX21lZGl1bSppbXBfbWVkaXVtJywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX2hpZ2gqaW1wX2hpZ2gnLAogICAgICAgICMgICAgICAgICAgICAgICdpbXBfdmVyeWhpZ2gqaW1wX3ZlcnloaWdoJ10KCiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGludF9kdXBzLGF4aXM9MSxpbnBsYWNlPVRydWUpICAgICAgICAgICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGltcHMsYXhpcz0xLGlucGxhY2U9VHJ1ZSkKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGRheXBhcnRzLGF4aXM9MSxpbnBsYWNlPVRydWUpCgoKCgogICAgICAgIAogICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIAogICAgICAgIGZlYXR1cmVfZGF0YXNldF9kZi5yZXNldF9pbmRleChkcm9wPVRydWUsIGlucGxhY2U9VHJ1ZSkKICAgICAgICAKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE4X2ZlYXR1cmVfZGF0YXNldC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKICAgICAgICBleHAgPSByZS5jb21waWxlKCJhZGpfbGlmdHxec3RhdGlvbltBLVphLXpdK3xeaXNjaV9bMC05QS1aYS16XSt8XmJ1eV9jb2Rlc1swLTlBLVphLXpdK3xeaW1wX1tBLVphLXpdK3xeZGF5cGFydFtBLVphLXpdIikKICAgICAgICBuYW1lID0gZmVhdHVyZV9kYXRhc2V0X2RmLmNvbHVtbnMKICAgICAgICBuYW1lID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwLCB4KV0KCiAgICAgICAgdHJhaW5pbmdfZGF0YSA9IGZlYXR1cmVfZGF0YXNldF9kZltuYW1lXQoKCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgIyB0cmFpbmluZ19kYXRhLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMThfdHJhaW5pbmdfZGF0YS5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCgogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICMgICAjIFNURVAgMTk6IFRyYWluIFNlY29uZCBTdGFnZSBNb2RlbAogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgVHJhaW4gc2Vjb25kIHN0YWdlIG1vZGVsIikKICAgICAgICAKICAgICAgICAjZm9yY2VzIGFsbCBjb2VmcyB0byBiZSBwb3NpdGl2ZSAodGhpcyBpcyBzdGF0aW9uLCBpc2NpLCBhbmQgYnV5IGNvZGVzKQoKICAgICAgICByZWc9bGluZWFyX21vZGVsLlJpZGdlKGZpdF9pbnRlcmNlcHQ9MCwgYWxwaGEgPSAxLCBzb2x2ZXIgPSAnbGJmZ3MnLCBwb3NpdGl2ZT0gVHJ1ZSwgcmFuZG9tX3N0YXRlID0gMjAgKQogICAgICAgCiAgICAgICAgcmVnLmZpdCh0cmFpbmluZ19kYXRhLmRyb3AoJ2Fkal9saWZ0JywgYXhpcyA9IDEpLCAodHJhaW5pbmdfZGF0YVsnYWRqX2xpZnQnXSkpCgogICAgICAgIHNlY29uZF9zdGFnZV9wcmVkcyA9IHJlZy5wcmVkaWN0KHRyYWluaW5nX2RhdGEuZHJvcCgnYWRqX2xpZnQnLGF4aXM9MSkpCiAgICAKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnc2Vjb25kX3N0YWdlX2xpZnQnXSA9IHNlY29uZF9zdGFnZV9wcmVkcwoKICAgICAgICAjY3JlYXRpbmcgYSBkZiBvZiB0aGUgY29lZnMgdG8gc2F2ZSBvZmYKICAgICAgICBjb2xfbmFtZXMgPSBwZC5EYXRhRnJhbWUodHJhaW5pbmdfZGF0YS5kcm9wKCdhZGpfbGlmdCcsYXhpcz0xKS5jb2x1bW5zLCBjb2x1bW5zID0gWydjb2xzJ10pCiAgICAgICAgY29sX25hbWVzWydjb2VmJ10gPSByZWcuY29lZl8KCiAgICAgICAgZHJvcHMgPSBbJ25ldF9yYXRfaW5kJywnaXNIb2xpZGF5JywnY291bnRzJ10KICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5kcm9wKGRyb3BzLCBheGlzPTEsIGlucGxhY2U9VHJ1ZSkKCiAgICAgICAgIyBBZGRpbmcgY29sdW1ucyB0byByZXN1bHQgZGF0YWZyYW1lIGZvciBwYXJ0aXRpb25pbmcgaW4gYXRoZW5hCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2FkdmVydGlzZXJfbmFtZSddID0gY2xpZW50a2V5CiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2twaV9pbmRleCddID0ga3BpX2luZGV4CiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3lyJ10gPSBzdHIoZGF0ZXRpbWUuc3RycHRpbWUoc3RyKGVuZF9kYXRlKSwgJyVZLSVtLSVkICVIOiVNOiVTJykueWVhcikKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnbW8nXSA9IHN0cihkYXRldGltZS5zdHJwdGltZShzdHIoZW5kX2RhdGUpLCAnJVktJW0tJWQgJUg6JU06JVMnKS5tb250aCkKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnZGQnXSA9IHN0cihkYXRldGltZS5zdHJwdGltZShzdHIoZW5kX2RhdGUpLCAnJVktJW0tJWQgJUg6JU06JVMnKS5kYXkpCiAgICAgCgogICAgICAgICMgUHJlcGFyaW5nIG91dHB1dCBkYXRhZnJhbWUgaW4gVFZPIGZvcm1hdAogICAgICAgIHR2b19mb3JtYXRfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5kcm9wKGNvbHVtbnM9Wyd5cicsJ21vJywnZGQnXSkuY29weSgpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnZGF0ZSddID0gcGQudG9fZGF0ZXRpbWUodHZvX2Zvcm1hdF9kZlsnc3RhcnRkYXRldGltZXJvdW5kZWQnXSxmb3JtYXQ9JyVZLSVtLSVkICVIOiVNOiVTJykuYXN0eXBlKCdzdHInKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2V2ZW50X3RpbWVzdGFtcCddID0gdHZvX2Zvcm1hdF9kZi5hcHBseShsYW1iZGEgeDogc3RyKGRhdGV0aW1lLnN0cnB0aW1lKHBhcnNlX3RpbWVzdGFtcChzdHIoeFsnZGF0ZSddKSksICclWS0lbS0lZCAlSDolTTolUycpKSwgYXhpcz0xKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3lyJ10gPSB0dm9fZm9ybWF0X2RmWydldmVudF90aW1lc3RhbXAnXS5hcHBseShsYW1iZGEgeDp4WzA6NF0pCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbW8nXSA9IHR2b19mb3JtYXRfZGZbJ2V2ZW50X3RpbWVzdGFtcCddLmFwcGx5KGxhbWJkYSB4OnhbNTo3XSkKICAgICAgICB0dm9fZm9ybWF0X2RmWydkZCddID0gdHZvX2Zvcm1hdF9kZlsnZXZlbnRfdGltZXN0YW1wJ10uYXBwbHkobGFtYmRhIHg6eFs4OjEwXSkKCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnYWR2ZXJ0aXNlcl9uYW1lJ10gPSBjbGVhbl9zdHJpbmcoY2xpZW50a2V5KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Byb2R1Y3RfbmFtZSddID0gdHZvX2Zvcm1hdF9kZlsncHJvZHVjdF9uYW1lJ10uYXBwbHkoY2xlYW5fc3RyaW5nKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2NyZWF0aXZlX2lzY2knXSA9IHR2b19mb3JtYXRfZGZbJ2lzY2lfMjAnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnc3RhdGlvbl9uYW1lJ10gPSB0dm9fZm9ybWF0X2RmWydzdGF0aW9uJ10uYXBwbHkoY2xlYW5fc3RyaW5nKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2twaV9uYW1lJ10gPSBjbGVhbl9zdHJpbmcoa3BpX2Rlc2NyaXB0aW9uKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ21hcmtldF9uYW1lJ10gPSBjbGVhbl9zdHJpbmcobWFya2V0KQoKCiAgICAgICAgaWYgY3JlYXRpdmVfZGYuc2hhcGVbMF0gPT0gMDoKICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZiA9IHR2b19mb3JtYXRfZGYuYXNzaWduKHRpdGxlPXR2b19mb3JtYXRfZGZbJ2lzY2lfMjAnXSwgbmFtZT10dm9fZm9ybWF0X2RmWydpc2NpXzIwJ10pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3JlYXRpdmVfZGZbJ2xlbmd0aCddID0gY3JlYXRpdmVfZGZbJ2xlbmd0aCddLmFzdHlwZShpbnQpCiAgICAgICAgICAgIHR2b19mb3JtYXRfZGZbJ2xlbmd0aCddID0gdHZvX2Zvcm1hdF9kZlsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZiA9IHR2b19mb3JtYXRfZGYubWVyZ2UoY3JlYXRpdmVfZGYsIG9uPVsnaXNjaV8yMCcsICdsZW5ndGgnXSwgaG93PSdsZWZ0JykKICAgICAgICAgICAgaWYgJ3RpdGxlJyBub3QgaW4gdHZvX2Zvcm1hdF9kZjoKICAgICAgICAgICAgICAgIHR2b19mb3JtYXRfZGZbJ3RpdGxlJ10gPSBucC5uYW4KICAgICAgICAgICAgaWYgJ25hbWUnIG5vdCBpbiB0dm9fZm9ybWF0X2RmOgogICAgICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbmFtZSddID0gbnAubmFuCiAgICAgICAgICAgIHR2b19mb3JtYXRfZGYgPSB0dm9fZm9ybWF0X2RmLmFzc2lnbih0aXRsZT1ucC53aGVyZSh0dm9fZm9ybWF0X2RmLnRpdGxlLmlzbmEoKSwgdHZvX2Zvcm1hdF9kZi5pc2NpXzIwLCB0dm9fZm9ybWF0X2RmLnRpdGxlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPW5wLndoZXJlKHR2b19mb3JtYXRfZGYubmFtZS5pc25hKCksIHR2b19mb3JtYXRfZGYuaXNjaV8yMCwgdHZvX2Zvcm1hdF9kZi5uYW1lKSkgICAKICAgICAgICAgICAgCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnY3JlYXRpdmVfbmFtZSddID0gdHZvX2Zvcm1hdF9kZlsndGl0bGUnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnY3JlYXRpdmVfZHVyYXRpb24nXSA9IHR2b19mb3JtYXRfZGZbJ2xlbmd0aCddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5faW50KSAgIAogICAgICAgIHR2b19mb3JtYXRfZGZbJ2twaV9pbmRleCddID0gdHZvX2Zvcm1hdF9kZlsna3BpX2luZGV4J10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbGlmdCddID0gdHZvX2Zvcm1hdF9kZlsnc2Vjb25kX3N0YWdlX2xpZnQnXS5hc3R5cGUoJ3N0cicpLmFwcGx5KGNsZWFuX2Zsb2F0KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2Jhc2VsaW5lJ10gPSB0dm9fZm9ybWF0X2RmWydiYXNlbGluZSddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5fZmxvYXQpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbmV0X3JhdGUnXSA9IHR2b19mb3JtYXRfZGZbJ25ldF9yYXRlJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9mbG9hdCkKICAgICAgICB0dm9fZm9ybWF0X2RmWydpbXByZXNzaW9ucyddID0gdHZvX2Zvcm1hdF9kZlsnaW1wcmVzc2lvbnMnXS5hc3R5cGUoJ3N0cicpLmFwcGx5KGNsZWFuX2ludCkKICAgICAgICB0dm9fZm9ybWF0X2RmWydzZWNvbmRhcnlfaW1wcmVzc2lvbnMnXSA9IHR2b19mb3JtYXRfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5faW50KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2RheXBhcnQnXSA9IHR2b19mb3JtYXRfZGZbJ2RheXBhcnQnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsncHJvZ3JhbSddID0gdHZvX2Zvcm1hdF9kZlsncHJvZ3JhbSddLmFwcGx5KGNsZWFuX3N0cmluZykKICAgICAgICB0dm9fZm9ybWF0X2RmWydidXlfY29kZXMnXSA9IHR2b19mb3JtYXRfZGZbJ2J1eV9jb2RlcyddLmFwcGx5KGNsZWFuX3N0cmluZykKICAgICAgICB0dm9fZm9ybWF0X2RmWydwcmVfa3BpJ10gPSB0dm9fZm9ybWF0X2RmWydwcmVfa3BpJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9pbnQpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsncG9zdF9rcGknXSA9IHR2b19mb3JtYXRfZGZbJ3Bvc3Rfa3BpJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9pbnQpCiAgICAgICAgICAgIAogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Jvd19pZCddID0gW3N0cih1dWlkLnV1aWQ0KCkpIGZvciBpIGluIHJhbmdlKGxlbih0dm9fZm9ybWF0X2RmKSldCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnczNfc291cmNlX2ZpbGUnXSA9ICIiCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnaW5nZXN0X3RpbWVzdGFtcCddID0gc3RyKGRhdGV0aW1lLm5vdygpKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Byb2Nlc3NpbmdfdGltZXN0YW1wJ10gPSBjbGVhbl9zdHJpbmcoc3RyKGRhdGV0aW1lLm5vdygpKSkKCiAgICAgICAgY29sdW1uX2xpc3QgPSBbJ2V2ZW50X3RpbWVzdGFtcCcsICdhZHZlcnRpc2VyX25hbWUnLCAncHJvZHVjdF9uYW1lJywgJ3N0YXRpb25fbmFtZScsCiAgICAgICAnY3JlYXRpdmVfaXNjaScsICdjcmVhdGl2ZV9uYW1lJywgJ2NyZWF0aXZlX2R1cmF0aW9uJywgJ2twaV9pbmRleCcsCiAgICAgICAna3BpX25hbWUnLCAnbGlmdCcsICdiYXNlbGluZScsICduZXRfcmF0ZScsICdpbXByZXNzaW9ucycsICdzZWNvbmRhcnlfaW1wcmVzc2lvbnMnLCdkYXlwYXJ0JywKICAgICAgICdwcm9ncmFtJywgJ21hcmtldF9uYW1lJywgJ2J1eV9jb2RlcycsICdwcmVfa3BpJywgJ3Bvc3Rfa3BpJywKICAgICAgICdwcm9jZXNzaW5nX3RpbWVzdGFtcCcsICdpbmdlc3RfdGltZXN0YW1wJywgJ3MzX3NvdXJjZV9maWxlJywgJ3lyJywKICAgICAgICdtbycsICdkZCcsICdyb3dfaWQnXQogICAgICAgIHR2b19mb3JtYXRfZGYgPSB0dm9fZm9ybWF0X2RmW2NvbHVtbl9saXN0XQogICAgCiAgICAgICAgICAgIAoKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmX3R2byA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmX3R2bwogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xOV9maW5hbF9vdXRwdXQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IiwgaW5kZXg9IEZhbHNlKQogICAgICAgICMgY29sX25hbWVzLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTlfY29lZnMuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKICAgICAgICAKICAgIAoKICAgIAogICAgCiAgICAgIyAgICMgd3JpdGUgb3V0cHV0IGZpbGVzCiAgICAgIyAgIGFnZ3JlZ2F0ZWRfbGlmdF9kYXRhLnRvX2NzdihvdXRwdXRfZmlsZW5hbWVfYWdncmVnYXRlLCBlbmNvZGluZz0idXRmLTgiKQoKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgIyBTVEVQIDE3OiBVUExPQUQgRklMRVMgVE8gUzMKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIFVwbG9hZGluZyBQZXJmb3JtYW5jZSBSZXN1bHRzIEZpbGUgdG8gUzMnKQogICAgICMgICB1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSggICBpbnB1dF9maWxlbmFtZT1vdXRwdXRfZmlsZW5hbWVfYWdncmVnYXRlLAogICAgICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfbmFtZT1jbGllbnRrZXksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9pbmRleD1rcGlfaW5kZXgsCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZT1zdHIoc3RhcnRfZGF0ZSksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXN0cihlbmRfZGF0ZSksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaD1icmFuY2gKICAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgIHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlX3R2bzJfZm9ybWF0KGlucHV0X2ZpbGU9c3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X25hbWU9Y2xpZW50a2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9pbmRleD1rcGlfaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZT1zdHIoc3RhcnRfZGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU9c3RyKGVuZF9kYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2g9YnJhbmNoKQogICAgICAgIAogICAgICAgIHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlX3R2b19mb3JtYXQoaW5wdXRfZmlsZT10dm9fZm9ybWF0X2RmLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X25hbWU9Y2xpZW50a2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga3BpX2luZGV4PWtwaV9pbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9c3RyKHN0YXJ0X2RhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU9c3RyKGVuZF9kYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaD1icmFuY2gpCiAgICAgICAgcmV0dXJuIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiRVJST1I6IFBpcGVsaW5lLlJ1biBGYWlsZWQ6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIkVSUk9SOiBQaXBlbGluZS5SdW4gRmFpbGVkOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoK\\\\\\\"}\\\",\\\"sandboxService\\\":[],\\\"notebookContent\\\":\\\"{\\\\\\\"nbformat_minor\\\\\\\":2,\\\\\\\"metadata\\\\\\\":{},\\\\\\\"cells\\\\\\\":[{\\\\\\\"outputs\\\\\\\":[],\\\\\\\"metadata\\\\\\\":{\\\\\\\"id\\\\\\\":\\\\\\\"5308440_0.5987037587311062\\\\\\\"},\\\\\\\"execution_count\\\\\\\":null,\\\\\\\"source\\\\\\\":[\\\\\\\"import config\\\\\\\\nimport main\\\\\\\\nfrom time import perf_counter\\\\\\\\nimport logging\\\\\\\\nimport boto3\\\\\\\\n\\\\\\\\ndef get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\n    athena_client = boto3.client(\\\\\\\\n        'athena', \\\\\\\\n        region_name=REGION_NAME, \\\\\\\\n        aws_access_key_id=AWS_ACCESS_KEY_ID, \\\\\\\\n        aws_secret_access_key=AWS_SECRET_ACCESS_KEY\\\\\\\\n    )\\\\\\\\n    return athena_client\\\\\\\\n\\\\\\\\ndef run_athena_query(query, ATHENA_DATABASE, ATHENA_STATUS_OUTPUT_LOCATION,\\\\\\\\n                    REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\n    \\\\\\\\n    ATHENA_CLIENT = get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)\\\\\\\\n        \\\\\\\\n    logging.info(f'Starting Athena query execution')\\\\\\\\n    logging.info(f'Athena query:\\\\\\\\\\\\\\\\n{query}')\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\n        QueryString=query,\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\n    )\\\\\\\\n    \\\\\\\\n    # Get the query execution ID\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\n\\\\\\\\n    # Wait for the query to complete\\\\\\\\n    while True:\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\n            break\\\\\\\\n\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\n        logging.info(f'Athena query ran successfully')\\\\\\\\n    elif status == 'FAILED':\\\\\\\\n        raise Exception('Query from Athena failed') \\\\\\\\n\\\\\\\\n\\\\\\\\ndef tvo_driver(input_data, s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket):\\\\\\\\n    \\\\\\\\n    logging.info(f'TVO 2 process started')\\\\\\\\n    input_data = input_data[0]\\\\\\\\n    start_time = perf_counter()\\\\\\\\n        \\\\\\\\n    # Getting config variables\\\\\\\\n    main.init_config(s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket)\\\\\\\\n    \\\\\\\\n    # TVO2 process\\\\\\\\n    results = main._main(input_data) \\\\\\\\n    logging.info(f'TVO 2 process finished in {round(perf_counter() - start_time, 3)} seconds')\\\\\\\\n    results[0]['process_time_minutes'] = round(round(perf_counter() - start_time, 3)/60,3)\\\\\\\\n    \\\\\\\\n    # Doing MSCK repair\\\\\\\\n    table_name = f\\\\\\\\\\\\\\\"{athena_database}.tvo_2_0\\\\\\\\\\\\\\\"\\\\\\\\n    query = f\\\\\\\\\\\\\\\"MSCK REPAIR TABLE {table_name}\\\\\\\\\\\\\\\"\\\\\\\\n    run_athena_query(query, athena_database, athena_status_output_location, region_name,\\\\\\\\n                    aws_access_key_id, aws_secret_access_key)\\\\\\\\n    return results\\\\\\\"],\\\\\\\"cell_type\\\\\\\":\\\\\\\"code\\\\\\\"}],\\\\\\\"nbformat\\\\\\\":4}\\\",\\\"secrets\\\":\\\"{\\\\\\\"reserv1\\\\\\\":null,\\\\\\\"reserv2\\\\\\\":null,\\\\\\\"reserv3\\\\\\\":null,\\\\\\\"reserv4\\\\\\\":null,\\\\\\\"reserv5\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":null,\\\\\\\"isActive\\\\\\\":0,\\\\\\\"lastUpdatedDate\\\\\\\":null,\\\\\\\"active\\\\\\\":1,\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":2162688,\\\\\\\"type\\\\\\\":\\\\\\\"210\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"settings\\\\\\\":\\\\\\\"[{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"AWS\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"ACCESS_KEY_ID_BDB\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"SECRET_KEY_BDB\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"REGION\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"NAME\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"PROD\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"QUERY\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"RESULTS\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"SOURCE\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"BDB\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ATHENA\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"DATABASE\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ATTRIBUTION\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"CLIENT\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"UPLOADS_BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"REDSHIFT\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"MTA_SECRET_NAME\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"WURFL\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]}]\\\\\\\"}\\\",\\\"dataSource\\\":[],\\\"notebook\\\":\\\"{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":5308499,\\\\\\\"projectId\\\\\\\":4751365,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"notebookName\\\\\\\":\\\\\\\"tvo2_driver\\\\\\\",\\\\\\\"data\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"datasets\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"uncheckeddatasets\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"5308440_0.5987037587311062\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"import config\\\\\\\\\\\\\\\\nimport main\\\\\\\\\\\\\\\\nfrom time import perf_counter\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\n    athena_client = boto3.client(\\\\\\\\\\\\\\\\n        'athena', \\\\\\\\\\\\\\\\n        region_name=REGION_NAME, \\\\\\\\\\\\\\\\n        aws_access_key_id=AWS_ACCESS_KEY_ID, \\\\\\\\\\\\\\\\n        aws_secret_access_key=AWS_SECRET_ACCESS_KEY\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\n    return athena_client\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef run_athena_query(query, ATHENA_DATABASE, ATHENA_STATUS_OUTPUT_LOCATION,\\\\\\\\\\\\\\\\n                    REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    ATHENA_CLIENT = get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n    logging.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\n    logging.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\n        logging.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed') \\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef tvo_driver(input_data, s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket):\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process started')\\\\\\\\\\\\\\\\n    input_data = input_data[0]\\\\\\\\\\\\\\\\n    start_time = perf_counter()\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n    # Getting config variables\\\\\\\\\\\\\\\\n    main.init_config(s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket)\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    # TVO2 process\\\\\\\\\\\\\\\\n    results = main._main(input_data) \\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process finished in {round(perf_counter() - start_time, 3)} seconds')\\\\\\\\\\\\\\\\n    results[0]['process_time_minutes'] = round(round(perf_counter() - start_time, 3)/60,3)\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    # Doing MSCK repair\\\\\\\\\\\\\\\\n    table_name = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{athena_database}.tvo_2_0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n    query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"MSCK REPAIR TABLE {table_name}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n    run_athena_query(query, athena_database, athena_status_output_location, region_name,\\\\\\\\\\\\\\\\n                    aws_access_key_id, aws_secret_access_key)\\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"count\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"mode\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"preview\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"interrupt\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"warning\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"outputArray\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"lineNumber\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"laodmodel\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"pre_cell_id\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"is_pre_cell\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"succORerr\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"expand\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"outputexpand\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"readonly\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"markDowns\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"loader\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"image\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"error\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"result\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"algorithms\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"semicolon\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cputimes\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"showcputime\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"secret\\\\\\\\\\\\\\\":[]}],\\\\\\\\\\\\\\\"kernalID\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"67242548-30ca-466e-a361-867f1c0b3eb2\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Algorithms\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"isScheduled\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tvo2_driver.ipynb\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"description\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":1700493273231,\\\\\\\"lastUpdatedDate\\\\\\\":1700588348617,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":3538945,\\\\\\\"status\\\\\\\":1,\\\\\\\"committedBy\\\\\\\":4030470,\\\\\\\"lastcommittedDate\\\\\\\":1700493273231,\\\\\\\"isShared\\\\\\\":null,\\\\\\\"customComponentscript\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"DSLAB_content\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"[{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"5308440_0.5987037587311062\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"import config\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport main\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nfrom time import perf_counter\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    athena_client = boto3.client(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        'athena', \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        region_name=REGION_NAME, \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        aws_access_key_id=AWS_ACCESS_KEY_ID, \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        aws_secret_access_key=AWS_SECRET_ACCESS_KEY\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return athena_client\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_athena_query(query, ATHENA_DATABASE, ATHENA_STATUS_OUTPUT_LOCATION,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_CLIENT = get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logging.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed') \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef tvo_driver(input_data, s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process started')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_data = input_data[0]\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    start_time = perf_counter()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Getting config variables\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    main.init_config(s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # TVO2 process\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results = main._main(input_data) \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process finished in {round(perf_counter() - start_time, 3)} seconds')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results[0]['process_time_minutes'] = round(round(perf_counter() - start_time, 3)/60,3)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Doing MSCK repair\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    table_name = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{athena_database}.tvo_2_0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"MSCK REPAIR TABLE {table_name}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    run_athena_query(query, athena_database, athena_status_output_location, region_name,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    aws_access_key_id, aws_secret_access_key)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"count\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"error\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true}]\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pipeline_content\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"import config\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport main\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nfrom time import perf_counter\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    athena_client = boto3.client(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        'athena', \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        region_name=REGION_NAME, \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        aws_access_key_id=AWS_ACCESS_KEY_ID, \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        aws_secret_access_key=AWS_SECRET_ACCESS_KEY\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return athena_client\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_athena_query(query, ATHENA_DATABASE, ATHENA_STATUS_OUTPUT_LOCATION,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_CLIENT = get_athena_connection(REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logging.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed') \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef tvo_driver(input_data, s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process started')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_data = input_data[0]\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    start_time = perf_counter()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Getting config variables\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    main.init_config(s3_target_bucket_performance, s3_target_path_performance, s3_target_path_performance_tvo,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # TVO2 process\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results = main._main(input_data) \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logging.info(f'TVO 2 process finished in {round(perf_counter() - start_time, 3)} seconds')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results[0]['process_time_minutes'] = round(round(perf_counter() - start_time, 3)/60,3)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Doing MSCK repair\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    table_name = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{athena_database}.tvo_2_0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"MSCK REPAIR TABLE {table_name}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    run_athena_query(query, athena_database, athena_status_output_location, region_name,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    aws_access_key_id, aws_secret_access_key)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"externalLibraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"[{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"skranger==0.8.0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"boto3==1.21.5\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"holidays==0.13\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"impyute==0.0.8\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"kendall_w==1.0.0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"psycopg2==2.9.3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"PuLP==2.6.0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"scikit-learn==1.2.2\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"scipy==1.8.0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"skranger==0.8.0\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true}]\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"type\\\\\\\":2,\\\\\\\"isScheduled\\\\\\\":null,\\\\\\\"isImported\\\\\\\":1,\\\\\\\"path\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111700493273238\\\\\\\"}\\\",\\\"preparation\\\":[]}}\",\"5308500\":\"{\\\"dslabserviceresp\\\":{\\\"queryService\\\":[],\\\"bizvizWorkspace\\\":\\\"{\\\\\\\"reserv1\\\\\\\":null,\\\\\\\"reserv2\\\\\\\":null,\\\\\\\"reserv3\\\\\\\":null,\\\\\\\"reserv4\\\\\\\":null,\\\\\\\"reserv5\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":1699240326942,\\\\\\\"isActive\\\\\\\":0,\\\\\\\"lastUpdatedDate\\\\\\\":null,\\\\\\\"active\\\\\\\":1,\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4751365,\\\\\\\"name\\\\\\\":\\\\\\\"TVO20\\\\\\\",\\\\\\\"count\\\\\\\":null,\\\\\\\"parentId\\\\\\\":null,\\\\\\\"userId\\\\\\\":\\\\\\\"622598\\\\\\\",\\\\\\\"isFile\\\\\\\":false,\\\\\\\"infoJson\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"imageVersion\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"w8.5.3\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"external_libraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"boto3==1.21.5,holidays==0.13,impyute==0.0.8,kendall_w==1.0.0,numpy==1.22.2,psycopg2==2.9.3,PuLP==2.6.0,scikit-learn==1.2.2,scipy==1.8.0,skranger==0.8.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"imageName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dsnotebook-tensorflow\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"confDetails\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"high\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"4048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2500m\\\\\\\\\\\\\\\"}}},\\\\\\\\\\\\\\\"low\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"realtime\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"500m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"}}}},\\\\\\\\\\\\\\\"medium\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"nonspark\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"request\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1024Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"limit\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"memory\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2048Mi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cpu\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"1000m\\\\\\\\\\\\\\\"}}}},\\\\\\\\\\\\\\\"idle_shutdown\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"30m\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"apiImageVersion\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"8.5.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"appName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"git_project\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_url\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"juice-media/tvo2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"TVO20\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"removedLibraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"environment\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"PythonTensorFlow\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"project_description\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"TVO 2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Algorithms\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gpuLimit\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"projectLabel\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tvo2.0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"resource_allocation\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"medium\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"configured_branch\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"master\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"apiImageName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dsmodelapi\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"gpuType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"branchLabel\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"master\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"type\\\\\\\":10,\\\\\\\"status\\\\\\\":1,\\\\\\\"contentJson\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"CreateProjectKey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Create_Project\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"templateJson\\\\\\\":null,\\\\\\\"isShared\\\\\\\":null,\\\\\\\"updatedBy\\\\\\\":\\\\\\\"4030470\\\\\\\",\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240326942\\\\\\\",\\\\\\\"createdUserName\\\\\\\":null}\\\",\\\"envVariables\\\":\\\"[]\\\",\\\"utility\\\":\\\"[{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":5341241,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"config\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581513000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581513000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"config.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111700079618152\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849690,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"pipeline\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581509000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581509000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"pipeline.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240494692\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849689,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"performance\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581506000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581506000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"performance.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240458660\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849688,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"optimization\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581502000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581502000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"optimization.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240434154\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849687,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"main\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581499000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581499000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"main.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240420079\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849686,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"utils\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581495000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581495000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"utils.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240405540\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849685,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"pipeline_helpers\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581492000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581492000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"pipeline_helpers.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240393708\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849684,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"connections_aws\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581489000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581489000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"connections_aws.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240371111\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null},{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":4849683,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"base_logger\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"from vcs imported file\\\\\\\",\\\\\\\"createdDate\\\\\\\":1700581485000,\\\\\\\"lastUpdatedDate\\\\\\\":1700581485000,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"properties\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"base_logger.py\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"isImported\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"completionStatus\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"py\\\\\\\",\\\\\\\"reference_id\\\\\\\":4751365,\\\\\\\"prepJson\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111699240356279\\\\\\\",\\\\\\\"fileType\\\\\\\":null,\\\\\\\"createdTime\\\\\\\":null}]\\\",\\\"utilityContent\\\":\\\"{\\\\\\\"4849685\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBob2xpZGF5cwpmcm9tIHN5cyBpbXBvcnQgZXhjX2luZm8KaW1wb3J0IGNvbm5lY3Rpb25zX2F3cwpmcm9tIGJhc2VfbG9nZ2VyIGltcG9ydCBsb2dnZXIKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgcmFuZG9tCmltcG9ydCB1dGlscwppbXBvcnQgcGVyZm9ybWFuY2UKZnJvbSBza2xlYXJuLmxpbmVhcl9tb2RlbCBpbXBvcnQgTGluZWFyUmVncmVzc2lvbgpmcm9tIHJhbmRvbSBpbXBvcnQgc2FtcGxlCmltcG9ydCByZQppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCByYW5kb20Kd2FybmluZ3MuZmlsdGVyd2FybmluZ3MoImlnbm9yZSIpCgojIEFXU19SRUdJT04gPSAndXMtd2VzdC0yJwojIFMzX1RBUkdFVF9CVUNLRVQgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24nCiMgUzNfVEFSR0VUX0JVQ0tFVF9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwojIHMzX3Jlc291cmNlID0gYm90bzMucmVzb3VyY2UoJ3MzJykKZGVmIGZpeF9kYXlwYXJ0KGRmKToKICAgIGRmWydkYXlwYXJ0J10gPSBbZGF5cGFydF9nZW4ocm93KSBmb3IgaWR4LCByb3cgaW4gZGYuaXRlcnJvd3MoKV0KICAgIHJldHVybiBkZgogICAgCgpkZWYgbGlmdF9mb3JtYXRfcHJlcGFyZShsaWZ0KToKICAgIHRyeToKICAgICAgICBsaWZ0WydkYXRlJ10gPSBbZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoaSwgJyVZLSVtLSVkICVIOiVNOiVTJykgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ3llYXInXSA9IFtpLnllYXIgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ21vbnRoJ10gPSBbaS5tb250aCBmb3IgaSBpbiBsaWZ0WydzdGFydGRhdGV0aW1lJ11dCiAgICAgICAgbGlmdFsnd2RheSddID0gW2kud2Vla2RheSgpICsgMSBmb3IgaSBpbiBsaWZ0WydzdGFydGRhdGV0aW1lJ11dICAjIE1vbmRheT09MCxTdW5kYXkgPT0gNgogICAgICAgIGxpZnRbJ2hvdXInXSA9IFtpLmhvdXIgZm9yIGkgaW4gbGlmdFsnc3RhcnRkYXRldGltZSddXQogICAgICAgIGxpZnRbJ2RheXBhcnQnXSA9IFtkYXlwYXJ0X2dlbihyb3cpIGZvciBpZHgsIHJvdyBpbiBsaWZ0Lml0ZXJyb3dzKCldCiAgICAgICAgbGlmdFsnc3RhdGlvbiddID0gW3JlLnN1Yignc3RhdGlvbicsICcnLCBpKSBmb3IgaSBpbiBsaWZ0WydzdGF0aW9uJ11dCiAgICAgICAgcmV0dXJuIGxpZnQubG9jW2xpZnQuc3RhdGlvbiAhPSAnbm9uZSddCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMubGlmdF9mb3JtYXRfcHJlcGFyZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmxpZnRfZm9ybWF0X3ByZXBhcmUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBkYXlwYXJ0X2dlbih1bml0KToKICAgIHRyeToKICAgICAgICAjZGF5ID0gdW5pdFsnd2RheSddCiAgICAgICAgI2hvdXIgPSB1bml0Wydob3VyJ10KCiAgICAgICAgZGF5ID0gdW5pdFsnc3RhcnRkYXRldGltZSddLndlZWtkYXkoKSArIDEKICAgICAgICBob3VyID0gdW5pdFsnc3RhcnRkYXRldGltZSddLmhvdXIKCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgaWYgKGRheSBpbiBbMSwgMiwgMywgNCwgNV0gYW5kIGhvdXIgaW4gcmFuZ2UoNiwgMTApKToKICAgICAgICAgICAgcmV0dXJuICgibW9ybmluZyIpCiAgICAgICAgZWxpZiAoZGF5IGluIFsxLCAyLCAzLCA0LCA1XSBhbmQgaG91ciBpbiByYW5nZSgxMCwgMTYpKToKICAgICAgICAgICAgcmV0dXJuICgiZGF5dGltZSIpCiAgICAgICAgZWxpZiAoZGF5IGluIFsxLCAyLCAzLCA0LCA1XSBhbmQgaG91ciBpbiByYW5nZSgxNiwgMTkpKToKICAgICAgICAgICAgcmV0dXJuICgiZWFybHlmcmluZ2UiKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSgxLCA4KSBhbmQgaG91ciBpbiByYW5nZSgxOSwgMjQpKToKICAgICAgICAgICAgcmV0dXJuICgicHJpbWUiKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSgxLCA4KSBhbmQgaG91ciBpbiByYW5nZSgwLCAyKSk6CiAgICAgICAgICAgIHJldHVybiAoImxhdGVuaWdodCIpCiAgICAgICAgZWxpZiAoZGF5IGluIHJhbmdlKDEsIDgpIGFuZCBob3VyIGluIHJhbmdlKDIsIDYpKToKICAgICAgICAgICAgcmV0dXJuICgib3Zlcm5pZ2h0IikKICAgICAgICBlbGlmIChkYXkgaW4gcmFuZ2UoNiwgOCkgYW5kIGhvdXIgaW4gcmFuZ2UoNiwgMTIpKToKICAgICAgICAgICAgcmV0dXJuICgid2Vla2VuZG1vcm5pbmciKQogICAgICAgIGVsaWYgKGRheSBpbiByYW5nZSg2LCA4KSBhbmQgaG91ciBpbiByYW5nZSgxMiwgMTkpKToKICAgICAgICAgICAgcmV0dXJuICgid2Vla2VuZGRheSIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZGF5cGFydF9nZW4pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmRheXBhcnRfZ2VuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfSB7ZX0iKQoKZGVmIGdlbmVyYXRlX2J1c3lfdGltZShkZiwgd2luZG93PTMpOgogICAgdHJ5OgogICAgICAgIGZkZiA9IGRmCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgd2luZG93KToKICAgICAgICAgICAgZmRmID0gcGQuY29uY2F0KFtmZGYsIGRmK2RhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPTYwKmkpXSkKICAgICAgICAgICAgZmRmID0gZmRmLmRyb3BfZHVwbGljYXRlcygpCiAgICAgICAgICAgIGZkZiA9IGZkZi5zb3J0X3ZhbHVlcygpCiAgICAgICAgcmV0dXJuIGZkZgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmdlbmVyYXRlX2J1c3lfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmdlbmVyYXRlX2J1c3lfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKGtwaSwgc3BvdCk6CiAgICByYW5kb20uc2VlZCgyMCkKICAgIHRyeToKICAgICAgICBtaW5zID0gcGQuZGF0ZV9yYW5nZShzdGFydD1rcGkubWludXRlLmlsb2NbMF0sIGVuZD1rcGkubWludXRlLmlsb2NbLTFdLCBmcmVxPScxbWluJykudG9fZnJhbWUoKQogICAgICAgIG1pbnMuY29sdW1ucyA9IFsnbWlucyddCiAgICAgICAgIyBnZW5lcmF0ZSBidXN5IHRpbWUKICAgICAgICBkYXRlUG9vbCA9IG1pbnNbfiBtaW5zLm1pbnMuaXNpbihnZW5lcmF0ZV9idXN5X3RpbWUoc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCwgMykpXQogICAgICAgIHNlbGVjdERhdGUgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogcmFuZG9tLnNhbXBsZShsaXN0KGRhdGVQb29sLm1pbnMpLCBzcG90LnNoYXBlWzBdKX0pCgogICAgICAgIG5vblN0YXRpb25TcG90ID0gcGQuRGF0YUZyYW1lKHsnc3RhdGlvbic6ICdub25lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbGVuZGFyZGF0ZSc6IFtkYXRldGltZS5kYXRldGltZS5zdHJmdGltZSh4LCAnJVktJW0tJWQnKSBmb3IgeCBpbiBzZWxlY3REYXRlLmRhdGVdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhcnRkYXRldGltZSc6IHNlbGVjdERhdGUuZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJzogc2VsZWN0RGF0ZS5kYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RvcGRhdGV0aW1lJzogW3ggKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz0zMCkgZm9yIHggaW4gc2VsZWN0RGF0ZS5kYXRlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzY2lfMjAnOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZW5ndGgnOiAnMzAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wcmVzc2lvbnMnOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZSc6IFtkYXRldGltZS5kYXRldGltZS5zdHJwdGltZSh5LCAnJVktJW0tJWQnKSBmb3IgeSBpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0ZXRpbWUuZGF0ZXRpbWUuc3RyZnRpbWUoeCwgJyVZLSVtLSVkJykgZm9yIHggaW4gc2VsZWN0RGF0ZS5kYXRlXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnOiAncHJvZHVjdG5vbmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6ICdwcm9ncmFtbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXlfY29kZXMnOiAnYnV5Y29kZXNub25lJ30pCgogICAgICAgIG5vblN0YXRpb25TcG90WydzdGFydGRhdGV0aW1lJ10gPSBwZC50b19kYXRldGltZShub25TdGF0aW9uU3BvdFsnc3RhcnRkYXRldGltZSddKQogICAgICAgIG5vblN0YXRpb25TcG90WydzdGFydGRhdGV0aW1lcm91bmRlZCddID0gcGQudG9fZGF0ZXRpbWUobm9uU3RhdGlvblNwb3RbJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJ10pCiAgICAgICAgdGVtcDRkYXlwYXJ0ID0gbm9uU3RhdGlvblNwb3QKICAgICAgICB0ZW1wNGRheXBhcnQgPSB0ZW1wNGRheXBhcnQuYXNzaWduKHdkYXk9bm9uU3RhdGlvblNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQuZHQuZGF5b2Z3ZWVrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cj1ub25TdGF0aW9uU3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZC5kdC5ob3VyKQogICAgICAgIG5vblN0YXRpb25TcG90WydkYXlwYXJ0J10gPSBbZGF5cGFydF9nZW4ocm93KSBmb3IgaWR4LCByb3cgaW4gdGVtcDRkYXlwYXJ0Lml0ZXJyb3dzKCldCiAgICAgICAgcmV0dXJuIG5vblN0YXRpb25TcG90CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX25vbl9zdGF0aW9uX3Nwb3RzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgYWRkX21pc3NpbmdfZGF0ZXRpbWVzX3RvX2twaV9kYXRhKGtwaSk6CiAgICB0cnk6CiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZV9oZWxwZXJzLmFkZF9taXNzaW5nX2RhdGV0aW1lc190b19rcGlfZGF0YSkgQWRkIE1pc3NpbmcgTWludXRlcyB0byBLUEkgRGF0YScpCiAgICAgICAgcHJpbnQoJzEnKQogICAgICAgIG1pbnMgPSBwZC5TZXJpZXMocGQuZGF0ZV9yYW5nZShzdGFydD1rcGkubWludXRlLmlsb2NbMF0sIGVuZD1rcGkubWludXRlLmlsb2NbLTFdLCBmcmVxPSdUJykpCiAgICAgICAgI21pbnMuY29sdW1ucyA9IFsnbWlucyddCiAgICAgICAgcHJpbnQoJzInKQogICAgICAgIGZ1bGwgPSBwZC5EYXRhRnJhbWUoCiAgICAgICAgICAgIHsnZGF5JzogW2RhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKHksICclWS0lbS0lZCcpIGZvciB5IGluIFtkYXRldGltZS5kYXRldGltZS5zdHJmdGltZSh4LCAnJVktJW0tJWQnKSBmb3IgeCBpbiBtaW5zXV0sCiAgICAgICAgICAgICdtaW51dGUnOiBtaW5zLAogICAgICAgICAgICAnaG91cic6IFtpbnQoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RyZnRpbWUoeCwgJyVIJykpIGZvciB4IGluIG1pbnNdLAogICAgICAgICAgICAna3BpJzogMCwKICAgICAgICAgICAgJ2twaV9kZXNjcmlwdGlvbic6ICcnCiAgICAgICAgICAgIH0pCiAgICAgICAgcHJpbnQoJzMnKQogICAgICAgIGNvbXBsZXRlS1BJID0gcGQuY29uY2F0KFtmdWxsLCBrcGldKS5ncm91cGJ5KFsnZGF5JywgJ21pbnV0ZScsICdob3VyJywgJ2twaV9kZXNjcmlwdGlvbiddKS5zdW0oKS5yZXNldF9pbmRleCgpCiAgICAgICAgcHJpbnQoJzQnKQogICAgICAgICMgTWlzc2luZyBkYXRlCiAgICAgICAgbWlzc0RhdGUgPSBmdWxsW35mdWxsLm1pbnV0ZS5pc2luKGtwaS5taW51dGUpXQogICAgICAgIHByaW50KCc1JykKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuYWRkX21pc3NpbmdfZGF0ZXRpbWVzX3RvX2twaV9kYXRhKSB7fSBtaW51dGVzIGFyZSBtaXNzaW5nIGluIEtQSSBkYXRhLiBGb3JjZSB0aGVtIGJhY2sgd2l0aCAwIEtQSS4nLmZvcm1hdChtaXNzRGF0ZS5zaGFwZVswXSkpCiAgICAgICAgcmV0dXJuIChjb21wbGV0ZUtQSSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMobGVmdCwgcmlnaHQpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIE1lcmdpbmcgU3BvdCBhbmQgS1BJIGRhdGEnKQogICAgICAgIG1lcmdlX3Nwb3RzX2FuZF93aW5kb3dzdGF0cyA9IHBkLm1lcmdlKGxlZnQsIHJpZ2h0LCBvbj1bJ3N0YXRpb24nLCAnc3RhcnRkYXRldGltZSddKS5zb3J0X3ZhbHVlcyhbJ3N0YXJ0ZGF0ZXRpbWUnXSkKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdHNfYW5kX3dpbmRvd3N0YXRzKSBEcm9wcGluZyBkdXBsaWNhdGVzJykKICAgICAgICBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMgPSBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMuZHJvcF9kdXBsaWNhdGVzKHN1YnNldD1bJ3N0YXRpb24nLCAnc3RhcnRkYXRldGltZScsICdsZW5ndGgnLCAnbmV0X3JhdGUnLCAnaW1wcmVzc2lvbnMnXSwga2VlcD0iZmlyc3QiKQogICAgICAgIHJldHVybiBtZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90c19hbmRfd2luZG93c3RhdHMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBzcGVuZF9pbmQobmV0LCBzcGxpdCk6CiAgICB0cnk6CiAgICAgICAgaWYgKG5ldCA8PSBzcGxpdFswXSk6CiAgICAgICAgICAgIHJldHVybiAnbG93JwogICAgICAgIGVsaWYgKG5ldCA8PSBzcGxpdFsxXSBhbmQgbmV0ID4gc3BsaXRbMF0pOgogICAgICAgICAgICByZXR1cm4gJ21lZGl1bScKICAgICAgICBlbGlmIChuZXQgPD0gc3BsaXRbMl0gYW5kIG5ldCA+IHNwbGl0WzFdKToKICAgICAgICAgICAgcmV0dXJuICdoaWdoJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAnZXh0cl9oaWdoJwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnNwZW5kX2luZCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnNwZW5kX2luZCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGhvbGlkYXlfaW5kKGRmLCBjb3VudHJ5KToKICAgIHRyeToKICAgICAgICBjb3VudHJ5ID0gY291bnRyeS5sb3dlcigpCiAgICAgICAgaWYgKGNvdW50cnkgPT0gJ3VzJyk6CiAgICAgICAgICAgIHVzID0gaG9saWRheXMuVVMoKQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gdXMpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAnY2EnKToKICAgICAgICAgICAgY2EgPSBob2xpZGF5cy5DQQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gY2EpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAndWsnKToKICAgICAgICAgICAgdWsgPSBob2xpZGF5cy5VSwogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gdWspID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZWxpZiAoY291bnRyeSA9PSAnYXUnKToKICAgICAgICAgICAgYXUgPSBob2xpZGF5cy5BVQogICAgICAgICAgICBpbmRpYyA9IFtpbnQoKHggaW4gYXUpID09IFRydWUpIGZvciB4IGluIGRmLnN0YXJ0ZGF0ZXRpbWVdCiAgICAgICAgZGZbJ2lzSG9saWRheSddID0gaW5kaWMKICAgICAgICByZXR1cm4gKGRmKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmhvbGlkYXlfaW5kKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuaG9saWRheV9pbmQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBzcG90X2NvdW50KGRmKToKICAgIHRyeToKICAgICAgICBzdGF0aW9uX25hbWUgPSBucC51bmlxdWUoZGYuc3RhdGlvbikKICAgICAgICBsb29rVXBUYWJsZSA9IHBkLkRhdGFGcmFtZSgwLCBpbmRleD1bMF0sIGNvbHVtbnM9c3RhdGlvbl9uYW1lKQogICAgICAgIGNvdW50ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSk6CiAgICAgICAgICAgIGNvdW50LmFwcGVuZChsb29rVXBUYWJsZS5sb2NbMCwgZGYuc3RhdGlvbi5pbG9jW2ldXSkKICAgICAgICAgICAgbG9va1VwVGFibGUubG9jWzAsIGRmLnN0YXRpb24uaWxvY1tpXV0gKz0gMQogICAgICAgIGRmWydjb3VudHMnXSA9IGNvdW50CiAgICAgICAgZGZbJ2NvdW50cyddID0gbnAud2hlcmUoZGYuc3RhdGlvbiA9PSAnbm9uZScsIDAsIGRmLmNvdW50cykKICAgICAgICByZXR1cm4gKGRmKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnNwb3RfY291bnQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5zcG90X2NvdW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY2xlYW5fY3JlYXRpdmUoZGYpOgogICAgdHJ5OgogICAgICAgIGRmMSA9IGRmLmNvcHkoKQogICAgICAgIGNyZWF0aXZlX25hbWUgPSBucC51bmlxdWUoZGYxLmlzY2lfMjApCiAgICAgICAgZm9yIG5hbWUgaW4gZGYxLmlzY2lfMjAudmFsdWVfY291bnRzKCkuaW5kZXg6CiAgICAgICAgICAgIGlmIChuYW1lWzotMV0gaW4gZGYxLmlzY2lfMjAudmFsdWVfY291bnRzKCkuaW5kZXgpOgogICAgICAgICAgICAgICAgZGYxLmlzY2lfMjBbZGYxLmlzY2lfMjAgPT0gbmFtZV0gPSBuYW1lWzotMV0KICAgICAgICByZXR1cm4gKGRmMSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5jbGVhbl9jcmVhdGl2ZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmNsZWFuX2NyZWF0aXZlKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY3VtdW5fcHJpb3IoZGYpOgogICAgdHJ5OgogICAgICAgIGRmID0gZGYuc29ydF92YWx1ZXMoWydzdGFydGRhdGV0aW1lJ10pCiAgICAgICAgZGYgPSBkZi5hc3NpZ24ocHJpb3JUVj1ucC5jdW1zdW0oZGYubmV0X3JhdGUpIC0gZGYubmV0X3JhdGUsCiAgICAgICAgICAgICAgICAgICAgcHJpb3JUVnNxcj0obnAuY3Vtc3VtKGRmLm5ldF9yYXRlKSAtIGRmLm5ldF9yYXRlKSAqKiAyKQogICAgICAgIHJldHVybiAoZGYpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3VtdW5fcHJpb3IpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5jdW11bl9wcmlvcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIHByaW9yX3NwZW5kX2luX3RpbWUoZGYsIHRpbWVfbGVuZ3RoKToKICAgIHRyeToKICAgICAgICBwcmlvclNwZW5kID0gW3ByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCh4LCBkZiwgdGltZV9sZW5ndGgpIGZvciB4IGluIHJhbmdlKDAsIGRmLnNoYXBlWzBdKV0KICAgICAgICBkZlsncHJpb3JfdHZfJyArIHN0cih0aW1lX2xlbmd0aCldID0gcHJpb3JTcGVuZAogICAgICAgIGRmWydwcmlvcl90dl8nICsgc3RyKHRpbWVfbGVuZ3RoKSArICdfc3FyJ10gPSBbeCAqKiAyIGZvciB4IGluIHByaW9yU3BlbmRdCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMucHJpb3Jfc3BlbmRfaW5fdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBwcmlvcl9zcGVuZF9pbl90aW1lX3VuaXQoaW5kZXgsIGRmLCB0aW1lX2xlbmd0aCk6CiAgICB0cnk6CiAgICAgICAgc3BlbmQgPSAoZGYubmV0X3JhdGUubG9jWyhkZi5zdGFydGRhdGV0aW1lcm91bmRlZCA8IGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdKSAmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdIC0gZGF0ZXRpbWUudGltZWRlbHRhKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzPXRpbWVfbGVuZ3RoKSldKS5zdW0oKQogICAgICAgIHJldHVybiBzcGVuZAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByaW9yX3NwZW5kX2luX3RpbWVfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNyZWF0ZV90aW1lKGRmKToKICAgIHRyeToKICAgICAgICBkZlsnZGF0ZSddID0gZGZbJ2NhbGVuZGFyZGF0ZSddLmFzdHlwZShzdHIpCiAgICAgICAgZGZbJ2RhdGUnXSA9IHBkLnRvX2RhdGV0aW1lKGRmWydkYXRlJ10sIGZvcm1hdD0nJVktJW0tJWQnKQogICAgICAgIGRmWydzdGFydGRhdGV0aW1lJ10gPSBwZC50b19kYXRldGltZShkZi5zdGFydGRhdGV0aW1lLmZpbGxuYShwZC5OYVQpLCBlcnJvcnM9J2NvZXJjZScpCiAgICAgICAgZGZbJ3dlZWtkYXknXSA9IHBkLkNhdGVnb3JpY2FsKGRmWydkYXRlJ10uZHQuZGF5X25hbWUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz1bJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU3VuZGF5J10sIG9yZGVyZWQ9VHJ1ZSkKICAgICAgICBkZlsnaG91ciddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5ob3VyCiAgICAgICAgZGZbJ21pbnV0ZSddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5taW51dGUKICAgICAgICBkZlsneWRheSddID0gZGZbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5kYXlvZnllYXIKICAgICAgICBkZlsnaG91ciddID0gbnAud2hlcmUoZGZbJ21pbnV0ZSddID4gMjksIGRmWydob3VyJ10gKyAwLjUsIGRmWydob3VyJ10pCiAgICAgICAgZGZbJ2hvdXInXSA9IGRmWydob3VyJ10uYXN0eXBlKCdvYmplY3QnKQogICAgICAgIGRmWydtaW51dGUnXSA9IGRmWydtaW51dGUnXS5hc3R5cGUoJ29iamVjdCcpCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY3JlYXRlX3RpbWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5jcmVhdGVfdGltZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGR1bW15X3ZhcihkZik6CiAgICB0cnk6CiAgICAgICAgIyBFbmNvZGUgY2F0ZWdvcnkgdmFyaWFibGVzIGludG8gZHVtbXkgdmFyaWFibGVzCiAgICAgICAgdmFyX3RvX2R1bW15ID0gWydzdGF0aW9uJywgJ2xlbmd0aCcsICdkYXlwYXJ0JywgJ2lzY2lfMjAnLCAnd2Vla2RheScsICdob3VyJywgJ21pbnV0ZScsICdwcm9kdWN0X25hbWUnLCAnYnV5X2NvZGVzJ10KICAgICAgICBpbmRleCA9IFtpIGluIGxpc3QoZGYuY29sdW1ucykgZm9yIGkgaW4gdmFyX3RvX2R1bW15XQogICAgICAgIG5ld192YXJfdG9fZHVtbXkgPSBbdmFyX3RvX2R1bW15W2pdIGZvciBqIGluIFtpIGZvciBpLCB4IGluIGVudW1lcmF0ZShpbmRleCkgaWYgeF1dCiAgICAgICAgb3V0cHV0ID0gcGQuZ2V0X2R1bW1pZXMoZGYsIHByZWZpeF9zZXA9JycsIGNvbHVtbnM9bmV3X3Zhcl90b19kdW1teSwgcHJlZml4PW5ld192YXJfdG9fZHVtbXkpCiAgICAgICAgcmV0dXJuIG91dHB1dAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwaXBlbGluZV9oZWxwZXJzLmR1bW15X3ZhcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmR1bW15X3ZhcikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZmVhdHVyZV9wcmVwYXJlX2RhdGEoZGYsIGNvdW50cnkpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ3JlYXRpbmcgaW5kaWNhdG9yIGZvciBuZXRfcmF0ZSBsZXZlbCIpCiAgICAgICAgZGZbJ25ldF9yYXRfaW5kJ10gPSBsaXN0KG1hcChsYW1iZGEgeDogc3BlbmRfaW5kKHgsIGRmLm5ldF9yYXRlLnF1YW50aWxlKFswLjI1LCAwLjc1LCAwLjk3NV0pLnZhbHVlcyksIGRmLm5ldF9yYXRlKSkKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDcmVhdGluZyBpbmRpY2F0b3IgZm9yIGhvbGlkYXkiKQogICAgICAgIGRmID0gaG9saWRheV9pbmQoZGYsIGNvdW50cnkpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ291bnRpbmcgbnVtYmVyIG9mIHNwb3RzIikKICAgICAgICBkZiA9IHNwb3RfY291bnQoZGYpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ2xlYW5pbmcgY3JlYXRpdmUgbmFtZSIpCiAgICAgICAgZGYgPSBjbGVhbl9jcmVhdGl2ZShkZikKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDb21wdXRpbmcgY3VtdWxhdGl2ZSBwcmlvciB0diBzcGVuZCBhbmQgaW1wcmVzc2lvbnMiKQogICAgICAgIGRmID0gY3VtdW5fcHJpb3IoZGYpCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgQ29tcHV0aW5nIGN1bXVsYXRpdmUgcHJpb3IgdHYgc3BlbmQgaW4gMTAgbWludXRlcyIpCiAgICAgICAgZGYgPSBwcmlvcl9zcGVuZF9pbl90aW1lKGRmLCAxMCkKCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLmZlYXR1cmVfcHJlcGFyZV9kYXRhKSBDb21wdXRpbmcgY3VtdWxhdGl2ZSBwcmlvciB0diBzcGVuZCBpbiAxIGhvdXJzIikKICAgICAgICBkZiA9IHByaW9yX3NwZW5kX2luX3RpbWUoZGYsIDYwKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIENyZWF0aW5nIHRpbWUgdmFyaWFibGVzJykKICAgICAgICBkZiA9IGNyZWF0ZV90aW1lKGRmKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIEFwcGx5aW5nIG9uZSBob3QgZW5jb2RpbmcgZm9yIGNhdGVnb3J5IHZhcmlhYmxlcycpCiAgICAgICAgZGYgPSBkdW1teV92YXIoZGYpCgogICAgICAgIGRmID0gZGYuc29ydF92YWx1ZXMoWydzdGFydGRhdGV0aW1lJ10pCiAgICAgICAgcmV0dXJuIGRmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZmVhdHVyZV9wcmVwYXJlX2RhdGEpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNvbGxlY3Rfa3BpX3J1bihzcG90LCBrcGksIGxlbik6CiAgICB0cnk6CiAgICAgICAgb3V0cHV0ID0gcGQuRGF0YUZyYW1lKFtjb2xsZWN0X2twaV91bml0KHNwb3QsIGtwaSwgeCwgbGVuKSBmb3IgeCBpbiByYW5nZSgyLCBzcG90LnNoYXBlWzBdIC0gNSldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz1bc3RyKGkpICsgJ21pbicgZm9yIGkgaW4gcmFuZ2UoMCwgMyldICsgWyctMW1pbiddKQogICAgICAgIG91dHB1dCA9IG91dHB1dC5hc3NpZ24oc3RhdGlvbj1zcG90LnN0YXRpb24uaWxvY1syOiBzcG90LnNoYXBlWzBdIC0gNV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGRhdGV0aW1lPXNwb3Quc3RhcnRkYXRldGltZS5pbG9jWzI6IHNwb3Quc2hhcGVbMF0gLSA1XSkKICAgICAgICByZXR1cm4gb3V0cHV0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgY29sbGVjdF9rcGlfdW5pdChzcG90LCBrcGksIGluZGV4LCBsZW4pOgogICAgdHJ5OgogICAgICAgIHBvc3Rfc3RhcnQgPSBzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmlsb2NbaW5kZXhdCiAgICAgICAgcG9zdF9lbmQgPSBwb3N0X3N0YXJ0ICsgZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9bGVuKQogICAgICAgIHByZV9zdGFydCA9IHBvc3Rfc3RhcnQgLSBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIHByZV9lbmQgPSBwb3N0X3N0YXJ0CgogICAgICAgIHBvc3QgPSBsaXN0KGtwaS5rcGkubG9jWyhrcGkubWludXRlID49IHBvc3Rfc3RhcnQpICYgKGtwaS5taW51dGUgPCBwb3N0X2VuZCldKQogICAgICAgIHByZSA9IGxpc3Qoa3BpLmtwaS5sb2NbKGtwaS5taW51dGUgPj0gcHJlX3N0YXJ0KSAmIChrcGkubWludXRlIDwgcHJlX2VuZCldKQogICAgICAgIHJlcyA9IHBvc3QgKyBwcmUKICAgICAgICBpZiAocmVzLl9fbGVuX18oKSAhPSA0KToKICAgICAgICAgICAgcmVzID0gWzBdICogNAogICAgICAgIHJldHVybiByZXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5jb2xsZWN0X2twaV91bml0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuY29sbGVjdF9rcGlfdW5pdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgaXRlcmF0ZV9kdW1teV9vdmVybGFwcGluZyhkZik6CiAgICB0cnk6CiAgICAgICAgaW5kZXhfc3RhcnQgPSBucC53aGVyZShbYm9vbChyZS5zZWFyY2goInN0YXRpb24iLCBpKSkgZm9yIGkgaW4gZGYuY29sdW1uc10pWzBdWzBdCiAgICAgICAgaW5kZXhfZW5kID0gbnAud2hlcmUoW2Jvb2wocmUuc2VhcmNoKCJzdGF0aW9uIiwgaSkpIGZvciBpIGluIGRmLmNvbHVtbnNdKVswXVstMV0KCiAgICAgICAgb3ZlcmxhcHBpbmdfcHJlID0gcGQuRGF0YUZyYW1lKFtkdW1teV9vdmVybGFwcGluZyhkZiwgeCwgaW5kZXhfc3RhcnQsIGluZGV4X2VuZCwgcHJlcG9zdD1UcnVlKSBmb3IgeCBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSldKQogICAgICAgIG92ZXJsYXBwaW5nX3Bvc3QgPSBwZC5EYXRhRnJhbWUoW2R1bW15X292ZXJsYXBwaW5nKGRmLCB4LCBpbmRleF9zdGFydCwgaW5kZXhfZW5kLCBwcmVwb3N0PUZhbHNlKSBmb3IgeCBpbiByYW5nZSgwLCBkZi5zaGFwZVswXSldKQogICAgICAgIG92ZXJsYXBwaW5nX3ByZS5jb2x1bW5zID0gWydwcmVfJyArIHggZm9yIHggaW4gb3ZlcmxhcHBpbmdfcHJlLmNvbHVtbnNdCiAgICAgICAgb3ZlcmxhcHBpbmdfcG9zdC5jb2x1bW5zID0gWydwb3N0XycgKyB4IGZvciB4IGluIG92ZXJsYXBwaW5nX3Bvc3QuY29sdW1uc10KCiAgICAgICAgZGYgPSBwZC5jb25jYXQoW2RmLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSksIG92ZXJsYXBwaW5nX3ByZS5yZXNldF9pbmRleChkcm9wPVRydWUpLCBvdmVybGFwcGluZ19wb3N0LnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSldLCBheGlzPTEpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkZiA9IGRmLmRyb3AoWydwb3N0X3N0YXRpb25ub25lJywgJ3ByZV9zdGF0aW9ubm9uZSddLCBheGlzPTEpICMgYWRkZWQgZHVyaW5nIGRlYnVnIHNpbmNlIHRoZXNlIGNvbHVtbnMgYXJlIGZvdW5kLiAgdGhleSBtYXkgYmUgcmVtb3ZlZCBieSBlYXJsaWVyIGNvZGUKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICByZXR1cm4gZGYKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuaXRlcmF0ZV9kdW1teV9vdmVybGFwcGluZykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLml0ZXJhdGVfZHVtbXlfb3ZlcmxhcHBpbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBkdW1teV9vdmVybGFwcGluZyhkZiwgaW5kZXgsIHN0YXJ0LCBlbmQsIHByZXBvc3Q9VHJ1ZSk6CiAgICB0cnk6CiAgICAgICAgaWYgcHJlcG9zdCBpcyBUcnVlOgogICAgICAgICAgICBzdGFydF90aW1lID0gZGYuc3RhcnRkYXRldGltZXJvdW5kZWQuaWxvY1tpbmRleF0KICAgICAgICAgICAgdGVtcCA9IGRmWyhkZi5zdGFydGRhdGV0aW1lcm91bmRlZCA+PSBzdGFydF90aW1lIC0gZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9MSkpICYgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgc3RhcnRfdGltZSldCiAgICAgICAgICAgIHJlcyA9IHRlbXAuaWxvY1s6LCBzdGFydDplbmQrMV0uYXBwbHkobnAuc3VtLCBheGlzPTApCiAgICAgICAgICAgIHJldHVybiByZXMuZmlsbG5hKDApIAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBkZi5zdGFydGRhdGV0aW1lcm91bmRlZC5pbG9jW2luZGV4XQogICAgICAgICAgICB0ZW1wID0gZGZbKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IHN0YXJ0X3RpbWUpICYgKGRmLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgc3RhcnRfdGltZSArIGRhdGV0aW1lLnRpbWVkZWx0YShtaW51dGVzPTEpKV0KICAgICAgICAgICAgcmVzID0gdGVtcC5pbG9jWzosIHN0YXJ0OmVuZCsxXS5hcHBseShucC5zdW0sIGF4aXM9MCkgLSBkZi5pbG9jW2luZGV4LCBzdGFydDplbmQrMV0KICAgICAgICAgICAgcmV0dXJuIHJlcy5maWxsbmEoMCkgCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZHVtbXlfb3ZlcmxhcHBpbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5kdW1teV9vdmVybGFwcGluZykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGV2YWxfZXJyb3IocHJlZGljdGlvbnMsIGFjdHVhbHMsIG1ldHJpYz0nbWFwZScpOgogICAgdHJ5OgogICAgICAgIGlmIChtZXRyaWMgPT0gJ21hcGUnKToKICAgICAgICAgICAgcmVzdWx0ID0gbnAubWVhbihhYnMoKHByZWRpY3Rpb25zLmxvY1thY3R1YWxzICE9IDBdIC0gYWN0dWFscy5sb2NbYWN0dWFscyAhPSAwXSkgLyBhY3R1YWxzLmxvY1thY3R1YWxzICE9IDBdKSkKICAgICAgICBlbGlmIChtZXRyaWMgPT0gJ3Jtc2UnKToKICAgICAgICAgICAgcmVzdWx0ID0gbnAuc3FydChucC5tZWFuKChwcmVkaWN0aW9ucyAtIGFjdHVhbHMpICoqIDIpKQogICAgICAgIHJldHVybiByZXN1bHQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5ldmFsX2Vycm9yKSBFUlJPUjoge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMuZXZhbF9lcnJvcikgRVJST1I6IHtlfSIpCgoKCmRlZiBwcm9jZXNzX3Nwb3RfZm9ybWF0KHNwb3QpOgogICAgdHJ5OgogICAgICAgIHNwb3RbJ2luZGV4J10gPSByYW5nZShzcG90LnNoYXBlWzBdKQogICAgICAgIHNwb3QgPSBzcG90W3Nwb3RbJ3N0YXRpb24nXSAhPSAnbm9uZSddCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZV9oZWxwZXJzLnByb2Nlc3Nfc3BvdF9mb3JtYXQpIFNwb3QgTW9kaWZpZWQiKQogICAgICAgIHJldHVybiBzcG90CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMucHJvY2Vzc19zcG90X2Zvcm1hdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLnByb2Nlc3Nfc3BvdF9mb3JtYXQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBtZXJnZV9zcG90X2RhdGEoeGJnTGlmdF9saXN0LCBzcG90LCB3aXRoX2ltcHJlc3Npb24pOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmVfaGVscGVycy5tZXJnZV9zcG90X2RhdGEpIFhHQkxpZnQgTW9kaWZpZWQiKQogICAgICAgIGlmIHdpdGhfaW1wcmVzc2lvbjoKICAgICAgICAgICAgeGJnTGlmdF9saXN0ID0gW2kuZHJvcChbJ3N0YXRpb24nLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnaXNjaV8yMCcsICdidXlfY29kZXMnXSwgYXhpcz0xKS5tZXJnZSgKICAgICAgICAgICAgICAgIHNwb3RbWydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdsZW5ndGgnLCAnc3RhdGlvbicsICdpbmRleF9pZCcsICdwcm9kdWN0X25hbWUnLCAncHJvZ3JhbScsICdpc2NpXzIwJywgJ2J1eV9jb2RlcyddXSwKICAgICAgICAgICAgICAgIGhvdz0nbGVmdCcsCiAgICAgICAgICAgICAgICBsZWZ0X29uPVsnZGF0ZScsICdpbmRleF9pZCddLAogICAgICAgICAgICAgICAgcmlnaHRfb249WydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdpbmRleF9pZCddKSBmb3IgaSBpbiB4YmdMaWZ0X2xpc3RdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgeGJnTGlmdF9saXN0ID0gW2kuZHJvcChbJ3N0YXRpb24nLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnaXNjaV8yMCcsICdidXlfY29kZXMnXSwgYXhpcz0xKS5tZXJnZSgKICAgICAgICAgICAgICAgIHNwb3RbWydzdGFydGRhdGV0aW1lcm91bmRlZCcsICdsZW5ndGgnLCAnc3RhdGlvbicsICdkYXlwYXJ0JywgJ2ltcHJlc3Npb25zJywgJ2luZGV4X2lkJywgJ3Byb2R1Y3RfbmFtZScsICdwcm9ncmFtJywKICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCcsICdidXlfY29kZXMnXV0sCiAgICAgICAgICAgICAgICBob3c9J2xlZnQnLAogICAgICAgICAgICAgICAgbGVmdF9vbj1bJ2RhdGUnLCAnaW5kZXhfaWQnXSwKICAgICAgICAgICAgICAgIHJpZ2h0X29uPVsnc3RhcnRkYXRldGltZXJvdW5kZWQnLCAnaW5kZXhfaWQnXSkgZm9yIGkgaW4geGJnTGlmdF9saXN0XQogICAgICAgIHhiZ0xpZnRfbGlzdCA9IFtpLmRyb3AoJ2luZGV4X2lkJywgYXhpcz0xKSBmb3IgaSBpbiB4YmdMaWZ0X2xpc3RdCiAgICAgICAgcmV0dXJuICh4YmdMaWZ0X2xpc3QpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdF9kYXRhKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdF9kYXRhKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBpbnNlcnRfd2luZG93c3RhdHNfY29sdW1ucyhsaXN0X2RmLCBhZGRfaW5mbyk6CiAgICB0cnk6CiAgICAgICAgZGVmIGNvbXB1dGVfbGlmdCh4LCBhZGRfaW5mbyk6CiAgICAgICAgICAgIHhbJ3BfdmFsdWUnXSA9IGFkZF9pbmZvWydwX3ZhbHVlJ10KICAgICAgICAgICAgeFsncG9zaXRpdmVfbGlmdCddID0gYWRkX2luZm9bJ2xpZnRfdHlwZSddCiAgICAgICAgICAgIGNvbHVtbk9yZGVyID0gWydkYXRlJywgJ3N0YXRpb24nLCAnaXNjaV8yMCcsICdsaWZ0JywgJ25ldF9yYXRlJywgJ2ltcHJlc3Npb25zJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJywgJ3ByZWRpY3Rpb24nLCAncHJlX2twaScsICdkYXlwYXJ0JywgJ2xlbmd0aCcsICdwX3ZhbHVlJywgJ3Bvc2l0aXZlX2xpZnQnLAogICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknLCAncHJvZHVjdF9uYW1lJywgJ3Byb2dyYW0nLCAnYnV5X2NvZGVzJ10KICAgICAgICAgICAgcmV0dXJuIHhbY29sdW1uT3JkZXJdCiAgICAgICAgbGlzdF9kZiA9IFtjb21wdXRlX2xpZnQoeCwgYWRkX2luZm8pIGZvciB4IGluIGxpc3RfZGZdCiAgICAgICAgcmV0dXJuIGxpc3RfZGYKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGlwZWxpbmVfaGVscGVycy5pbnNlcnRfd2luZG93c3RhdHNfY29sdW1ucykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwaXBlbGluZV9oZWxwZXJzLmluc2VydF93aW5kb3dzdGF0c19jb2x1bW5zKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBmb3JtYXRfc3BvdChsaXN0X2RmLCBydW5fZGF0ZXRpbWUsIGNsaWVudF9uYW1lLCBrcGlfaW5kZXgsIGtwaV9kZXNjcmlwdGlvbiwgbWFya2V0LCBpdGVyYXRpb24pOgogICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZV9oZWxwZXJzLmZvcm1hdFNwb3QpIFVwZGF0aW5nIFNwb3QgRmlsZXMnKQoKICAgIGRlZiB1cGRhdGVTcG90KHgsIGl0ZXJhdGlvbik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB4ID0geC5hc3NpZ24ocnVuX2RhdGV0aW1lPXJ1bl9kYXRldGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uPWl0ZXJhdGlvbisxLAogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfbmFtZT1jbGllbnRfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAga3BpX2luZGV4PWtwaV9pbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgaXNjaV8yMD1bcmUuc3ViKCJpc2NpXzIwIiwgIiIsIGkpIGZvciBpIGluIHguaXNjaV8yMF0sCiAgICAgICAgICAgICAgICAgICAgICAgIHBfdmFsdWU9W3JvdW5kKHAsIDQpIGZvciBwIGluIHgucF92YWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9kZXNjcmlwdGlvbj1rcGlfZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtldD1tYXJrZXQpCiAgICAgICAgICAgIHggPSB4Lmlsb2NbOiwgc29ydGVkKFt4LmNvbHVtbnMuZ2V0X2xvYyhjKSBmb3IgYyBpbiBsaXN0KHNldCh4LmNvbHVtbnMpIC0gc2V0KFsncHJvZ3JhbScsICdidXlfY29kZXMnXSkpXSkgKyBbeC5jb2x1bW5zLmdldF9sb2MoJ3Byb2dyYW0nKV0gKyBbeC5jb2x1bW5zLmdldF9sb2MoJ2J1eV9jb2RlcycpXV0KICAgICAgICAgICAgcmV0dXJuIHguZmlsbG5hKCIiKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMudXBkYXRlU3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBpcGVsaW5lX2hlbHBlcnMudXBkYXRlU3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICB0cnk6CiAgICAgICAgdXBkYXRlX2RmID0gW3VwZGF0ZVNwb3QobGlzdF9kZltpXSwgaSkgZm9yIGkgaW4gcmFuZ2UoaXRlcmF0aW9uKV0KICAgICAgICByZXR1cm4gdXBkYXRlX2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBpcGVsaW5lX2hlbHBlcnMuZm9ybWF0X3Nwb3QpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGlwZWxpbmVfaGVscGVycy5mb3JtYXRfc3BvdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgCiAgICAgICAgCmRlZiB0aW1lc190b19leGNsdWRlKGRmKToKICAgIHRpbWVzX3RvX2V4Y2x1ZGVfbGlzdCA9IFtdCiAgICBzdGFydF90aW1lX2xpc3QgPSBbXQogICAgCiAgICBmb3Igc3RhcnRfdGltZSBpbiBsaXN0KGRmWydzdGFydGRhdGV0aW1lcm91bmRlZCddKToKICAgICAgICB0aW1lc190b19leGNsdWRlX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUpCiAgICAgICAgdGltZXNfdG9fZXhjbHVkZV9saXN0LmFwcGVuZChzdGFydF90aW1lICsgdGltZWRlbHRhKG1pbnV0ZXMgPSAxKSkgICAgICAgICAgICAgICAKICAgICAgICB0aW1lc190b19leGNsdWRlX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUgKyB0aW1lZGVsdGEobWludXRlcyA9IDIpKQogICAgICAgIAogICAgICAgIHN0YXJ0X3RpbWVfbGlzdC5hcHBlbmQoc3RhcnRfdGltZSkKICAgICAgICBzdGFydF90aW1lX2xpc3QuYXBwZW5kKHN0YXJ0X3RpbWUpCiAgICAgICAgc3RhcnRfdGltZV9saXN0LmFwcGVuZChzdGFydF90aW1lKQogICAgICAgIAogICAgc3BvdHNfZGYgPSBwZC5EYXRhRnJhbWUoIHRpbWVzX3RvX2V4Y2x1ZGVfbGlzdCAsIGNvbHVtbnMgPSBbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgc3BvdHNfZGZbJ3N0YXJ0X3RpbWUnXSA9IHN0YXJ0X3RpbWVfbGlzdAogICAgc3BvdHNfZGZbJ3dfc3BvdCddID0gMQogICAgc3BvdHNfZGZbJ3RpbWVfdG9fZXhjbHVkZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdHNfZGZbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgc3BvdHNfZGZbJ3N0YXJ0X3RpbWUnXSA9IHBkLnRvX2RhdGV0aW1lKHNwb3RzX2RmWydzdGFydF90aW1lJ10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICByZXR1cm4gc3BvdHNfZGYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKZGVmIHRoaXJ0eV9taW5fdG9fcmVtb3ZlKGRmKToKICAgIHRoaXJ0eV9taW5fcmVtb3ZlcyA9IHBkLkRhdGFGcmFtZShkZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMzBUJyxrZXk9J3RpbWVfdG9fZXhjbHVkZScpKVsnd19zcG90J10uc3VtKCkpCiAgICB0aGlydHlfbWluX3JlbW92ZXNbJzMwX21pbl9idWNrZXQnXSA9IHBkLnRvX2RhdGV0aW1lKHRoaXJ0eV9taW5fcmVtb3Zlcy5pbmRleCkKICAgIHRoaXJ0eV9taW5fcmVtb3Zlcy5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICB0aGlydHlfbWluX3JlbW92ZXMgPSB0aGlydHlfbWluX3JlbW92ZXNbdGhpcnR5X21pbl9yZW1vdmVzWyd3X3Nwb3QnXT4wXQogICAgdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QgPSB0aGlydHlfbWluX3JlbW92ZXNbJzMwX21pbl9idWNrZXQnXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgCiAgICByZXR1cm4gdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QKCg==\\\\\\\",\\\\\\\"5341241\\\\\\\":\\\\\\\"UzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRSA9IE5vbmUKUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UgPSBOb25lClMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTyA9IE5vbmUKClNFQ1JFVF9OQU1FID0gTm9uZQpSRUdJT05fTkFNRSA9IE5vbmUKQVdTX0FDQ0VTU19LRVlfSUQgPSBOb25lCkFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IE5vbmUKUzMgPSBOb25lCkFUSEVOQV9DTElFTlQgPSBOb25lCkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gTm9uZQpSRURTSElGVF9DT05OID0gTm9uZQpRVUVSWV9CVUNLRVQgPSBOb25lCkFUSEVOQV9EQVRBQkFTRSA9IE5vbmUKClNQT1REQVRBX1NPVVJDRSA9ICdtZWRpYV9vY2Vhbl9kYXRhJw==\\\\\\\",\\\\\\\"4849686\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IGRhdGV0aW1lCmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgcmUKaW1wb3J0IHBlcmZvcm1hbmNlCmZyb20gc3lzIGltcG9ydCBleGNfaW5mbwppbXBvcnQgb3MKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBjb25maWcKaW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIGlvIGltcG9ydCBCeXRlc0lPCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQoKIyBTM19UQVJHRVRfQlVDS0VUX1BFUkZPUk1BTkNFX0RFViA9ICd0bi1kYXRhbGFrZS1hdHRyaWJ1dGlvbi10dm8nCiMgUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRSA9ICd0bi1kYXRhbGFrZS1hdHRyaWJ1dGlvbicKIyBTM19UQVJHRVRfQlVDS0VUX09QVElNSVpBVElPTl9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwojIFMzX1RBUkdFVF9CVUNLRVRfT1BUSU1JWkFUSU9OID0gJ3RuLWRhdGFsYWtlLWF0dHJpYnV0aW9uJwojIFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFID0gInR2by9wZXJmb3JtYW5jZSIKIyBTM19UQVJHRVRfUEFUSF9PUFRJTUlaQVRJT04gPSAidHZvL29wdGltaXphdGlvbiIKCiMgUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRV9MRUdBQ1kgPSAndG4tZGF0YWxha2UnCiMgUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZID0gJ3RuLXNwb3RhLXJlY29tbWVuZGF0aW9uJwojIFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX0xFR0FDWSA9ICJleHRlcm5hbC9zcG90YXR0cmlidXRpb25yZXN1bHRzX2Nzdi9icmV4aXQvYWdncmVnYXRlIgojIFMzX1RBUkdFVF9QQVRIX09QVElNSVpBVElPTl9MRUdBQ1kgPSAiYnJleGl0L29wdGltaXphdGlvbiIKCiMgZGVmIHVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKGlucHV0X2ZpbGVuYW1lLCBjbGllbnRfbmFtZSwga3BpX2luZGV4LCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgYnJhbmNoKToKIyAgICAgdHJ5OgojICAgICAgICAgaWYgYnJhbmNoLmxvd2VyKCkgPT0gImRldiI6CiMgICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IFMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0VfREVWCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQojICAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKIyAgICAgICAgICAgICAjIExFR0FDWS9HTElUQ0g6IHMzX3VwbG9hZF9wYXRoID0gUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0VfTEVHQUNZCiMgICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFCiMgICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IFMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0VfTEVHQUNZCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRV9MRUdBQ1kKIyAgICAgICAgIGVsc2U6CiMgICAgICAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IEludmFsaWQgQnJhbmNoIHByb3ZpZGVkIGZvciBTMyBVcGxvYWQgUGF0aCcpCiMgICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiMgICAgICAgICBzM19yZXNvdXJjZSA9IGJvdG8zLnJlc291cmNlKCdzMycpCgojICAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0ve2NsaWVudF9uYW1lfS97a3BpX2luZGV4fS97c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS55ZWFyKX0ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykubW9udGgpfSIKIyAgICAgICAgIGZpbGVuYW1lX2luX3MzID0gZiJ7ZmlsZXBhdGh9L3R2X3BlcmZvcm1hbmNlX3tjbGllbnRfbmFtZX1fa3Bpe2twaV9pbmRleH1fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKIyAgICAgICAgIHMzX2ZpbGVuYW1lID0gc3RyKGZpbGVuYW1lX2luX3MzKQojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBQYXRoOiB7czNfZmlsZW5hbWV9JykKIyAgICAgICAgIHMzX3Jlc291cmNlLm1ldGEuY2xpZW50LnVwbG9hZF9maWxlKGlucHV0X2ZpbGVuYW1lLCBvdXRwdXRfczNfYnVja2V0LCBzM19maWxlbmFtZSkKCiMgICAgICAgICBsb2dnZXIuaW5mbygnKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBVcGxvYWQgb2YgUGVyZm9ybWFuY2UgUmVzdWx0cyBDb21wbGV0ZScpCiMgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoc3lzLmV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQojICAgICAgICAgc3lzLmV4aXQoMSkKCgpkZWYgdXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2VfdHZvMl9mb3JtYXQoaW5wdXRfZmlsZSwgY2xpZW50X25hbWUsIGtwaV9pbmRleCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGJyYW5jaCk6CiAgICB0cnk6CiAgICAgICAgaWYgYnJhbmNoLmxvd2VyKCkgPT0gImRldiI6CiAgICAgICAgICAgIG91dHB1dF9zM19idWNrZXQgPSBjb25maWcuUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRQogICAgICAgICAgICBzM191cGxvYWRfcGF0aCA9IGNvbmZpZy5TM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQogICAgICAgIGVsaWYgYnJhbmNoLmxvd2VyKCkgPT0gIm1hc3RlciI6CiAgICAgICAgICAgICMgTEVHQUNZL0dMSVRDSDogczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRV9MRUdBQ1kKICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFCiAgICAgICAgICAgIG91dHB1dF9zM19idWNrZXQgPSBjb25maWcuUzNfVEFSR0VUX0JVQ0tFVF9QRVJGT1JNQU5DRQogICAgICAgICAgICBzM191cGxvYWRfcGF0aCA9IGNvbmZpZy5TM19UQVJHRVRfUEFUSF9QRVJGT1JNQU5DRQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBJbnZhbGlkIEJyYW5jaCBwcm92aWRlZCBmb3IgUzMgVXBsb2FkIFBhdGgnKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKCiAgICAgICAgCiAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0vYWR2ZXJ0aXNlcl9uYW1lPXtjbGllbnRfbmFtZX0va3BpX2luZGV4PXtrcGlfaW5kZXh9L3lyPXtzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLnllYXIpfS9tbz17c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS5tb250aCl9L2RkPXtzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLmRheSl9IgogICAgICAgIGZpbGVuYW1lX2luX3MzID0gZiJ7ZmlsZXBhdGh9L3R2X3BlcmZvcm1hbmNlX3tjbGllbnRfbmFtZX1fa3Bpe2twaV9pbmRleH1fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKICAgICAgICBzM19maWxlbmFtZSA9IHN0cihmaWxlbmFtZV9pbl9zMykKCiAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBQYXRoOiB7czNfZmlsZW5hbWV9JykKICAgICAgICBvdXRwdXQgPSBCeXRlc0lPKCkKICAgICAgICBwZC5EYXRhRnJhbWUoaW5wdXRfZmlsZSkudG9fY3N2KG91dHB1dCwgbW9kZT0nd2InLCBlbmNvZGluZz0nVVRGLTgnLCBpbmRleD1GYWxzZSkKICAgICAgICBvdXRwdXQuc2VlaygwKQogICAgICAgIGNvbmZpZy5TMy51cGxvYWRfZmlsZW9iaihvdXRwdXQsIG91dHB1dF9zM19idWNrZXQsIHMzX2ZpbGVuYW1lKQoKCiAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgVXBsb2FkIG9mIFBlcmZvcm1hbmNlIFJlc3VsdHMgQ29tcGxldGUnKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIih1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAKCmRlZiB1cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZV90dm9fZm9ybWF0KGlucHV0X2ZpbGUsIGNsaWVudF9uYW1lLCBrcGlfaW5kZXgsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBicmFuY2gpOgogICAgdHJ5OgogICAgICAgIGlmIGJyYW5jaC5sb3dlcigpID09ICJkZXYiOgogICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gY29uZmlnLlMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0UKICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBjb25maWcuUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0VfVFZPCiAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKICAgICAgICAgICAgIyBMRUdBQ1kvR0xJVENIOiBzM191cGxvYWRfcGF0aCA9IFMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX0xFR0FDWQogICAgICAgICAgICAjIEFGVEVSIEdMSVRDSDogIHMzX3VwbG9hZF9wYXRoID0gUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UKICAgICAgICAgICAgb3V0cHV0X3MzX2J1Y2tldCA9IGNvbmZpZy5TM19UQVJHRVRfQlVDS0VUX1BFUkZPUk1BTkNFCiAgICAgICAgICAgIHMzX3VwbG9hZF9wYXRoID0gY29uZmlnLlMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBJbnZhbGlkIEJyYW5jaCBwcm92aWRlZCBmb3IgUzMgVXBsb2FkIFBhdGgnKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKCiAgICAgICAgCiAgICAgICAgZmlsZXBhdGggPSBmIntzM191cGxvYWRfcGF0aH0ve2NsaWVudF9uYW1lfS97c3RyKGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlLCAnJVktJW0tJWQgJUg6JU06JVMnKS55ZWFyKX0ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykubW9udGgpfSIKICAgICAgICBmaWxlbmFtZV9pbl9zMyA9IGYie2ZpbGVwYXRofS90dl9wZXJmb3JtYW5jZV97Y2xpZW50X25hbWV9X2twaXtrcGlfaW5kZXh9X3tzdGFydF9kYXRlLnNwbGl0KCcgJylbMF19X3tlbmRfZGF0ZS5zcGxpdCgnICcpWzBdfS5jc3YiCiAgICAgICAgczNfZmlsZW5hbWUgPSBzdHIoZmlsZW5hbWVfaW5fczMpCgogICAgICAgIGxvZ2dlci5pbmZvKGYnKHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlKSBVcGxvYWQgUGF0aDoge3MzX2ZpbGVuYW1lfScpCiAgICAgICAgb3V0cHV0ID0gQnl0ZXNJTygpCiAgICAgICAgcGQuRGF0YUZyYW1lKGlucHV0X2ZpbGUpLnRvX2NzdihvdXRwdXQsIG1vZGU9J3diJywgZW5jb2Rpbmc9J1VURi04JywgaW5kZXg9RmFsc2UpCiAgICAgICAgb3V0cHV0LnNlZWsoMCkKICAgICAgICBjb25maWcuUzMudXBsb2FkX2ZpbGVvYmoob3V0cHV0LCBvdXRwdXRfczNfYnVja2V0LCBzM19maWxlbmFtZSkKCgogICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIFVwbG9hZCBvZiBQZXJmb3JtYW5jZSBSZXN1bHRzIENvbXBsZXRlJykKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfcGVyZm9ybWFuY2UpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCiMgZGVmIHVwbG9hZF9maWxlX3MzX29wdGltaXphdGlvbihpbnB1dF9maWxlbmFtZSwgY2xpZW50X25hbWUsIGtwaV9pbmRleCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHNjZW5hcmlvLCBicmFuY2gpOgojICAgICB0cnk6CiMgICAgICAgICBpZiBicmFuY2gubG93ZXIoKSA9PSAiZGV2IjoKIyAgICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fREVWCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSAgIFMzX1RBUkdFVF9QQVRIX09QVElNSVpBVElPTgojICAgICAgICAgZWxpZiBicmFuY2gubG93ZXIoKSA9PSAibWFzdGVyIjoKIyAgICAgICAgICAgICAjIExFR0FDWS9HTElUQ0g6IHMzX3VwbG9hZF9wYXRoID0gZiJ7UzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZfS97UzNfVEFSR0VUX1BBVEhfT1BUSU1JWkFUSU9OX0xFR0FDWX0iCiMgICAgICAgICAgICAgIyBBRlRFUiBHTElUQ0g6ICBzM191cGxvYWRfcGF0aCA9IGYie1MzX1RBUkdFVF9CVUNLRVRfT1BUSU1JWkFUSU9OfS97UzNfVEFSR0VUX1BBVEhfT1BUSU1JWkFUSU9OfSIKIyAgICAgICAgICAgICBvdXRwdXRfczNfYnVja2V0ID0gUzNfVEFSR0VUX0JVQ0tFVF9PUFRJTUlaQVRJT05fTEVHQUNZCiMgICAgICAgICAgICAgczNfdXBsb2FkX3BhdGggPSBTM19UQVJHRVRfUEFUSF9PUFRJTUlaQVRJT05fTEVHQUNZCiMgICAgICAgICBlbHNlOgojICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBFUlJPUjogSW52YWxpZCBCcmFuY2ggcHJvdmlkZWQgZm9yIFMzIFVwbG9hZCBQYXRoJykKIyAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgIHMzX3Jlc291cmNlID0gYm90bzMucmVzb3VyY2UoJ3MzJykKCiMgICAgICAgICBmaWxlcGF0aCA9IGYie3MzX3VwbG9hZF9wYXRofS97Y2xpZW50X25hbWV9L3trcGlfaW5kZXh9L3tzY2VuYXJpb30ve3N0cihkYXRldGltZS5kYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZSwgJyVZLSVtLSVkICVIOiVNOiVTJykueWVhcil9L3tzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGUsICclWS0lbS0lZCAlSDolTTolUycpLm1vbnRoKX0iCiMgICAgICAgICBmaWxlbmFtZV9pbl9zMyA9IGYie2ZpbGVwYXRofS90dl9vcHRpbWl6YXRpb25fe2NsaWVudF9uYW1lfV9rcGl7a3BpX2luZGV4fV9zY2VuYXJpb3tzY2VuYXJpb31fe3N0YXJ0X2RhdGUuc3BsaXQoJyAnKVswXX1fe2VuZF9kYXRlLnNwbGl0KCcgJylbMF19LmNzdiIKIyAgICAgICAgIHMzX2ZpbGVuYW1lID0gc3RyKGZpbGVuYW1lX2luX3MzKQojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBVcGxvYWQgUGF0aDoge3MzX2ZpbGVuYW1lfScpCiMgICAgICAgICBzM19yZXNvdXJjZS5tZXRhLmNsaWVudC51cGxvYWRfZmlsZShpbnB1dF9maWxlbmFtZSwgb3V0cHV0X3MzX2J1Y2tldCwgczNfZmlsZW5hbWUpCgojICAgICAgICAgbG9nZ2VyLmluZm8oZicodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBVcGxvYWQgb2YgT3B0aW1pemF0aW9uIFJlc3VsdHMgZm9yIFNjZW5hcmlvIHtzY2VuYXJpb30gQ29tcGxldGUnKQojICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiMgICAgICAgICBsb2dnZXIuZXJyb3IoZiIodXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uKSBFUlJPUjogTGluZToge2Zvcm1hdChzeXMuZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiMgICAgICAgICBzeXMuZXhpdCgxKQoKCiMgZGVmIHJlbW92ZV9vbGRfZmlsZXMoKToKIyAgICAgdHJ5OgojICAgICAgICAgbG9nZ2VyLmluZm8oJyh1dGlscy5yZW1vdmVfb2xkX2ZpbGVzKSBSZW1vdmluZyBvbGQgZmlsZXMnKQojICAgICAgICAgIyBkZWxldGUgZXhpc3RpbmcgZ3ogZmlsZXMKIyAgICAgICAgIGRpcmVjdG9yeSA9ICIuIgojICAgICAgICAgZmlsZXNfaW5fZGlyZWN0b3J5ID0gb3MubGlzdGRpcihkaXJlY3RvcnkpCiMgICAgICAgICBmaWx0ZXJlZF9maWxlcyA9IFtmaWxlIGZvciBmaWxlIGluIGZpbGVzX2luX2RpcmVjdG9yeSBpZiBmaWxlLmVuZHN3aXRoKCIuZ3oiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIGNzdiBmaWxlcwojICAgICAgICAgZGlyZWN0b3J5ID0gIi4iCiMgICAgICAgICBmaWxlc19pbl9kaXJlY3RvcnkgPSBvcy5saXN0ZGlyKGRpcmVjdG9yeSkKIyAgICAgICAgIGZpbHRlcmVkX2ZpbGVzID0gW2ZpbGUgZm9yIGZpbGUgaW4gZmlsZXNfaW5fZGlyZWN0b3J5IGlmIGZpbGUuZW5kc3dpdGgoIi5jc3YiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIG91dHB1dF9hZ2dyZWdhdGVkX2xpZnRfZGF0YSBmaWxlCiMgICAgICAgICBkaXJlY3RvcnkgPSAiLiIKIyAgICAgICAgIGZpbGVzX2luX2RpcmVjdG9yeSA9IG9zLmxpc3RkaXIoZGlyZWN0b3J5KQojICAgICAgICAgZmlsdGVyZWRfZmlsZXMgPSBbZmlsZSBmb3IgZmlsZSBpbiBmaWxlc19pbl9kaXJlY3RvcnkgaWYgZmlsZS5zdGFydHN3aXRoKCJvdXRwdXRfYWdncmVnYXRlZF9saWZ0X2RhdGEiKV0KIyAgICAgICAgIGZvciBmaWxlIGluIGZpbHRlcmVkX2ZpbGVzOgojICAgICAgICAgICAgIHBhdGhfdG9fZmlsZSA9IG9zLnBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpCiMgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICBvcy5yZW1vdmUocGF0aF90b19maWxlKQojICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKIyAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgICAgICAgICAgaWYgImJlaW5nIHVzZWQgYnkgYW5vdGhlciBwcm9jZXNzIiBpbiBzdHIoZSk6CiMgICAgICAgICAgICAgICAgICAgICBzeXMuZXhpdCgxKQoKIyAgICAgICAgICMgZGVsZXRlIGV4aXN0aW5nIGFnZ3JlZ2F0ZWRfbGlmdF9kYXRhIGZpbGUKIyAgICAgICAgIGRpcmVjdG9yeSA9ICIuIgojICAgICAgICAgZmlsZXNfaW5fZGlyZWN0b3J5ID0gb3MubGlzdGRpcihkaXJlY3RvcnkpCiMgICAgICAgICBmaWx0ZXJlZF9maWxlcyA9IFtmaWxlIGZvciBmaWxlIGluIGZpbGVzX2luX2RpcmVjdG9yeSBpZiBmaWxlLnN0YXJ0c3dpdGgoImFnZ3JlZ2F0ZWRfbGlmdF9kYXRhIildCiMgICAgICAgICBmb3IgZmlsZSBpbiBmaWx0ZXJlZF9maWxlczoKIyAgICAgICAgICAgICBwYXRoX3RvX2ZpbGUgPSBvcy5wYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKQojICAgICAgICAgICAgIHRyeToKIyAgICAgICAgICAgICAgICAgb3MucmVtb3ZlKHBhdGhfdG9fZmlsZSkKIyAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiMgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIih1dGlscy5yZW1vdmVfb2xkX2ZpbGVzKSBFUlJPUjogTGluZToge2Zvcm1hdChzeXMuZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiMgICAgICAgICAgICAgICAgIGlmICJiZWluZyB1c2VkIGJ5IGFub3RoZXIgcHJvY2VzcyIgaW4gc3RyKGUpOgojICAgICAgICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkKIyAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgojICAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKIyAgICAgICAgIGlmICJiZWluZyB1c2VkIGJ5IGFub3RoZXIgcHJvY2VzcyIgaW4gc3RyKGUpOgojICAgICAgICAgICAgIHN5cy5leGl0KDEpCgoK\\\\\\\",\\\\\\\"4849683\\\\\\\":\\\\\\\"aW1wb3J0IGxvZ2dpbmcKaW1wb3J0IHBzeWNvcGcyCgptZXNfZm9ybWF0ID0gJyUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgJShuYW1lKXM6ICUobWVzc2FnZSlzJwpkYXRfZm9ybWF0ID0gJyVZLSVtLSVkICVIOiVNOiVTJwpsb2dnaW5nLmJhc2ljQ29uZmlnKGZvcm1hdD1tZXNfZm9ybWF0LCBkYXRlZm10PWRhdF9mb3JtYXQpCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCdUVk8gMi4wJykKbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTykK\\\\\\\",\\\\\\\"4849684\\\\\\\":\\\\\\\"aW1wb3J0IGpzb24KaW1wb3J0IGJvdG8zCmltcG9ydCBiYXNlNjQKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCBwc3ljb3BnMgpmcm9tIGJhc2VfbG9nZ2VyIGltcG9ydCBsb2dnZXIKaW1wb3J0IGNvbmZpZwpmcm9tIGlvIGltcG9ydCBCeXRlc0lPCmltcG9ydCBwYW5kYXMgYXMgcGQKCiMjIyMjIyMjIyMjIyBSRVFVSVJFTUVOVFMgIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBzdWRvIGFwdC1nZXQgaW5zdGFsbCBsaWJwcS1kZXYKIyBzdWRvIHBpcCBpbnN0YWxsIHBzeWNvcGcyCiMgc3VkbyBwaXAgaW5zdGFsbCBzcWxhbGNoZW15CiMgc3VkbyBwaXAgaW5zdGFsbCBzcWxhbGNoZW15LXJlZHNoaWZ0CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpkZWYgZ2V0X3JlZHNoaWZ0X3NlY3JldCgpOgogICAgIyBzZWNyZXRfbmFtZSA9ICJjb25uZWN0aW9uLXRuLXJlZHNoaWZ0LXR2by9tdGEiCiAgICAjIHJlZ2lvbl9uYW1lID0gInVzLXdlc3QtMiIKCiAgICAjIGNvbm5lY3RzIHRvIEFXUyBzZWNyZXRzIG1hbmFnZXIgdG8gZ2V0IGNyZWRlbnRpYWxzCiAgICBzZXNzaW9uID0gYm90bzMuc2Vzc2lvbi5TZXNzaW9uKCkKICAgIGNsaWVudCA9IHNlc3Npb24uY2xpZW50KAogICAgICAgIHNlcnZpY2VfbmFtZT0nc2VjcmV0c21hbmFnZXInLCByZWdpb25fbmFtZT1jb25maWcuUkVHSU9OX05BTUUsCiAgICAgICAgICAgIGF3c19hY2Nlc3Nfa2V5X2lkPWNvbmZpZy5BV1NfQUNDRVNTX0tFWV9JRCwKICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkpCgogICAgdHJ5OgogICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2UgPSBjbGllbnQuZ2V0X3NlY3JldF92YWx1ZSgKICAgICAgICAgICAgU2VjcmV0SWQ9Y29uZmlnLlNFQ1JFVF9OQU1FKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJhaXNlIGUKICAgIGVsc2U6CiAgICAgICAgaWYgJ1NlY3JldFN0cmluZycgaW4gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZToKICAgICAgICAgICAgc2VjcmV0ID0gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0U3RyaW5nJ10KICAgICAgICBlbHNlOgogICAgICAgICAgICBkZWNvZGVkX2JpbmFyeV9zZWNyZXQgPSBiYXNlNjQuYjY0ZGVjb2RlKAogICAgICAgICAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0QmluYXJ5J10pCiAgICByZXR1cm4ganNvbi5sb2FkcyhzZWNyZXQpCgoKZGVmIGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKCk6CiAgICAjIGNyZWF0ZXMgZGF0YSBiYXNlIGNvbm5lY3Rpb24gYW5kIHBhc3NlcyBpdCBiYWNrIHRvIGNhbGxlcgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKCcoY29ubmVjdGlvbnNfYXdzLmdldF9yZWRzaGlmdF9jb25uZWN0aW9uKSBHZXR0aW5nIERhdGFiYXNlIENvbm5lY3Rpb24nKQogICAgICAgIHNlY3JldHMgPSBnZXRfcmVkc2hpZnRfc2VjcmV0KCkKICAgICAgICBjb25uID0gcHN5Y29wZzIuY29ubmVjdChkYm5hbWU9c2VjcmV0c1snREFUQUJBU0UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0PXNlY3JldHNbJ0hPU1QnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0PXNlY3JldHNbJ1BPUlQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXNlY3JldHNbJ1VTRVInXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1zZWNyZXRzWydQQVNTV09SRCddKQogICAgICAgIHJldHVybiBjb25uCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIGdldHRpbmcgY29ubmVjdGlvbiBkZXRhaWxzOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZidFcnJvciBnZXR0aW5nIGNvbm5lY3Rpb24gZGV0YWlsczogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9JykKCgpkZWYgZ2V0X2F0aGVuYV9jb25uZWN0aW9uKCk6CiAgICBhdGhlbmFfY2xpZW50ID0gYm90bzMuY2xpZW50KAogICAgICAgICdhdGhlbmEnLCAKICAgICAgICByZWdpb25fbmFtZT1jb25maWcuUkVHSU9OX05BTUUsIAogICAgICAgIGF3c19hY2Nlc3Nfa2V5X2lkPWNvbmZpZy5BV1NfQUNDRVNTX0tFWV9JRCwgCiAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkKICAgICkKICAgIHJldHVybiBhdGhlbmFfY2xpZW50CgoKZGVmIHJ1bl9hdGhlbmFfcXVlcnkocXVlcnkpOgogICAgCiAgICBsb2dnZXIuaW5mbyhmJ1N0YXJ0aW5nIEF0aGVuYSBxdWVyeSBleGVjdXRpb24nKQogICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnk6XG57cXVlcnl9JykKICAgIHJlc3BvbnNlID0gY29uZmlnLkFUSEVOQV9DTElFTlQuc3RhcnRfcXVlcnlfZXhlY3V0aW9uKAogICAgICAgIFF1ZXJ5U3RyaW5nPXF1ZXJ5LAogICAgICAgIFF1ZXJ5RXhlY3V0aW9uQ29udGV4dD17J0RhdGFiYXNlJzogY29uZmlnLkFUSEVOQV9EQVRBQkFTRX0sCiAgICAgICAgUmVzdWx0Q29uZmlndXJhdGlvbj17J091dHB1dExvY2F0aW9uJzogY29uZmlnLkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OfSwKICAgICAgICBXb3JrR3JvdXA9J2p1aWNlX2RhdGEnCiAgICApCiAgICAKICAgICMgR2V0IHRoZSBxdWVyeSBleGVjdXRpb24gSUQKICAgIHF1ZXJ5X2V4ZWN1dGlvbl9pZCA9IHJlc3BvbnNlWydRdWVyeUV4ZWN1dGlvbklkJ10KCiAgICAjIFdhaXQgZm9yIHRoZSBxdWVyeSB0byBjb21wbGV0ZQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBxdWVyeV9zdGF0dXMgPSBjb25maWcuQVRIRU5BX0NMSUVOVC5nZXRfcXVlcnlfZXhlY3V0aW9uKFF1ZXJ5RXhlY3V0aW9uSWQ9cXVlcnlfZXhlY3V0aW9uX2lkKQogICAgICAgIHN0YXR1cyA9IHF1ZXJ5X3N0YXR1c1snUXVlcnlFeGVjdXRpb24nXVsnU3RhdHVzJ11bJ1N0YXRlJ10KCiAgICAgICAgaWYgc3RhdHVzIGluIFsnU1VDQ0VFREVEJywgJ0ZBSUxFRCcsICdDQU5DRUxMRUQnXToKICAgICAgICAgICAgYnJlYWsKCiAgICAjIFJldHJpZXZlIGFuZCByZXR1cm4gdGhlIHF1ZXJ5IHJlc3VsdHMgaWYgdGhlIHF1ZXJ5IHN1Y2NlZWRlZAogICAgaWYgc3RhdHVzID09ICdTVUNDRUVERUQnOgojICAgICAgICAgcmVzdWx0cyA9IEFUSEVOQV9DTElFTlQuZ2V0X3F1ZXJ5X3Jlc3VsdHMoUXVlcnlFeGVjdXRpb25JZD1xdWVyeV9leGVjdXRpb25faWQpCiMgICAgICAgICByZXN1bHRzID0gZm9ybWF0X2F0aGVuYV9yZXN1bHRzKHJlc3VsdHMpCiAgICAgICAgczNfcmVzcG9uc2Vfb2JqZWN0ID0gY29uZmlnLlMzLmdldF9vYmplY3QoQnVja2V0PWNvbmZpZy5RVUVSWV9CVUNLRVQsIEtleT1mIntjb25maWcuQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04uc3BsaXQoJy8nKVstMl19L3txdWVyeV9leGVjdXRpb25faWR9LmNzdiIpCiAgICAgICAgb2JqZWN0X2NvbnRlbnQgPSBzM19yZXNwb25zZV9vYmplY3RbJ0JvZHknXS5yZWFkKCkKICAgICAgICByZXN1bHRzID0gcGQucmVhZF9jc3YoQnl0ZXNJTyhvYmplY3RfY29udGVudCkpCiAgICAgICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnkgcmFuIHN1Y2Nlc3NmdWxseScpCiAgICAgICAgcmV0dXJuIHJlc3VsdHMKICAgIGVsaWYgc3RhdHVzID09ICdGQUlMRUQnOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbignUXVlcnkgZnJvbSBBdGhlbmEgZmFpbGVkJykKICAgIAoKZGVmIGNsb3NlX2Nvbm5lY3Rpb25zKCk6CgogICAgY29uZmlnLlJFRFNISUZUX0NPTk4uY2xvc2UoKQogICAgIyBjb25maWcuUzMuY2xvc2UoKQogICAgIyBjb25maWcuQVRIRU5BX0NMSUVOVC5jbG9zZSgpCiAgICBsb2dnZXIuZGVidWcoZidDbG9zZWQgYWxsIGNvbm5lY3Rpb25zJyk=\\\\\\\",\\\\\\\"4849689\\\\\\\":\\\\\\\"aW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCmltcG9ydCBkYXRldGltZQpmcm9tIHNrbGVhcm4ubW9kZWxfc2VsZWN0aW9uIGltcG9ydCBLRm9sZApmcm9tIHNrcmFuZ2VyLmVuc2VtYmxlIGltcG9ydCBSYW5nZXJGb3Jlc3RSZWdyZXNzb3IKZnJvbSBzY2lweS5zdGF0cyBpbXBvcnQgcmFua2RhdGEsIHR0ZXN0X2luZApmcm9tIHhnYm9vc3QgaW1wb3J0IFhHQlJlZ3Jlc3Nvcgpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcmVkdWNlCmZyb20gaXRlcnRvb2xzIGltcG9ydCBjb21wcmVzcwppbXBvcnQga2VuZGFsbF93IGFzIGt3CmltcG9ydCByZQpmcm9tIHN5cyBpbXBvcnQgZXhjX2luZm8KaW1wb3J0IHhnYm9vc3QgYXMgeGdiCmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBpdGVydG9vbHMgaW1wb3J0IHByb2R1Y3QKaW1wb3J0IHdhcm5pbmdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgpyYW5kb20uc2VlZCgyMCkKCnhnYm9vc3RfcGFyYW1ldGVyX2RpY3QgPSB7J29iamVjdGl2ZSc6ICdyZWc6c3F1YXJlZGVycm9yJywKICAgICAgICAnZXZhbF9tZXRyaWMnOiAncm1zZScsCiAgICAgICAgJ2Jvb3N0ZXInOiAnZ2J0cmVlJywKICAgICAgICAnZXRhJzogMC4xLAogICAgICAgICdtYXhfZGVwdGgnOiA0LAogICAgICAgICdjb2xzYW1wbGVfYnl0cmVlJzogMSwKICAgICAgICAnbnRocmVhZCc6IDR9CgpkZWYgYWdncmVnYXRlX2xpZnQobGlzdF9kZiwgY3JlYXRpdmVfZGYsIHRvbCk6CiAgICB0cnk6CiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS5hZ2dyZWdhdGVfbGlmdCkgQWdncmVnYXRpbmcgTGlmdCBEYXRhJykKCiAgICAgICAgbWFwcGluZ1RhYmxlID0gY3JlYXRpdmVfZGYKICAgICAgICBpZiBtYXBwaW5nVGFibGUuc2hhcGVbMF0gPT0gMDoKICAgICAgICAgICAgbGlzdF9kZiA9IFtkZi5hc3NpZ24odGl0bGU9ZGZbJ2lzY2lfMjAnXSwgbmFtZT1kZlsnaXNjaV8yMCddKSBmb3IgZGYgaW4gbGlzdF9kZl0KCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWFwcGluZ1RhYmxlWydsZW5ndGgnXSA9IG1hcHBpbmdUYWJsZVsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgbGlzdF9kZl90ZW1wID0gW10KICAgICAgICAgICAgZm9yIGRmIGluIGxpc3RfZGY6CiAgICAgICAgICAgICAgICBkZlsnbGVuZ3RoJ10gPSBkZlsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgICAgIGRmX3RlbXAgPSBkZi5tZXJnZShtYXBwaW5nVGFibGUsIG9uPVsnaXNjaV8yMCcsICdsZW5ndGgnXSwgaG93PSdsZWZ0JykKICAgICAgICAgICAgICAgIGlmICd0aXRsZScgbm90IGluIGRmX3RlbXA6CiAgICAgICAgICAgICAgICAgICAgZGZfdGVtcFsndGl0bGUnXSA9IG5wLm5hbgogICAgICAgICAgICAgICAgaWYgJ25hbWUnIG5vdCBpbiBkZl90ZW1wOgogICAgICAgICAgICAgICAgICAgIGRmX3RlbXBbJ25hbWUnXSA9IG5wLm5hbgogICAgICAgICAgICAgICAgZGZpID0gZGZfdGVtcC5hc3NpZ24odGl0bGU9bnAud2hlcmUoZGZfdGVtcC50aXRsZS5pc25hKCksIGRmX3RlbXAuaXNjaV8yMCwgZGZfdGVtcC50aXRsZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9bnAud2hlcmUoZGZfdGVtcC5uYW1lLmlzbmEoKSwgZGZfdGVtcC5pc2NpXzIwLCBkZl90ZW1wLm5hbWUpKSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxpc3RfZGZfdGVtcC5hcHBlbmQoZGZpKQogICAgICAgICAgICBsaXN0X2RmID0gbGlzdF9kZl90ZW1wCgogICAgICAgIGxpZnRfZGYgPSBwZC5jb25jYXQoKGRmWydsaWZ0J10gZm9yIGRmIGluIGxpc3RfZGYpLCBheGlzPTEpCiAgICAgICAgbWVhbl9kZiA9IGxpZnRfZGYubWVhbihheGlzPTEpCiAgICAgICAgc3RkX2RmID0gbGlmdF9kZi5zdGQoYXhpcz0xKQogICAgICAgIGxvd2VyID0gbWVhbl9kZi0xLjYqc3RkX2RmLXRvbAogICAgICAgIHVwcGVyID0gbWVhbl9kZisxLjYqc3RkX2RmK3RvbAoKICAgICAgICBsaWZ0ID0gbGlmdF9kZltsaWZ0X2RmLmFwcGx5KGxhbWJkYSB4OiAoeCA+PSBsb3dlcikgJiAoeCA8PSB1cHBlcikpXS5tZWFuKGF4aXM9MSkgCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgbGlmdC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE1X2xpZnQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgYmFzZWxpbmVfZGYgPSBwZC5jb25jYXQoKGRmWydiYXNlbGluZSddIGZvciBkZiBpbiBsaXN0X2RmKSwgYXhpcz0xKQogICAgICAgIG1lYW5fZGYgPSBiYXNlbGluZV9kZi5tZWFuKGF4aXM9MSkKICAgICAgICBzdGRfZGYgPSBiYXNlbGluZV9kZi5zdGQoYXhpcz0xKQogICAgICAgIGxvd2VyID0gbWVhbl9kZi0xLjYqc3RkX2RmLXRvbAogICAgICAgIHVwcGVyID0gbWVhbl9kZisxLjYqc3RkX2RmK3RvbAogICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmVfZGZbYmFzZWxpbmVfZGYuYXBwbHkobGFtYmRhIHg6ICh4ID4gbG93ZXIpICYgKHggPCB1cHBlcikpXS5tZWFuKGF4aXM9MSkKCiAgICAgICAgIyB3cml0ZSBkZWJ1ZyBmaWxlCiAgICAgICAgIyBiYXNlbGluZS50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE2X2Jhc2VsaW5lLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgogICAgICAgIHJlZiA9IGxpc3RfZGZbMF0KICAgICAgICBhZ2dyZWdhdGVkX2xpZnRfZGYgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogcmVmWydkYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpb24nOiByZWZbJ3N0YXRpb24nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCc6IHJlZlsnaXNjaV8yMCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IHJlZlsndGl0bGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IHJlZlsnbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaWZ0JzogbGlmdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFzZWxpbmUnOiBiYXNlbGluZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiByZWZbJ25ldF9yYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ltcHJlc3Npb25zJzogcmVmWydpbXByZXNzaW9ucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXlwYXJ0JzogcmVmWydkYXlwYXJ0J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlbmd0aCc6IHJlZlsnbGVuZ3RoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2dyYW0nOiByZWZbJ3Byb2dyYW0nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV5X2NvZGVzJzogcmVmWydidXlfY29kZXMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJlX2twaSc6IHJlZlsncHJlX2twaSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwb3N0X2twaSc6IHJlZlsncG9zdF9rcGknXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAna3BpX25hbWUnOiByZWZbJ2twaV9kZXNjcmlwdGlvbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJrZXRfbmFtZSc6IHJlZlsnbWFya2V0J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6IHJlZlsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWVudF9uYW1lJzogcmVmWydjbGllbnRfbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnOiByZWZbJ3Byb2R1Y3RfbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9jZXNzaW5nX3RpbWVzdGFtcCc6IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpfSkKICAgICAgICByZXR1cm4gYWdncmVnYXRlZF9saWZ0X2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLmFnZ3JlZ2F0ZV9saWZ0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmFnZ3JlZ2F0ZV9saWZ0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBjYWxjdWxhdGVfcF92YWx1ZShsaXN0X2RmLCB0aD0wLjAyNSk6CiAgICB0cnk6CiAgICAgICAgcHJlZGljdGlvbl9kZiA9IHJlZHVjZShsYW1iZGEgeCwgeTogcGQuY29uY2F0KFt4LCB5XSwgYXhpcz0xKSwgW3hbWydwcmVkaWN0aW9uJ11dIGZvciB4IGluIGxpc3RfZGZdKQogICAgICAgIGJhc2VsaW5lX2RmID0gcmVkdWNlKGxhbWJkYSB4LCB5OiBwZC5jb25jYXQoW3gsIHldLCBheGlzPTEpLCBbeFtbJ2Jhc2VsaW5lJ11dIGZvciB4IGluIGxpc3RfZGZdKQoKICAgICAgICBwX3ZhbHVlID0gW3R0ZXN0X2luZChwcmVkaWN0aW9uX2RmLmlsb2NbaSwgOl0sIGJhc2VsaW5lX2RmLmlsb2NbaSwgOl0pWzFdIGZvciBpIGluCiAgICAgICAgICAgICAgICByYW5nZShwcmVkaWN0aW9uX2RmLnNoYXBlWzBdKV0KICAgICAgICBsaWZ0X3R5cGUgPSBucC5hcnJheSgKICAgICAgICAgICAgWzEgaWYgbnAuc2lnbihucC5tZWFuKHByZWRpY3Rpb25fZGYsIGF4aXM9MSkgLSBucC5tZWFuKGJhc2VsaW5lX2RmLCBheGlzPTEpKVtpXSA9PSAxIGVsc2UgMCBmb3IgaSBpbgogICAgICAgICAgICByYW5nZShwcmVkaWN0aW9uX2RmLnNoYXBlWzBdKV0pCiAgICAgICAgc2lnX3JhdGlvID0gZmxvYXQobnAuc3VtKG5wLmFycmF5KGxpc3QoY29tcHJlc3MocF92YWx1ZSwgbGlmdF90eXBlID09IDEpKSkgPD0gdGgpKSAvIGxlbihwX3ZhbHVlKQoKICAgICAgICByZXR1cm4geydwX3ZhbHVlJzogcF92YWx1ZSwgJ2xpZnRfdHlwZSc6IGxpc3QobGlmdF90eXBlKSwgJ3NpZ19yYXRpbyc6IHNpZ19yYXRpb30KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3BfdmFsdWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3BfdmFsdWUpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCiMgbWlzc2luZyBrZW5kYWxsX3B2YWx1ZSwga2VuZGFsbF9zcGVhcm1hbiBjb3JyCmRlZiBnZW5lcmF0ZV9rZW5kYWxsX3N1bW1hcnkobGlmdGxpc3QpOgogICAgZGVmIGVmZnJhbmsoZGF0YSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0bXAgPSBkYXRhLmxvY1tkYXRhLnN0YXRpb24gIT0gJ3N0YXRpb25ub25lJ10uZ3JvdXBieSgnc3RhdGlvbicsIGFzX2luZGV4PUZhbHNlKVsnbGlmdCcsICduZXRfcmF0ZSddLnN1bSgpCiAgICAgICAgICAgIHRtcCA9IHRtcC5hc3NpZ24oZWZmaWNpZW5jeT0odG1wLmxpZnQgLyB0bXAubmV0X3JhdGUpKQogICAgICAgICAgICB0bXAgPSB0bXAuYXNzaWduKHJhbms9cmFua2RhdGEodG1wLmVmZmljaWVuY3kpKQogICAgICAgICAgICByZXR1cm4gdG1wW1snc3RhdGlvbicsICdyYW5rJ11dCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuZWZmcmFuaykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmVmZnJhbmspIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKICAgIGRlZiBrZW5kYWxsX3coZXhwdF9yYXRpbmdzKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIGV4cHRfcmF0aW5ncy5uZGltICE9IDI6CiAgICAgICAgICAgICAgICByYWlzZSAncmF0aW5ncyBtYXRyaXggbXVzdCBiZSAyLWRpbWVuc2lvbmFsJwogICAgICAgICAgICBtID0gZXhwdF9yYXRpbmdzLnNoYXBlWzBdICAjIHJhdGVycwogICAgICAgICAgICBuID0gZXhwdF9yYXRpbmdzLnNoYXBlWzFdICAjIGl0ZW1zIHJhdGVkCiAgICAgICAgICAgIGRlbm9tID0gbSAqKiAyICogKG4gKiogMyAtIG4pCiAgICAgICAgICAgIHJhdGluZ19zdW1zID0gbnAuc3VtKGV4cHRfcmF0aW5ncywgYXhpcz0wKQogICAgICAgICAgICBTID0gbSAqIG5wLnZhcihyYXRpbmdfc3VtcykKICAgICAgICAgICAgcmV0dXJuIDEyICogUyAvIGRlbm9tCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2Uua2VuZGFsbF93KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2Uua2VuZGFsbF93KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgIHRyeToKICAgICAgICB0bXBPdXQgPSBbZWZmcmFuayh4KSBmb3IgeCBpbiBsaWZ0bGlzdF0KICAgICAgICByYW5raW5ncyA9IHJlZHVjZSgobGFtYmRhIHgsIHk6IHBkLm1lcmdlKHgsIHksIG9uPSdzdGF0aW9uJywgaG93PSdvdXRlcicpKSwgdG1wT3V0KS5pbG9jWzosIDE6XQogICAgICAgIHJldHVybiBrdy5jb21wdXRlX3cocmFua2luZ3MudmFsdWVzLmFzdHlwZShpbnQpLnRvbGlzdCgpKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5nZW5lcmF0ZV9rZW5kYWxsX3N1bW1hcnkpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuZ2VuZXJhdGVfa2VuZGFsbF9zdW1tYXJ5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBjYWxjdWxhdGVfd2luZG93c3RhdHMoc3BvdCwga3BpLCBpbmRleCwgbG9va2JlZm9yZV9zZWNvbmRzLCBsb29rYWZ0ZXJfc2Vjb25kcyk6CiAgICB0cnk6CiAgICAgICAgcG9zdFN0YXJ0ID0gc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZC5pbG9jW2luZGV4XQogICAgICAgIHBvc3RFbmQgPSBwb3N0U3RhcnQgKyBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz1sb29rYmVmb3JlX3NlY29uZHMvNjApCiAgICAgICAgcHJlU3RhcnQgPSBwb3N0U3RhcnQgLSBkYXRldGltZS50aW1lZGVsdGEobWludXRlcz1sb29rYWZ0ZXJfc2Vjb25kcy82MCkKICAgICAgICBwcmVFbmQgPSBwb3N0U3RhcnQKCiAgICAgICAgcG9zdEtQSSA9IGtwaS5sb2NbKGtwaS5taW51dGUgPj0gcG9zdFN0YXJ0KSAmIChrcGkubWludXRlIDwgcG9zdEVuZCksICdrcGknXS5zdW0oKQogICAgICAgIHBvc3RUViA9IHNwb3QubG9jWyhzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkID49IHBvc3RTdGFydCkgJgogICAgICAgICAgICAgICAgICAgICAgICAoc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCA8IHBvc3RFbmQpLCAnbmV0X3JhdGUnXS5zdW0oKSAtIHNwb3QubmV0X3JhdGUuaWxvY1tpbmRleF0KICAgICAgICBwb3N0VFYxID0gcG9zdFRWIC0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcG9zdFN0YXJ0KSAmICgKICAgICAgICAgICAgc3BvdC5zdGFydGRhdGV0aW1lcm91bmRlZCA8IHBvc3RTdGFydCArIGRhdGV0aW1lLnRpbWVkZWx0YShtaW51dGVzPTEpKSwgJ25ldF9yYXRlJ10uc3VtKCkgLSBcCiAgICAgICAgICAgIHNwb3QubmV0X3JhdGUuaWxvY1tpbmRleF0KICAgICAgICBwb3N0TmV0UmF0aW8gPSAoZmxvYXQoc3BvdC5uZXRfcmF0ZS5pbG9jW2luZGV4XSkgLyBwb3N0VFYpCiAgICAgICAgcG9zdE5ldFJhdGlvID0gbnAud2hlcmUobnAuaXNpbmYocG9zdE5ldFJhdGlvKSwgOTk5OTksIHBvc3ROZXRSYXRpbykKICAgICAgICBwb3N0TmV0UmF0aW8gPSBucC53aGVyZShwZC5pc251bGwocG9zdE5ldFJhdGlvKSwgLTEsIHBvc3ROZXRSYXRpbykKCiAgICAgICAgcHJlS1BJID0ga3BpLmxvY1soa3BpLm1pbnV0ZSA+PSBwcmVTdGFydCkgJiAoa3BpLm1pbnV0ZSA8IHByZUVuZCksICdrcGknXS5zdW0oKQogICAgICAgIHByZVRWID0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcHJlU3RhcnQpICYgKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPCBwcmVFbmQpLCAnbmV0X3JhdGUnXS5zdW0oKQogICAgICAgIHByZVRWMSA9IHByZVRWIC0gc3BvdC5sb2NbKHNwb3Quc3RhcnRkYXRldGltZXJvdW5kZWQgPj0gcG9zdFN0YXJ0IC0gZGF0ZXRpbWUudGltZWRlbHRhKG1pbnV0ZXM9MSkpICYgKAogICAgICAgICAgICBzcG90LnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIDwgcG9zdFN0YXJ0KSwgJ25ldF9yYXRlJ10uc3VtKCkKICAgICAgICBwcmVOZXRSYXRpbyA9IChmbG9hdChzcG90Lm5ldF9yYXRlLmlsb2NbaW5kZXhdKSAvIHByZVRWKQogICAgICAgIHByZU5ldFJhdGlvID0gbnAud2hlcmUobnAuaXNpbmYocHJlTmV0UmF0aW8pLCA5OTk5OSwgcHJlTmV0UmF0aW8pCiAgICAgICAgcHJlTmV0UmF0aW8gPSBucC53aGVyZShwZC5pc251bGwocHJlTmV0UmF0aW8pLCAtMSwgcHJlTmV0UmF0aW8pCiAgICAgICAgcmV0dXJuIFtwb3N0S1BJLCBwb3N0VFYsIHBvc3RUVjEsIHBvc3ROZXRSYXRpbywgcHJlS1BJLCBwcmVUViwgcHJlVFYxLCBwcmVOZXRSYXRpb10KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UuY2FsY3VsYXRlX3dpbmRvd3N0YXRzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV93aW5kb3dzdGF0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGl0ZXJhdGVfd2luZG93c3RhdHNfY2FsY3VsYXRpb24oc3BvdCwga3BpLCBsb29rYmVmb3JlX3NlY29uZHMsIGxvb2thZnRlcl9zZWNvbmRzKToKICAgIHRyeToKICAgICAgICBvdXRwdXQgPSBwZC5EYXRhRnJhbWUoW2NhbGN1bGF0ZV93aW5kb3dzdGF0cyhzcG90LCBrcGksIHgsIGxvb2tiZWZvcmVfc2Vjb25kcywgbG9va2FmdGVyX3NlY29uZHMpIGZvciB4IGluIHJhbmdlKDAsIHNwb3Quc2hhcGVbMF0pXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9WyJwb3N0X2twaSIsICJwb3N0X3R2IiwgInBvc3RfdHZfMW1pbiIsICJwb3N0TmV0UmF0aW8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJlX2twaSIsICJwcmVfdHYiLCAicHJlX3R2XzFtaW4iLCAicHJlTmV0UmF0aW8iXSkKICAgICAgICBvdXRwdXQuaW5kZXggPSBsaXN0KG91dHB1dC5pbmRleCkKICAgICAgICBzcG90LmluZGV4ID0gcmFuZ2UoMCwgc3BvdC5zaGFwZVswXSkKICAgICAgICByZXN1bHQgPSBvdXRwdXQuYXNzaWduKHN0YXRpb249c3BvdC5zdGF0aW9uLCBzdGFydGRhdGV0aW1lPXNwb3Quc3RhcnRkYXRldGltZSkKICAgICAgICByZXR1cm4gcmVzdWx0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLml0ZXJhdGVfd2luZG93c3RhdHNfY2FsY3VsYXRpb24pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuaXRlcmF0ZV93aW5kb3dzdGF0c19jYWxjdWxhdGlvbikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZmVhdHVyZV9wcmVwYXJlX2Zvcl90cmFpbmluZyhkYXRhLCB3aXRoX2ltcHJlc3Npb249VHJ1ZSk6CiAgICB0cnk6CiAgICAgICAgZGF5cGFydF9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdkYXlwYXJ0JyBpbiBjb2xdCiAgICAgICAgdGltZV9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICgnaG91cicgaW4gY29sKSB8ICgnd2Vla2RheScgaW4gY29sKV0KICAgICAgICBuZXRfaW5kID0gW2NvbCBmb3IgY29sIGluIGRhdGEuY29sdW1ucyBpZiAnbmV0X3JhdF9pbmQnIGluIGNvbF0KICAgICAgICBlZmZlY3RfZmVhID0gWyJzdGFydGRhdGV0aW1lcm91bmRlZCIsCiAgICAgICAgICAgICAgICAgICAgInByZV9rcGkiLAogICAgICAgICAgICAgICAgICAgICJwb3N0X2twaSIsCiAgICAgICAgICAgICAgICAgICAgIm5ldF9yYXRlIiwKICAgICAgICAgICAgICAgICAgICAicHJlX3R2IiwKICAgICAgICAgICAgICAgICAgICAicG9zdF90diIsCiAgICAgICAgICAgICAgICAgICAgInBvc3RfdHZfMW1pbiIsCiAgICAgICAgICAgICAgICAgICAgInByZV90dl8xbWluIiwKICAgICAgICAgICAgICAgICAgICAicHJpb3JfdHZfMTAiLAogICAgICAgICAgICAgICAgICAgICJwcmlvcl90dl82MCIsCiAgICAgICAgICAgICAgICAgICAgImlzSG9saWRheSIsCiAgICAgICAgICAgICAgICAgICAgImNvdW50cyIsCiAgICAgICAgICAgICAgICAgICAgImltcHJlc3Npb25zIiwKICAgICAgICAgICAgICAgICAgICAieWRheSIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgc3RhdGlvbl9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdzdGF0aW9uJyBpbiBjb2xdCiAgICAgICAgaXNjaV9mZWEgPSBbY29sIGZvciBjb2wgaW4gZGF0YS5jb2x1bW5zIGlmICdpc2NpXycgaW4gY29sXQogICAgICAgIHByb2R1Y3RuYW1lX2ZlYSA9IFtjb2wgZm9yIGNvbCBpbiBkYXRhLmNvbHVtbnMgaWYgJ3Byb2R1Y3RfbmFtZScgaW4gY29sXQogICAgICAgIGJ1eWNvZGVfZmVhID0gW2NvbCBmb3IgY29sIGluIGRhdGEuY29sdW1ucyBpZiAnYnV5X2NvZGVzJyBpbiBjb2xdCiAgICAgICAgaWYgKHdpdGhfaW1wcmVzc2lvbiA9PSBGYWxzZSk6CiAgICAgICAgICAgIGVmZmVjdF9mZWEgPSBbZmVhdHVyZSBmb3IgZmVhdHVyZSBpbiBlZmZlY3RfZmVhIGlmIGZlYXR1cmUgIT0gJ2ltcHJlc3Npb25zJ10KCiAgICAgICAgIyBubyBkYXlwYXJ0CiAgICAgICAgYWRkaXRpb25hbEF0dHJpYnV0ZSA9IFsnaW5kZXhfaWQnLCAncHJvZ3JhbSddCiAgICAgICAgc2VsZWN0ZWRfdmFyID0gW10KICAgICAgICBzZWxlY3RlZF92YXIuZXh0ZW5kKGVmZmVjdF9mZWEgKyBzdGF0aW9uX2ZlYSArIGlzY2lfZmVhICsgcHJvZHVjdG5hbWVfZmVhICsgYnV5Y29kZV9mZWEgKyB0aW1lX2ZlYSArIGFkZGl0aW9uYWxBdHRyaWJ1dGUpCiAgICAgICAgdHJhaW4gPSBkYXRhLmxvY1s6LCBzZWxlY3RlZF92YXJdCiAgICAgICAgdHJhaW4gPSB0cmFpbi5sb2NbOiwgfnRyYWluLmNvbHVtbnMuZHVwbGljYXRlZCgpXQogICAgICAgIHRyYWluLmlsb2NbOiwgMTp0cmFpbi5zaGFwZVsxXSAtIDJdID0gdHJhaW4uaWxvY1s6LCAxOnRyYWluLnNoYXBlWzFdIC0gMl0uYXBwbHkocGQudG9fbnVtZXJpYywgYXhpcz0xKQogICAgICAgIHJldHVybiB0cmFpbgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5mZWF0dXJlX3ByZXBhcmVfZm9yX3RyYWluaW5nKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmZlYXR1cmVfcHJlcGFyZV9mb3JfdHJhaW5pbmcpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiB3cmFwcGVyX2ZlYXRfc2VsZWN0KFgsIHkpOgogICAgdHJ5OgogICAgICAgICMgZGlzcGxheSBmZWF0IGltcG9ydGFuY2UgdW5pb24gYnkgb3JkZXIKICAgICAgICBjdl9mb2xkcyA9IDEwIAogICAgICAgIHBhcmFtZXRlcl9kaWN0ID0geGdib29zdF9wYXJhbWV0ZXJfZGljdAoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLndyYXBwZXJfZmVhdF9zZWxlY3QpIFJhbmRvbSBGb3Jlc3QnKQogICAgICAgIGtmID0gS0ZvbGQobl9zcGxpdHM9Y3ZfZm9sZHMgKQogICAgICAgIHJmX2ZlYXQgPSBjdl9maXQoWCwgeSwga2YsICdyZicsIHBhcmFtZXRlcl9kaWN0KQogICAgICAgIHJmX21lYW5fZmVhdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gWC5jb2x1bW5zOgogICAgICAgICAgICBtZWFuX2ZlYXQgPSAwCiAgICAgICAgICAgIGZvciBqIGluIHJmX2ZlYXQ6CiAgICAgICAgICAgICAgICBtZWFuX2ZlYXQgKz0galtpXQogICAgICAgICAgICByZl9tZWFuX2ZlYXRbaV0gPSBtZWFuX2ZlYXQvZmxvYXQoY3ZfZm9sZHMpCiAgICAgICAgcmZfbWVhbl9mZWF0ID0gcGQuU2VyaWVzKHJmX21lYW5fZmVhdCkKICAgICAgICByZl9tZWFuX2ZlYXQgPSBwZC5EYXRhRnJhbWUocmZfbWVhbl9mZWF0LnNvcnRfdmFsdWVzKCkpCiAgICAgICAgcmZfbWVhbl9mZWF0ID0gcmZfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkKCiAgICAgICAgY29scyA9IHJmX21lYW5fZmVhdFtyZl9tZWFuX2ZlYXRbMF0gIT0gMF1bJ2luZGV4J10KCiAgICAgICAgWF94Z2IgPSBYLmxvY1s6LCBjb2xzXQogICAgICAgIGtmID0gS0ZvbGQobl9zcGxpdHM9Y3ZfZm9sZHMpCiAgICAgICAgeGdiX2ZlYXQgPSBjdl9maXQoWF94Z2IsIHksIGtmLCAneGdiJywgcGFyYW1ldGVyX2RpY3QpCiAgICAgICAgeGdiX21lYW5fZmVhdCA9IHt9CiAgICAgICAgZm9yIGkgaW4gWF94Z2IuY29sdW1uczoKICAgICAgICAgICAgbWVhbl9mZWF0ID0gMAogICAgICAgICAgICBmb3IgaiBpbiB4Z2JfZmVhdDoKICAgICAgICAgICAgICAgIG1lYW5fZmVhdCArPSBqW2ldCiAgICAgICAgICAgIHhnYl9tZWFuX2ZlYXRbaV0gPSBtZWFuX2ZlYXQvZmxvYXQoY3ZfZm9sZHMpCiAgICAgICAgeGdiX21lYW5fZmVhdCA9IHBkLlNlcmllcyh4Z2JfbWVhbl9mZWF0KQogICAgICAgIHhnYl9tZWFuX2ZlYXQgPSBwZC5EYXRhRnJhbWUoeGdiX21lYW5fZmVhdC5zb3J0X3ZhbHVlcygpKQogICAgICAgIHhnYl9tZWFuX2ZlYXQgPSB4Z2JfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkKCiAgICAgICAgIyB0YWtlIGJvdGggeGdiIGFuZCByZiBmZWF0dXJlIHJhbmtzIGFuZCBhdmVyYWdlIHRoZW0KICAgICAgICB4Z2JfbWVhbl9mZWF0WydyYW5rJ10gPSB4Z2JfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkuaW5kZXgrMQogICAgICAgIHJmX21lYW5fZmVhdFsncmFuayddID0gcmZfbWVhbl9mZWF0LnJlc2V0X2luZGV4KCkuaW5kZXgrMQogICAgICAgIGZlYXRfcmFuayA9IHt9CiAgICAgICAgZm9yIGYgaW4gcmZfbWVhbl9mZWF0WydpbmRleCddOgogICAgICAgICAgICBpZiBmIG5vdCBpbiB4Z2JfbWVhbl9mZWF0WydpbmRleCddLnZhbHVlX2NvdW50cygpLmluZGV4OgogICAgICAgICAgICAgICAgZmVhdF9yYW5rW2ZdID0gcmZfbWVhbl9mZWF0W3JmX21lYW5fZmVhdFsnaW5kZXgnXSA9PSBmXVsncmFuayddLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSlbMF0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZlYXRfcmFua1tmXSA9IHhnYl9tZWFuX2ZlYXRbeGdiX21lYW5fZmVhdFsnaW5kZXgnXSA9PSBmXVsncmFuayddLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSlbMF0gKyByZl9tZWFuX2ZlYXRbcmZfbWVhbl9mZWF0WydpbmRleCddID09IGZdWydyYW5rJ10ucmVzZXRfaW5kZXgoZHJvcD1UcnVlKVswXQoKICAgICAgICBmZWF0X3JhbmsgPSBwZC5TZXJpZXMoZmVhdF9yYW5rKQogICAgICAgIGZlYXRfcmFuayA9IChmZWF0X3JhbmstZmVhdF9yYW5rLm1pbigpKS8oZmVhdF9yYW5rLm1heCgpLWZlYXRfcmFuay5taW4oKSkKICAgICAgICBmZWF0X3JhbmsgPSBmZWF0X3Jhbmsuc29ydF92YWx1ZXMoYXNjZW5kaW5nPUZhbHNlKQoKICAgICAgICBleHAgPSByZS5jb21waWxlKCJec3RhdGlvbltBLVphLXpdK3xeaXNjaV9bMC05QS1aYS16XSt8XFxiaG91cnxcXHdlZWtkYXkrfF5wcm9kdWN0X25hbWVbMC05QS1aYS16XSt8XmJ1eV9jb2Rlc1swLTlBLVphLXpdIikKICAgICAgICBuYW1lID0gWC5jb2x1bW5zCiAgICAgICAgbmFtZSA9IFt4IGZvciB4IGluIG5hbWUgaWYgcmUuc2VhcmNoKGV4cCwgeCldCiAgICAgICAgc2VsZWN0ZWRfZmVhdHVyZXMgPSBuYW1lK2xpc3QoZmVhdF9yYW5rW2ZlYXRfcmFuayA+IGZlYXRfcmFuay5xdWFudGlsZSgwLjI1KV0uaW5kZXgpCiAgICAgICAgcmV0dXJuIHhnYl9tZWFuX2ZlYXQsIHJmX21lYW5fZmVhdCwgZmVhdF9yYW5rLCBsaXN0KHNldChzZWxlY3RlZF9mZWF0dXJlcykpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLndyYXBwZXJfZmVhdF9zZWxlY3QpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2Uud3JhcHBlcl9mZWF0X3NlbGVjdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGN2X2ZpdChYLCB5LCBrZiwgbW9kZWxfdHlwZSwgcGFyYW1ldGVyX2RpY3QpOgogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKGYnKHBlcmZvcm1hbmNlLmN2X2ZpdCkgUGFyYW1ldGVycyBVc2VkOiB7cGFyYW1ldGVyX2RpY3R9JykKICAgICAgICBtb2RlbF9mZWF0ID0gW10KICAgICAgICBmb3IgdHJhaW5faW5kZXgsIHRlc3RfaW5kZXggaW4ga2Yuc3BsaXQoWCwgeSk6CiAgICAgICAgICAgIFhfdHJhaW4sIHlfdHJhaW4gPSBYLmlsb2NbdHJhaW5faW5kZXgsIDpdLCB5W3RyYWluX2luZGV4XQogICAgICAgICAgICBYX3Rlc3QsIHlfdGVzdCA9IFguaWxvY1t0ZXN0X2luZGV4LCA6XSwgeVt0ZXN0X2luZGV4XQogICAgICAgICAgICBpZiBtb2RlbF90eXBlID09ICdyZic6CiAgICAgICAgICAgICAgICBtb2RlbCA9IFJhbmdlckZvcmVzdFJlZ3Jlc3NvcihtaW5fbm9kZV9zaXplPTMsIHZlcmJvc2U9VHJ1ZSwgbl9qb2JzPTQsIG5fZXN0aW1hdG9ycz01MDAsIGltcG9ydGFuY2U9J2ltcHVyaXR5Jywgc2VlZCA9IDIwKQogICAgICAgICAgICAgICAgbW9kZWwuZml0KFhfdHJhaW4sIHlfdHJhaW4pCiAgICAgICAgICAgICAgICBtb2RlbF9mZWF0LmFwcGVuZChwZC5TZXJpZXMobW9kZWwuZmVhdHVyZV9pbXBvcnRhbmNlc18sIGluZGV4PVguY29sdW1ucykpCiAgICAgICAgICAgIGVsaWYgbW9kZWxfdHlwZSA9PSAneGdiJzoKICAgICAgICAgICAgICAgIG1vZGVsID0gWEdCUmVncmVzc29yKG1heF9kZXB0aD1wYXJhbWV0ZXJfZGljdFsnbWF4X2RlcHRoJ10sIGxlYXJuaW5nX3JhdGU9cGFyYW1ldGVyX2RpY3RbJ2V0YSddLCBudGhyZWFkPXBhcmFtZXRlcl9kaWN0WydudGhyZWFkJ10sIG9iamVjdGl2ZT1wYXJhbWV0ZXJfZGljdFsnb2JqZWN0aXZlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3N0ZXI9cGFyYW1ldGVyX2RpY3RbJ2Jvb3N0ZXInXSwgY29sc2FtcGxlX2J5dHJlZT1mbG9hdChwYXJhbWV0ZXJfZGljdFsnY29sc2FtcGxlX2J5dHJlZSddKSwgbl9lc3RpbWF0b3JzPTYwMCwgc2VlZD0yMCkKICAgICAgICAgICAgICAgIG1vZGVsLmZpdChYX3RyYWluLCB5X3RyYWluKQogICAgICAgICAgICAgICAgIyBmcmVxdWVuY3kKICAgICAgICAgICAgICAgIG1vZGVsX2ZlYXQuYXBwZW5kKHBkLlNlcmllcyhtb2RlbC5mZWF0dXJlX2ltcG9ydGFuY2VzXywgaW5kZXg9WC5jb2x1bW5zKSkKICAgICAgICByZXR1cm4gbW9kZWxfZmVhdAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5jdl9maXQpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIocGVyZm9ybWFuY2UuY3ZfZml0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgc3RyYXRpZmllZF9zYW1wbGUodHJhaW4sIG5mb2xkKToKICAgIG5wLnJhbmRvbS5zZWVkKHNlZWQ9MjApCiAgICB0cnk6CiAgICAgICAgbGFiZWwgPSB0cmFpblsncG9zdF9rcGknXSAhPSAwCiAgICAgICAgZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgQ291bnRlcgogICAgICAgIGNvdW50ID0gQ291bnRlcihsYWJlbCkKICAgICAgICBpZiBzdW0oY291bnQpID09IDE6CiAgICAgICAgICAgIGxheWVycyA9IG5wLnJhbmRvbS5jaG9pY2UocmFuZ2UobmZvbGQpLCByZXBsYWNlPVRydWUsIHNpemU9Y291bnRbMV0pCiAgICAgICAgICAgIGZvbGRzID0gWyhbaSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzKSBpZiB4ID09IHldLCBbaiBmb3IgaiwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzKSBpZiB4ICE9IHldKSBmb3IgeSBpbiByYW5nZShuZm9sZCldCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbGF5ZXJzID0gW25wLnJhbmRvbS5jaG9pY2UocmFuZ2UobmZvbGQpLCByZXBsYWNlPVRydWUsIHNpemU9Y291bnRbaV0pIGZvciBpIGluIHJhbmdlKGxlbihjb3VudCkpXQogICAgICAgICAgICB0cnVlaWR4ID0gbGFiZWwuaW5kZXhbbGFiZWwgPT0gVHJ1ZV0udG9saXN0KCkKICAgICAgICAgICAgZmFsc2VpZHggPSBsYWJlbC5pbmRleFtsYWJlbCA9PSBGYWxzZV0udG9saXN0KCkKICAgICAgICAgICAgdG1wZmFsc2UgPSBbKFtmYWxzZWlkeFtpXSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzBdKSBpZiB4ID09IHldLAogICAgICAgICAgICAgICAgICAgICAgICBbZmFsc2VpZHhbal0gZm9yIGosIHggaW4gZW51bWVyYXRlKGxheWVyc1swXSkgaWYgeCAhPSB5XSkgZm9yIHkgaW4gcmFuZ2UobmZvbGQpXQogICAgICAgICAgICB0bXB0cnVlID0gWyhbdHJ1ZWlkeFtpXSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzFdKSBpZiB4ID09IHldLAogICAgICAgICAgICAgICAgICAgICAgICBbdHJ1ZWlkeFtqXSBmb3IgaiwgeCBpbiBlbnVtZXJhdGUobGF5ZXJzWzFdKSBpZiB4ICE9IHldKSBmb3IgeSBpbiByYW5nZShuZm9sZCldCiAgICAgICAgICAgIGZvbGRzID0gWyh0bXB0cnVlW2ZdWzBdICsgdG1wZmFsc2VbZl1bMF0sIHRtcHRydWVbZl1bMV0gKyB0bXBmYWxzZVtmXVsxXSkgZm9yIGYgaW4gcmFuZ2UobmZvbGQpXQogICAgICAgIHJldHVybiBmb2xkcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihwZXJmb3JtYW5jZS5zdHJhdGlmaWVkX3NhbXBsZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS5zdHJhdGlmaWVkX3NhbXBsZSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIHNpbmdsZV9jdihpbmRleCwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBzZWFyY2hfZ3JpZCk6CiAgICB0cnk6CiAgICAgICAgcGFyYW1ldGVyTGlzdCA9IHNlYXJjaF9ncmlkLmlsb2NbaW5kZXhdCiAgICAgICAgY3VycmVudF9zdWJzYW1wbGVfcmF0ZSA9IHBhcmFtZXRlckxpc3RbJ3N1YnNhbXBsZSddCiAgICAgICAgY3VycmVudF9jb2xzYW1wbGVfcmF0ZSA9IHBhcmFtZXRlckxpc3RbJ2NvbHNhbXBsZSddCiAgICAgICAgY3VycmVudF9ldGEgPSBwYXJhbWV0ZXJMaXN0WydldGEnXQogICAgICAgIGN1cnJlbnRfZGVwdGggPSBpbnQocGFyYW1ldGVyTGlzdFsnbWF4ZGVwdGgnXSkKICAgICAgICBwYXJhbXMgPSB7J29iamVjdGl2ZSc6ICdyZWc6c3F1YXJlZGVycm9yJywKICAgICAgICAgICAgICAgICdib29zdGVyJzogJ2didHJlZScsCiAgICAgICAgICAgICAgICAnZXRhJzogY3VycmVudF9ldGEsCiAgICAgICAgICAgICAgICAnc3Vic2FtcGxlJzogY3VycmVudF9zdWJzYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICdtYXhfZGVwdGgnOiBjdXJyZW50X2RlcHRoLAogICAgICAgICAgICAgICAgJ250aHJlYWQnOiA0LAogICAgICAgICAgICAgICAgJ2NvbHNhbXBsZV9ieXRyZWUnOiBjdXJyZW50X2NvbHNhbXBsZV9yYXRlfQogICAgICAgIGVhcmx5X3N0b3BwaW5nX3JvdW5kcyA9IDEwMAogICAgICAgIHN0cmF0aWZpZWRmb2xkID0gc3RyYXRpZmllZF9zYW1wbGUodHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBuZm9sZD01KQogICAgICAgIHhnYm9vc3RfbW9kZWxfY3YgPSB4Z2IuY3YocGFyYW1zPXBhcmFtcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdHJhaW49eGdiLkRNYXRyaXgoJ2FnZ3JlZ2F0ZWRfbGlmdF9kYXRhJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtX2Jvb3N0X3JvdW5kPTIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0cmljcz0ncm1zZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyYm9zZV9ldmFsPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW1pemU9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZHM9c3RyYXRpZmllZGZvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlfc3RvcHBpbmdfcm91bmRzPWVhcmx5X3N0b3BwaW5nX3JvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaHVmZmxlPUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWQgPSAyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICByb3VuZHMgPSB4Z2Jvb3N0X21vZGVsX2N2LnNoYXBlWzBdLTEKICAgICAgICBybXNlID0geGdib29zdF9tb2RlbF9jdlsndGVzdC1ybXNlLW1lYW4nXVtyb3VuZHNdCiAgICAgICAgcmV0dXJuIGxpc3QoKHJtc2UsIGN1cnJlbnRfZXRhLCBjdXJyZW50X3N1YnNhbXBsZV9yYXRlLCBjdXJyZW50X2NvbHNhbXBsZV9yYXRlLCBjdXJyZW50X2RlcHRoLCByb3VuZHMrMSkpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLnNpbmdsZV9jdikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS5zaW5nbGVfY3YpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiB0dW5lX3BhcmFfeGdidHJlZV90ZXN0KHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZiwgY29sdW1uX25hbWVzX3RvX2V4Y2x1ZGUpOgogICAgdHJ5OgogICAgICAgIHRyYWluX3hnYiA9IHhnYi5ETWF0cml4KGRhdGE9dHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmW1t4IGZvciB4IGluIHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZi5jb2x1bW5zIGlmIHggbm90IGluIGNvbHVtbl9uYW1lc190b19leGNsdWRlXV0sIGxhYmVsPXRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZlsncG9zdF9rcGknXSwgbWlzc2luZz1mbG9hdCgnbmFuJykpCiAgICAgICAgdHJhaW5feGdiLnNhdmVfYmluYXJ5KCdhZ2dyZWdhdGVkX2xpZnRfZGF0YScpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSB0cmFpbi54Z2IgY29tcGxldGUnKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHNlYXJjaC5ncmlkIHN0YXJ0IC4uLicpCiAgICAgICAgI3N1YnNhbXBsZSA9IGxpc3QoKDAuNywgMC45KSkKICAgICAgICAjY29sc2FtcGxlID0gbGlzdCgoMC43LCAwLjkpKQogICAgICAgIHN1YnNhbXBsZSA9IGxpc3QoKDEuMCwgMS4wKSkKICAgICAgICBjb2xzYW1wbGUgPSBsaXN0KCgxLjAsIDEuMCkpCiAgICAgICAgZXRhID0gbGlzdCgoMC4xLCAwLjMsIDAuNSkpCiAgICAgICAgbWF4ZGVwdGggPSBsaXN0KCgzLCA1LCA3KSkKCiAgICAgICAgc2VhcmNoX2dyaWQgPSBwZC5EYXRhRnJhbWUobGlzdChwcm9kdWN0KHN1YnNhbXBsZSwgY29sc2FtcGxlLCBldGEsIG1heGRlcHRoKSksIGNvbHVtbnM9WydzdWJzYW1wbGUnLCAnY29sc2FtcGxlJywgJ2V0YScsICdtYXhkZXB0aCddKQoKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHNlYXJjaC5ncmlkIGNvbXBsZXRlJykKICAgICAgICBsb2dnZXIuaW5mbygnKHBlcmZvcm1hbmNlLnR1bmVfcGFyYV94Z2J0cmVlX3Rlc3QpIHJtc2VIeXBlcnBhcmFtcyBzdGFydCAuLi4nKQogICAgICAgIHJtc2VIeXBlcnBhcmFtcyA9IFtzaW5nbGVfY3YoaSwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBzZWFyY2hfZ3JpZCkgZm9yIGkgaW4gcmFuZ2Uoc2VhcmNoX2dyaWQuc2hhcGVbMF0pXQogICAgICAgIHJtc2VIeXBlcnBhcmFtcyA9IHBkLkRhdGFGcmFtZShybXNlSHlwZXJwYXJhbXMsIGNvbHVtbnM9WydSTVNFJywgJ2V0YScsICdzdWJzYW1wbGUnLCAnY29sc2FtcGxlJywgJ2RlcHRoJywgJ3JvdW5kcyddKS5zb3J0X3ZhbHVlcyhieT0nUk1TRScpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSBybXNlSHlwZXJwYXJhbXMgY29tcGxldGUnKQogICAgICAgIHJldHVybiBybXNlSHlwZXJwYXJhbXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UudHVuZV9wYXJhX3hnYnRyZWVfdGVzdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihwZXJmb3JtYW5jZS50dW5lX3BhcmFfeGdidHJlZV90ZXN0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgeGdib29zdChkZiwgcGFyYW1ldGVyX2RpY3QsIG5yb3VuZHM9MTIwMCk6CiAgICB0cnk6CiAgICAgICAgdHJhaW5feGdiID0geGdiLkRNYXRyaXgoZGF0YT1kZltbeCBmb3IgeCBpbiBkZi5jb2x1bW5zIGlmIHggIT0gJ3Bvc3Rfa3BpJ11dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPWRmLnBvc3Rfa3BpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodD1bMiBpZiB3ID4gMjAwIGVsc2UgMSBmb3IgdyBpbiBkZi5uZXRfcmF0ZV0pCiAgICAgICAgeGdiZml0ID0geGdiLnRyYWluKHBhcmFtcz1wYXJhbWV0ZXJfZGljdCwKICAgICAgICAgICAgICAgICAgICAgICAgZHRyYWluPXRyYWluX3hnYiwKICAgICAgICAgICAgICAgICAgICAgICAgbnVtX2Jvb3N0X3JvdW5kPW5yb3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmJvc2VfZXZhbD1UcnVlKQogICAgICAgIHJldHVybiB4Z2JmaXQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuaW5mbyhmIihwZXJmb3JtYW5jZS54Z2Jvb3N0KSBFUlJPUjoge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLnhnYm9vc3QpIEVSUk9SOiB7ZX0iKQoKCmRlZiBpdGVyYXRlX2xpZnQoaXRlciwgdHJhaW5pbmdfZGF0YV9mb3JfdHVuaW5nX2RmLCBmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBjb2x1bW5fbmFtZXNfdG9fZXhjbHVkZSwgd2l0aF9pbXByZXNzaW9uKToKICAgICMgdGhpcyBmdW5jdGlvbiBydW5zIHRoZSBtb2RlbCB0aGUgbnVtYmVyIG9mIHRpbWVzIHNwZWNpZmllZCBpbiB0aGUgIml0ZXJhdGlvbiIgdmFyaWFibGUKICAgIHRyeToKICAgICAgICBwYXJhX3RyZWUgPSB0dW5lX3BhcmFfeGdidHJlZV90ZXN0KHRyYWluaW5nX2RhdGFfZm9yX3R1bmluZ19kZiwgY29sdW1uX25hbWVzX3RvX2V4Y2x1ZGUpCgogICAgICAgIG5yb3VuZHMgPSBpbnQocm91bmQocGFyYV90cmVlWydyb3VuZHMnXVswXSAqIDEuNSkpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIGh5cGVyLXBhcmFtcyB0dW5pbmcgY29tcGxldGUsIHNlbGVjdCBsZWFybmluZyByYXRlOiB7fSwgbWF4X2RlcHRoOiB7fScuZm9ybWF0KHBhcmFfdHJlZVsnZXRhJ11bMF0sIHBhcmFfdHJlZVsnZGVwdGgnXVswXSkpCgogICAgICAgIHBhcmFtZXRlcl9kaWN0ID0geGdib29zdF9wYXJhbWV0ZXJfZGljdAoKICAgICAgICBsb2dnZXIuaW5mbyhmJyhwZXJmb3JtYW5jZS5pdGVyYXRlX2xpZnQpIFBhcmFtZXRlcnMgVXNlZDoge3BhcmFtZXRlcl9kaWN0fScpCiAgICAgICAgb3V0ID0gW21vZGVsX3J1bihmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBwYXJhbWV0ZXJfZGljdCwgbnJvdW5kcywgd2l0aF9pbXByZXNzaW9uLCBpLCBpdGVyKSBmb3IgaSBpbiByYW5nZShpdGVyKV0KICAgICAgICByZXR1cm4gb3V0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLml0ZXJhdGVfbGlmdCkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIG1vZGVsX3J1bihmaW5hbF90cmFpbmluZ19kYXRhX2RmLCBwYXJhbWV0ZXJfZGljdCwgbnJvdW5kcywgd2l0aF9pbXByZXNzaW9uLCBpLCBpdGVyYXRpb24pOgogICAgIyB0aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHRoZSBudW1iZXIgb2YgdGltZXMgc3BlY2lmaWVkIGluIHRoZSAiaXRlcmF0aW9uIiB2YXJpYWJsZQogICAgdHJ5OgogICAgICAgIGxvZ2dlci5pbmZvKGYnbW9kZWxfcnVuOiBsb29wW3tpKzF9XScpCiAgICAgICAgYWRkaXRpb25hbEF0dHJpYnV0ZSA9IFsic3RhcnRkYXRldGltZXJvdW5kZWQiLCAiaW5kZXhfaWQiLCAicHJvZ3JhbSJdCiAgICAgICAgdG1wVHJhaW4gPSBmaW5hbF90cmFpbmluZ19kYXRhX2RmW1t4IGZvciB4IGluIGZpbmFsX3RyYWluaW5nX2RhdGFfZGYuY29sdW1ucyBpZiB4IG5vdCBpbiBhZGRpdGlvbmFsQXR0cmlidXRlXV0KCiAgICAgICAgeGdiX21vZGVsID0geGdib29zdCh0bXBUcmFpbiwgcGFyYW1ldGVyX2RpY3QsIG5yb3VuZHMraSkKICAgICAgICB4Z2JMaWZ0ID0gY2FsY3VsYXRlX2VmZmVjdF9ydW5fb3AoZmluYWxfdHJhaW5pbmdfZGF0YV9kZiwgeGdiX21vZGVsLCB3aXRoX2ltcHJlc3Npb24pCiAgICAgICAgcmV0dXJuIHhnYkxpZnQKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIocGVyZm9ybWFuY2UubW9kZWxfcnVuKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLm1vZGVsX3J1bikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKHRyYWluRGF0YSwgbW9kZWwsIHdpdGhfaW1wcmVzc2lvbik6CiAgICB0cnk6CiAgICAgICAgc3BvdEFkID0gdHJhaW5EYXRhCiAgICAgICAgbmFtZSA9IHNwb3RBZC5jb2x1bW5zCiAgICAgICAgZXhwX3N0YXRpb24gPSByZS5jb21waWxlKCJec3RhdGlvbltBLVphLXpdIikKICAgICAgICBuYW1lX3MgPSBbeCBmb3IgeCBpbiBuYW1lIGlmIHJlLnNlYXJjaChleHBfc3RhdGlvbiwgeCldCiAgICAgICAgc3RhdGlvbk5hbWUgPSBbbmFtZV9zW25wLndoZXJlKHNwb3RBZFtuYW1lX3NdLmlsb2NbaV0gIT0gMClbMF1bMF1dIGZvciBpIGluIHJhbmdlKHNwb3RBZC5zaGFwZVswXSldCiAgICAgICAgZXhwX2lzY2kgPSByZS5jb21waWxlKCJeaXNjaV9bMC05QS1aYS16XSIpCiAgICAgICAgbmFtZV9pID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwX2lzY2ksIHgpXQogICAgICAgIGlzY2lOYW1lID0gW25hbWVfaVtucC53aGVyZShzcG90QWRbbmFtZV9pXS5pbG9jW2ldICE9IDApWzBdWzBdXSBmb3IgaSBpbiByYW5nZShzcG90QWQuc2hhcGVbMF0pXQogICAgICAgIGV4cF9wcm9kdWN0bmFtZSA9IHJlLmNvbXBpbGUoIl5wcm9kdWN0X25hbWVbMC05QS1aYS16XSIpCiAgICAgICAgbmFtZV9wID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwX3Byb2R1Y3RuYW1lLCB4KV0KICAgICAgICBwcm9kdWN0bmFtZU5hbWUgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKHNwb3RBZC5zaGFwZVswXSk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHByb2R1Y3RuYW1lTmFtZS5hcHBlbmQobmFtZV9wW25wLndoZXJlKHNwb3RBZFtuYW1lX3BdLmlsb2NbaV0gIT0gMClbMF1bMF1dKQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgcHJvZHVjdG5hbWVOYW1lLmFwcGVuZChucC5uYW4pCiAgICAgICAgZXhwX2J1eWNvZGUgPSByZS5jb21waWxlKCJeYnV5X2NvZGVzWzAtOUEtWmEtel0iKQogICAgICAgIG5hbWVfYiA9IFt4IGZvciB4IGluIG5hbWUgaWYgcmUuc2VhcmNoKGV4cF9idXljb2RlLCB4KV0KICAgICAgICBidXljb2RlTmFtZSA9IFtuYW1lX2JbbnAud2hlcmUoc3BvdEFkW25hbWVfYl0uaWxvY1tpXSAhPSAwKVswXVswXV0gZm9yIGkgaW4gcmFuZ2Uoc3BvdEFkLnNoYXBlWzBdKV0KCiAgICAgICAgaW5kZXhJRCA9IHNwb3RBZC5pbmRleF9pZAogICAgICAgIHByb2dyYW0gPSBzcG90QWQucHJvZ3JhbQoKICAgICAgICB0ZXN0ID0gc3BvdEFkLmNvcHkoKQogICAgICAgIGlmICh3aXRoX2ltcHJlc3Npb24pOgogICAgICAgICAgICB0ZXN0W1t4IGZvciB4IGluIHRlc3QuY29sdW1ucyBpZiB4IGluIFsnbmV0X3JhdGUnLCAnaW1wcmVzc2lvbnMnLCBzdGF0aW9uTmFtZSwgaXNjaU5hbWVdXV0gPSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGVzdFtbeCBmb3IgeCBpbiB0ZXN0LmNvbHVtbnMgaWYgeCBpbiBbJ25ldF9yYXRlJywgc3RhdGlvbk5hbWUsIGlzY2lOYW1lXV1dID0gMAogICAgICAgIHRlc3RbJ3N0YXRpb25ub25lJ10gPSAxCgogICAgICAgIHRyYWluX3hnYiA9IHhnYi5ETWF0cml4KGRhdGE9c3BvdEFkW1t4IGZvciB4IGluIHNwb3RBZC5jb2x1bW5zIGlmIHggbm90IGluIFsicG9zdF9rcGkiLCAic3RhcnRkYXRldGltZXJvdW5kZWQiLCAiaW5kZXhfaWQiLCAicHJvZ3JhbSJdXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9c3BvdEFkLnBvc3Rfa3BpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodD1bMiBpZiB3ID4gMjAwIGVsc2UgMSBmb3IgdyBpbiBzcG90QWQubmV0X3JhdGVdKQogICAgICAgIHRlc3RfeGdiID0geGdiLkRNYXRyaXgoZGF0YT10ZXN0W1t4IGZvciB4IGluIHRlc3QuY29sdW1ucyBpZiB4IG5vdCBpbiBbInBvc3Rfa3BpIiwgInN0YXJ0ZGF0ZXRpbWVyb3VuZGVkIiwgImluZGV4X2lkIiwgInByb2dyYW0iXV1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9dGVzdC5wb3N0X2twaSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3Npbmc9ZmxvYXQoJ25hbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0PVsyIGlmIHcgPiAyMDAgZWxzZSAxIGZvciB3IGluIHRlc3QubmV0X3JhdGVdKQoKICAgICAgICB3aXRoX3Nwb3QgPSBtb2RlbC5wcmVkaWN0KHRyYWluX3hnYikKICAgICAgICB3aXRob3V0X3Nwb3QgPSBtb2RlbC5wcmVkaWN0KHRlc3RfeGdiKQogICAgICAgIAogICAgICAgICNtYWtpbmcgYW55IG5lZ2F0aXZlIGJhc2VsaW5lcyBjaGFuZ2UgdG8gMCAKICAgICAgICB3aXRob3V0X3Nwb3QgPSBbMCBpZiBpIDwgMCBlbHNlIGkgZm9yIGkgaW4gd2l0aG91dF9zcG90XQogICAgICAgIAogICAgICAgIGxpZnQgPSB3aXRoX3Nwb3QgLSB3aXRob3V0X3Nwb3QKCiAgICAgICAgaWYgKHdpdGhfaW1wcmVzc2lvbik6CiAgICAgICAgICAgIG91dHB1dCA9IHBkLkRhdGFGcmFtZSh7J2RhdGUnOiBzcG90QWQuc3RhcnRkYXRldGltZXJvdW5kZWQuYXBwbHkoc3RyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGlvbic6IHN0YXRpb25OYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpc2NpXzIwJzogaXNjaU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpZnQnOiBsaWZ0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXRfcmF0ZSc6IHNwb3RBZC5uZXRfcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wcmVzc2lvbnMnOiBzcG90QWQuaW1wcmVzc2lvbnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJzogd2l0aG91dF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVkaWN0aW9uJzogd2l0aF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVfa3BpJzogc3BvdEFkLnByZV9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4X2lkJzogaW5kZXhJRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknOiBzcG90QWQucG9zdF9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3RfbmFtZSc6IHByb2R1Y3RuYW1lTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6IHByb2dyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1eV9jb2Rlcyc6IGJ1eWNvZGVOYW1lfSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBvdXRwdXQgPSBwZC5EYXRhRnJhbWUoeydkYXRlJzogc3BvdEFkLnN0YXJ0ZGF0ZXRpbWVyb3VuZGVkLmFwcGx5KHN0ciksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpb24nOiBzdGF0aW9uTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXNjaV8yMCc6IGlzY2lOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaWZ0JzogbGlmdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV0X3JhdGUnOiBzcG90QWQubmV0X3JhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Jhc2VsaW5lJzogd2l0aG91dF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVkaWN0aW9uJzogd2l0aF9zcG90LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVfa3BpJzogc3BvdEFkLnByZV9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4X2lkJzogaW5kZXhJRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zdF9rcGknOiBzcG90QWQucG9zdF9rcGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3RfbmFtZSc6IHByb2R1Y3RuYW1lTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbSc6IHByb2dyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1eV9jb2Rlcyc6IGJ1eWNvZGVOYW1lfSkKICAgICAgICByZXR1cm4gb3V0cHV0CiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKHBlcmZvcm1hbmNlLmNhbGN1bGF0ZV9lZmZlY3RfcnVuX29wKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikK\\\\\\\",\\\\\\\"4849687\\\\\\\":\\\\\\\"ZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKZnJvbSBiYXNlX2xvZ2dlciBpbXBvcnQgbG9nZ2VyCmltcG9ydCB0aW1lCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgcGlwZWxpbmUKaW1wb3J0IG9wdGltaXphdGlvbgppbXBvcnQgdXRpbHMKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgY29uZmlnCmltcG9ydCBib3RvMwppbXBvcnQgY29ubmVjdGlvbnNfYXdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgoKZGVmIGluaXRfY29uZmlnKHMzX3RhcmdldF9idWNrZXRfcGVyZm9ybWFuY2UsIHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlLCBzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZV90dm8sCiAgICAgICAgICAgICAgICBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsCiAgICAgICAgICAgICAgICBhd3Nfc2VjcmV0X2FjY2Vzc19rZXksIGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uLCBxdWVyeV9idWNrZXQpOgogICAgY29uZmlnLlMzX1RBUkdFVF9CVUNLRVRfUEVSRk9STUFOQ0UgPSBzM190YXJnZXRfYnVja2V0X3BlcmZvcm1hbmNlCiAgICBjb25maWcuUzNfVEFSR0VUX1BBVEhfUEVSRk9STUFOQ0UgPSBzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZQogICAgY29uZmlnLlMzX1RBUkdFVF9QQVRIX1BFUkZPUk1BTkNFX1RWTyA9IHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlX3R2bwogICAgY29uZmlnLlNFQ1JFVF9OQU1FID0gc2VjcmV0X25hbWUKICAgIGNvbmZpZy5SRUdJT05fTkFNRSA9IHJlZ2lvbl9uYW1lCiAgICBjb25maWcuQVRIRU5BX0RBVEFCQVNFID0gYXRoZW5hX2RhdGFiYXNlCiAgICBjb25maWcuQVdTX0FDQ0VTU19LRVlfSUQgPSBhd3NfYWNjZXNzX2tleV9pZAogICAgY29uZmlnLkFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IGF3c19zZWNyZXRfYWNjZXNzX2tleQogICAgY29uZmlnLkFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24KICAgIGNvbmZpZy5TMyA9IGJvdG8zLmNsaWVudCgKICAgICAgICAiczMiLAogICAgICAgIHJlZ2lvbl9uYW1lPWNvbmZpZy5SRUdJT05fTkFNRSwKICAgICAgICBhd3NfYWNjZXNzX2tleV9pZD1jb25maWcuQVdTX0FDQ0VTU19LRVlfSUQsCiAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PWNvbmZpZy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkKICAgICkKICAgIGNvbmZpZy5BVEhFTkFfQ0xJRU5UID0gY29ubmVjdGlvbnNfYXdzLmdldF9hdGhlbmFfY29ubmVjdGlvbigpCiAgICBjb25maWcuUkVEU0hJRlRfQ09OTiA9IGNvbm5lY3Rpb25zX2F3cy5nZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpCiAgICBjb25maWcuUVVFUllfQlVDS0VUID0gcXVlcnlfYnVja2V0CiAgICBsb2dnZXIuaW5mbyhmIiBWYWx1ZSBvZiBhdGhlbmEgZGF0YWJhc2Uge2NvbmZpZy5BVEhFTkFfREFUQUJBU0V9IikKICAgIGxvZ2dlci5pbmZvKGYiIFZhbHVlIG9mIHNwb3RkYXRhIHNvdXJjZSB7Y29uZmlnLkFUSEVOQV9EQVRBQkFTRX0ue2NvbmZpZy5TUE9UREFUQV9TT1VSQ0V9IikKICAgIAoKCgpkZWYgX21haW4oaW5wdXRfZGF0YSk6CiAgICAKICAgIHJhbmRvbS5zZWVkKDIwKQogICAgCiAgICAKICAgIHRyeToKICAgICAgICBsb2dnZXIuaW5mbygnKG1haW4uX19tYWluX18pIFByb2Nlc3NpbmcnKQogICAgICAgIAogICAgICAgIGNsaWVudGtleSA9IGlucHV0X2RhdGFbJ2NsaWVudGtleSddCiAgICAgICAga3BpX2luZGV4ID0gaW5wdXRfZGF0YVsna3BpX2luZGV4J10KICAgICAgICBzdGFydF9kYXRlID0gaW5wdXRfZGF0YVsnc3RhcnRfZGF0ZSddCiAgICAgICAgZW5kX2RhdGUgPSBpbnB1dF9kYXRhWydlbmRfZGF0ZSddCiAgICAgICAgcHJpbnQoJ3N0YXJ0X2RhdGU9Jywgc3RhcnRfZGF0ZSkKICAgICAgICBwcmludCgnZW5kX2RhdGU9JywgZW5kX2RhdGUpCiAgICAgICAgaW5jbHVkZV9pbXByZXNzaW9ucyA9IGJvb2woaW5wdXRfZGF0YVsnaW5jbHVkZV9pbXByZXNzaW9ucyddKQogICAgICAgIGluY2x1ZGVfZnJlZXNwb3RzID0gYm9vbChpbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddKQoKICAgICAgICBsb29rYmVmb3JlX21pbnMgPSBpbnQoMykKICAgICAgICBsb29rYWZ0ZXJfbWlucyA9IGludCgzKQoKICAgICAgICBvcHRfcGVuYWx0eV9zdGF0aW9uID0gaW50KGlucHV0X2RhdGFbJ29wdF9wZW5hbHR5X3N0YXRpb24nXSkKICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0ID0gaW50KGlucHV0X2RhdGFbJ29wdF9wZW5hbHR5X2RheXBhcnQnXSkKICAgICAgICBvcHRfcGVuYWx0eV9idWNrZXQgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X3BlbmFsdHlfYnVja2V0J10pCiAgICAgICAgb3B0X3BlbmFsdHlfdmFyaWFuY2UgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X3BlbmFsdHlfdmFyaWFuY2UnXSkKICAgICAgICBvcHRfbWF4X3NlY29uZHMgPSBpbnQoaW5wdXRfZGF0YVsnb3B0X21heF9zZWNvbmRzJ10pCgogICAgICAgIGJyYW5jaCA9IGlucHV0X2RhdGFbJ2JyYW5jaCddCgogICAgICAgIGlmIHN0cihicmFuY2gpIG5vdCBpbiBbImRldiIsICJtYXN0ZXIiXToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFUlJPUjogSW52YWxpZCBicmFuY2ggKGRldiwgbWFzdGVyKScpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCdFUlJPUjogSW52YWxpZCBicmFuY2ggKGRldiwgbWFzdGVyKScpCgogICAgICAgIHRyeToKICAgICAgICAgICAgIyBUaGlzIGFsbG93cyBqZW5raW5zIGpvYiB0byBydW4gZXZlcnkgZGF5IGFuZCBmaW5kIHllc3RlcmRheSdzIGRhdGUKICAgICAgICAgICAgaWYgZW5kX2RhdGUubG93ZXIoKSA9PSAiZGVmYXVsdCI6CiAgICAgICAgICAgICAgICBjdXJyX2RhdGUgPSBkYXRldGltZS5ub3coKQogICAgICAgICAgICAgICAgI3ByZXZfc3VuID0gY3Vycl9kYXRlIC0gdGltZWRlbHRhKGN1cnJfZGF0ZS53ZWVrZGF5KCkgKyAxKQogICAgICAgICAgICAgICAgcHJldl9kYXkgPSBjdXJyX2RhdGUgLSB0aW1lZGVsdGEoMSkKICAgICAgICAgICAgICAgIGVuZF9kYXRlX3N0cmluZyA9IGYne3ByZXZfZGF5LnllYXJ9LXtzdHIoIns6MDJkfSIuZm9ybWF0KHByZXZfZGF5Lm1vbnRoKSl9LXtzdHIoIns6MDJkfSIuZm9ybWF0KHByZXZfZGF5LmRheSkpfScKICAgICAgICAgICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzFdKSwgZGF5PWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiQ2hhbmdpbmcgRW5kIERhdGUgdG8ge2VuZF9kYXRlX3N0cmluZ30iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJFbmQgRGF0ZSBpcyB7ZW5kX2RhdGV9IikKICAgICAgICAgICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlLnNwbGl0KCItIilbMF0pLCBtb250aD1pbnQoZW5kX2RhdGUuc3BsaXQoIi0iKVsxXSksIGRheT1pbnQoZW5kX2RhdGUuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKCiAgICAgICAgICAgICMgQ2FsY3VsYXRlcyB0aGUgU3RhcnQgRGF0ZSB0byA2IG1vbnRocyBmcm9tIEVuZCBEYXRlIHdoZW4gZGVmYXVsdCBpcyB1c2VkCiAgICAgICAgICAgIGlmIHN0YXJ0X2RhdGUubG93ZXIoKSA9PSAiZGVmYXVsdCI6CiAgICAgICAgICAgICAgICBuZXdfc3RhcnRfZGF0ZSA9IGVuZF9kdCArIHRpbWVkZWx0YShkYXlzPS0xODMpCiAgICAgICAgICAgICAgICBuZXdfc3RhcnRfZGF0ZV9zdHJpbmcgPSBmJ3tuZXdfc3RhcnRfZGF0ZS55ZWFyfS17c3RyKCJ7OjAyZH0iLmZvcm1hdChuZXdfc3RhcnRfZGF0ZS5tb250aCkpfS17c3RyKCJ7OjAyZH0iLmZvcm1hdChuZXdfc3RhcnRfZGF0ZS5kYXkpKX0nCiAgICAgICAgICAgICAgICBzdGFydF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KG5ld19zdGFydF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KG5ld19zdGFydF9kYXRlX3N0cmluZy5zcGxpdCgiLSIpWzFdKSwgZGF5PWludChuZXdfc3RhcnRfZGF0ZV9zdHJpbmcuc3BsaXQoIi0iKVsyXSksIGhvdXI9MCkKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiQ2hhbmdpbmcgU3RhcnQgRGF0ZSB0byB7c3RyKG5ld19zdGFydF9kYXRlX3N0cmluZyl9IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXJ0X2R0ID0gZGF0ZXRpbWUoeWVhcj1pbnQoc3RhcnRfZGF0ZS5zcGxpdCgiLSIpWzBdKSwgbW9udGg9aW50KHN0YXJ0X2RhdGUuc3BsaXQoIi0iKVsxXSksIGRheT1pbnQoc3RhcnRfZGF0ZS5zcGxpdCgiLSIpWzJdKSwgaG91cj0wKQogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJTdGFydCBEYXRlIGlzIHtzdHIoc3RhcnRfZHQpfSIpCgogICAgICAgICAgICBsb2dnZXIuaW5mbygiSW5wdXQgVmFyaWFibGVzIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmImNsaWVudGtleToge2NsaWVudGtleX0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmImtwaV9pbmRleDoge2twaV9pbmRleH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmInN0YXJ0X2R0OiB7c3RhcnRfZHR9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJlbmRfZHQ6IHtlbmRfZHR9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJsb29rYmVmb3JlX21pbnM6IHtsb29rYmVmb3JlX21pbnN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJsb29rYWZ0ZXJfbWluczoge2xvb2thZnRlcl9taW5zfSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiaW5jbHVkZV9pbXByZXNzaW9uczoge2luY2x1ZGVfaW1wcmVzc2lvbnN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJpbmNsdWRlX2ZyZWVzcG90czoge2luY2x1ZGVfZnJlZXNwb3RzfSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYib3B0X3BlbmFsdHlfc3RhdGlvbjoge29wdF9wZW5hbHR5X3N0YXRpb259IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJvcHRfcGVuYWx0eV9kYXlwYXJ0OiB7b3B0X3BlbmFsdHlfZGF5cGFydH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmIm9wdF9wZW5hbHR5X2J1Y2tldDoge29wdF9wZW5hbHR5X2J1Y2tldH0iKQogICAgICAgICAgICBsb2dnZXIuaW5mbyhmIm9wdF9wZW5hbHR5X3ZhcmlhbmNlOiB7b3B0X3BlbmFsdHlfdmFyaWFuY2V9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJvcHRfbWF4X3NlY29uZHM6IHtvcHRfbWF4X3NlY29uZHN9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJicmFuY2g6IHticmFuY2h9IikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoKICAgICAgICAgICAgIyBSdW4gdGhlIFRWTyBQRVJGT1JNQU5DRSBwaXBlbGluZQogICAgICAgICAgICAjIHV0aWxzLnJlbW92ZV9vbGRfZmlsZXMoKQogICAgICAgICAgICByZXN1bHRzID0gcGlwZWxpbmUucnVuKGNsaWVudGtleSwgc3RhcnRfZHQsIGVuZF9kdCwga3BpX2luZGV4LCBsb29rYmVmb3JlX21pbnMsIGxvb2thZnRlcl9taW5zLCBpbmNsdWRlX2ltcHJlc3Npb25zLCBpbmNsdWRlX2ZyZWVzcG90cywgYnJhbmNoKQoKICAgICAgICAgICAgY29ubmVjdGlvbnNfYXdzLmNsb3NlX2Nvbm5lY3Rpb25zKCkKCiAgICAgICAgICAgICMgUnVuIFRWTyBPUFRJTUlaQVRJT04KICAgICAgICAgICAgIyBvcHRpbWl6YXRpb24ucnVuKGNsaWVudGtleSwgc3RhcnRfZHQsIGVuZF9kdCwga3BpX2luZGV4LCBvcHRfcGVuYWx0eV9zdGF0aW9uLCBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCkKICAgICAgICAgICAgcmV0dXJuX29iaiA9IFt7J2NsaWVudGtleSc6aW5wdXRfZGF0YVsnY2xpZW50a2V5J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0X2RhdGUnOmlucHV0X2RhdGFbJ3N0YXJ0X2RhdGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOmlucHV0X2RhdGFbJ2VuZF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6aW5wdXRfZGF0YVsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2tiZWZvcmVfbWlucyc6aW5wdXRfZGF0YVsnbG9va2JlZm9yZV9taW5zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2thZnRlcl9taW5zJzppbnB1dF9kYXRhWydsb29rYWZ0ZXJfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJzppbnB1dF9kYXRhWydpbmNsdWRlX2ltcHJlc3Npb25zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGVfZnJlZXNwb3RzJzppbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOidzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtX3JlY29yZHMnOmxlbihyZXN1bHRzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOidOb25lJ31dCiAgICAgICAgICAgIHJldHVybiByZXR1cm5fb2JqCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJFUlJPUjogTWFpbiBGdW5jdGlvbjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICAjIHJhaXNlIEV4Y2VwdGlvbihmIkVSUk9SOiBNYWluIEZ1bmN0aW9uOiBMaW5lOiB7Zm9ybWF0KHN5cy5leGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAgICAgcmV0dXJuX29iaiA9IFt7J2NsaWVudGtleSc6aW5wdXRfZGF0YVsnY2xpZW50a2V5J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0X2RhdGUnOmlucHV0X2RhdGFbJ3N0YXJ0X2RhdGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5kX2RhdGUnOmlucHV0X2RhdGFbJ2VuZF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2twaV9pbmRleCc6aW5wdXRfZGF0YVsna3BpX2luZGV4J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2tiZWZvcmVfbWlucyc6aW5wdXRfZGF0YVsnbG9va2JlZm9yZV9taW5zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb2thZnRlcl9taW5zJzppbnB1dF9kYXRhWydsb29rYWZ0ZXJfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJzppbnB1dF9kYXRhWydpbmNsdWRlX2ltcHJlc3Npb25zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGVfZnJlZXNwb3RzJzppbnB1dF9kYXRhWydpbmNsdWRlX2ZyZWVzcG90cyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOidmYWlsZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcic6ZiJFUlJPUjogTWFpbiBGdW5jdGlvbjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9In1dCiAgICAgICAgICAgIHJldHVybiByZXR1cm5fb2JqCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIHBhcnNpbmcgY29tbWFuZCBsaW5lIGFyZ3VtZW50czogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9JykKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgIyByYWlzZSBFeGNlcHRpb24oZidFcnJvciBwYXJzaW5nIGNvbW1hbmQgbGluZSBhcmd1bWVudHM6IExpbmU6IHtmb3JtYXQoc3lzLmV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nKQogICAgICAgIHJldHVybl9vYmogPSBbeydjbGllbnRrZXknOmlucHV0X2RhdGFbJ2NsaWVudGtleSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFydF9kYXRlJzppbnB1dF9kYXRhWydzdGFydF9kYXRlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZF9kYXRlJzppbnB1dF9kYXRhWydlbmRfZGF0ZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdrcGlfaW5kZXgnOmlucHV0X2RhdGFbJ2twaV9pbmRleCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdsb29rYmVmb3JlX21pbnMnOmlucHV0X2RhdGFbJ2xvb2tiZWZvcmVfbWlucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdsb29rYWZ0ZXJfbWlucyc6aW5wdXRfZGF0YVsnbG9va2FmdGVyX21pbnMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucyc6aW5wdXRfZGF0YVsnaW5jbHVkZV9pbXByZXNzaW9ucyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNsdWRlX2ZyZWVzcG90cyc6aW5wdXRfZGF0YVsnaW5jbHVkZV9mcmVlc3BvdHMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzonZmFpbGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOmYnRXJyb3IgcGFyc2luZyBjb21tYW5kIGxpbmUgYXJndW1lbnRzOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0nfV0KICAgICAgICByZXR1cm4gcmV0dXJuX29iagoKIyBweXRob24gbWFpbi5weSAtLWNsaWVudGtleSBjdWJpaSAtLWtwaS1pbmRleCAyIC0tc3RhcnQtZGF0ZSBkZWZhdWx0IC0tZW5kLWRhdGUgZGVmYXVsdCAgLS1pbmNsdWRlLWltcHJlc3Npb25zIFRydWUgLS1pbmNsdWRlLWZyZWVzcG90cyBUcnVlIC0tbG9va2JlZm9yZS1taW5zIDMgLS1sb29rYWZ0ZXItbWlucyAzIC0tb3B0LXBlbmFsdHktc3RhdGlvbiAxIC0tb3B0LXBlbmFsdHktZGF5cGFydCAxIC0tb3B0LXBlbmFsdHktYnVja2V0IDEgLS1vcHQtcGVuYWx0eS12YXJpYW5jZSAxIC0tb3B0LW1heC1zZWNvbmRzIDYwIC0tYnJhbmNoIGRldgo=\\\\\\\",\\\\\\\"4849688\\\\\\\":\\\\\\\"aW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwppbXBvcnQgcmUKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCB0aW1lCmltcG9ydCBjc3YKZnJvbSBjb3B5IGltcG9ydCBkZWVwY29weQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCmltcG9ydCBkYXRldGltZQpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcmVkdWNlCmZyb20gaXRlcnRvb2xzIGltcG9ydCBwcm9kdWN0CmZyb20gYmFzZV9sb2dnZXIgaW1wb3J0IGxvZ2dlcgppbXBvcnQgYm90bzMKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IHB1bHAgYXMgcGxwCmZyb20gaW1weXV0ZS5pbXB1dGF0aW9uLmNzIGltcG9ydCBmYXN0X2tubgppbXBvcnQgdXRpbHMKaW1wb3J0IHdhcm5pbmdzCndhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCJpZ25vcmUiKQppbXBvcnQgcmFuZG9tCgojIFMzX1RBUkdFVF9CVUNLRVQgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24nCiMgUzNfVEFSR0VUX0JVQ0tFVF9ERVYgPSAndG4tZGF0YWxha2UtYXR0cmlidXRpb24tdHZvJwoKUzNfREFURVRJTUVfRk9STUFUID0gIiVZLSVtLSVkLSVILSVNLSVTIgpQRVJGT1JNQU5DRV9GSUxFX05BTUUgPSAib3V0cHV0X2FnZ3JlZ2F0ZWRfbGlmdF9kYXRhLmNzdiIKT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCA9ICIlWS0lbS0lZCAlSDolTTolUyIKCkNSRUFUSVZFX0xFTkdUSFNfVE9fT1BUSU1JWkUgPSBbMTUsIDMwLCA2MF0KREVDSU1BTF9QUkVDSVNJT04gPSAyCgpyZWNvbW1lbmRhdGlvbl9udW1iZXJfb2Zfd2VlayA9IDQKY29tcGFyaW5nX251bWJlcl9vZl93ZWVrID0gNApoaXN0b3J5X251bWJlcl9vZl93ZWVrID0gNApzdGF0aW9uX3BlcmNlbnRhZ2VfY2hhbmdlID0gMC4yCmRheXBhcnRfcGVyY2VudGFnZV9jaGFuZ2UgPSAwLjIKYnVja2V0X3BlcmNlbnRhZ2VfY2hhbmdlID0gMC41CnJlY29tbWVuZGF0aW9uX2xldmVsID0gWyJzdGF0aW9uIiwgImRheXBhcnQiLCAibGVuZ3RoIl0KdG9Qcm9qZWN0ID0gRmFsc2UKCgpkZWYgcnVuKGNsaWVudGtleSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGtwaV9pbmRleCwgb3B0X3BlbmFsdHlfc3RhdGlvbiwgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gpOgogICAgcmFuZG9tLnNlZWQoMjApCiAgICAKICAgIHRyeToKICAgICAgICBsb2dnZXIuaW5mbygnKG9wdGltaXphdGlvbi5ydW4pIFN0YXJ0aW5nIE9wdGltaXphdGlvbicpCiAgICAgICAgcGVyZm9ybWFuY2VfZGYgPSBwZC5yZWFkX2NzdihQRVJGT1JNQU5DRV9GSUxFX05BTUUsIHNlcD0nLCcsIGhlYWRlcj0iaW5mZXIiLCBxdW90aW5nPWNzdi5RVU9URV9NSU5JTUFMLCBsaW5ldGVybWluYXRvcj1Ob25lLCBlbmNvZGluZz0ndXRmLTgnKQogICAgICAgIHBlcmZvcm1hbmNlX2RmID0gcGVyZm9ybWFuY2VfZGYuYXNzaWduKGRhdGU9cGQudG9fZGF0ZXRpbWUocGVyZm9ybWFuY2VfZGZbImRhdGUiXSwgZm9ybWF0PSIlWS0lbS0lZCIpKQogICAgICAgIHBlcmZvcm1hbmNlX2RmID0gcGVyZm9ybWFuY2VfZGYubG9jW1t4LmRhdGUoKSA8IChkYXRldGltZS5kYXRldGltZS5ub3coKSAtIHRpbWVkZWx0YShkYXlzPWRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLndlZWtkYXkoKSkpLmRhdGUoKSBmb3IgeCBpbiBwZXJmb3JtYW5jZV9kZi5kYXRlXV0KICAgICAgICBwZXJmb3JtYW5jZV9kZiA9IHBlcmZvcm1hbmNlX2RmLmxvY1twZXJmb3JtYW5jZV9kZlsiYnV5X2NvZGVzIl0gPT0gIkRSIl0uZHJvcG5hKGF4aXM9MCwgaG93PSdhbnknLCB0aHJlc2g9Tm9uZSwgc3Vic2V0PXJlY29tbWVuZGF0aW9uX2xldmVsLCBpbnBsYWNlPUZhbHNlKQoKICAgICAgICBjYXBfb25fYnVja2V0ID0gcGQuRGF0YUZyYW1lKHsic3RhdGlvbiI6IFtdLCAiZGF5cGFydCI6IFtdLCAiY2FwIjogW119KQogICAgICAgIGV4YW1wbGUgPSBbXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihleGFtcGxlKSk6CiAgICAgICAgICAgIGNhcF9vbl9idWNrZXQgPSBjYXBfb25fYnVja2V0LmFwcGVuZCh7InN0YXRpb24iOiBleGFtcGxlW2ldWzBdLCAiZGF5cGFydCI6IGV4YW1wbGVbaV1bMV0sICJjYXAiOiBleGFtcGxlW2ldWzJdfSwgaWdub3JlX2luZGV4PVRydWUpCgoKICAgICAgICBydW5fZGF0ZXRpbWUgPSBkYXRldGltZS5kYXRldGltZS5ub3coKQogICAgICAgIHNhX2RhdGV0aW1lID0gcnVuX2RhdGV0aW1lCgogICAgICAgIGNvbXBhcmlzb25fZGYsIGJhY2t0ZXN0aW5fZGYsIGhpc3RvcmljYWxfZGYgPSBnZXRfbGF0ZXN0X3dlZWtzKHBlcmZvcm1hbmNlX2RmKQogICAgICAgIAogICAgICAgIGlmKGJhY2t0ZXN0aW5fZGYuc2hhcGVbMF0gPT0gMCk6CiAgICAgICAgICAgIGJhY2t0ZXN0aW5fZGYgPSBoaXN0b3JpY2FsX2RmCgogICAgICAgIGlmIChjb21wYXJpc29uX2RmLm5ldF9yYXRlLm1heCgpID09IDAuMCk6CiAgICAgICAgICAgICMgc3lzLmV4aXQoMCkKICAgICAgICAgICAgcmFpc2UgCgogICAgICAgIGluY29uc2lzdGVuY3kgPSBbXQoKICAgICAgICBzdGF0aW9uX3NwZW5kLCBkYXlwYXJ0X3NwZW5kLCBidWNrZXRfc3BlbmQgPSBnZW5lcmF0ZV9jb25zdHJhaW50KGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpCgogICAgICAgIG5ldCwgbGlmdF9wZXJfZG9sbGFyID0gZ2VuZXJhdGVfZm9yZWNhc3RfbWV0cmljcyhjb21wYXJpc29uX2RmLCBoaXN0b3JpY2FsX2RmKQogICAgICAgIFNpID0ge2k6IG5ldFsibWVkaWFuIl0uaWxvY1tpXSBmb3IgaSBpbiByYW5nZShsZW4obmV0KSl9CiAgICAgICAgTFBEaSA9IHtpOiBsaWZ0X3Blcl9kb2xsYXJbIm9yaTUwIl0uaWxvY1tpXSBmb3IgaSBpbiByYW5nZShsZW4obGlmdF9wZXJfZG9sbGFyKSl9CiAgICAgICAgZnJlZV9idWNrZXRzID0gbnAud2hlcmUobmV0WyJtZWFuIl0gPT0gMClbMF0KCiAgICAgICAgc3VpID0ge2k6IDcwICogcmVjb21tZW5kYXRpb25fbnVtYmVyX29mX3dlZWsgZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpfQogICAgICAgIHNsaSA9IHtpOiAwIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKX0KCgogICAgICAgICMgU3VtbWFyeSBtYXRyaXggb2Ygc3RhdGlvbiBhbmQgZGF5cGFydAogICAgICAgIHN0YXRpb25fbGlzdCA9IGxpc3QobmV0LnN0YXRpb24uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkKICAgICAgICBkYXlwYXJ0X2xpc3QgPSBsaXN0KG5ldC5kYXlwYXJ0LnNvcnRfdmFsdWVzKCkudW5pcXVlKCkpCiAgICAgICAgU3RhdGlvbl9NYXRyaXgsIERheXBhcnRfTWF0cml4LCBGcmVxdWVuY3lfTWF0cml4LCBoaXN0b3JpY2FsX3NkLCBmcmVxdWVuY3lfdWIgPSBnZW5lcmF0ZV9mcmVxdWVuY3kobmV0KQoKICAgICAgICAjIGJ1ZGdldAogICAgICAgIHNjZW5hcmlvcyA9IFs3MCwgMTAwLCAxMzBdCgogICAgICAgIGZvciBzY2VuYXJpbyBpbiBzY2VuYXJpb3M6CiAgICAgICAgICAgIG9wdF9kYXRldGltZSA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpCgogICAgICAgICAgICBidWRnZXQgPSBucC5zdW0oY29tcGFyaXNvbl9kZi5uZXRfcmF0ZSkgKiBzY2VuYXJpbyAvIDEwMAogICAgICAgICAgICBTdGF0aW9uX1NoYXJlX2kgPSB7aTogc3RhdGlvbl9zcGVuZC5wZXJjZW50YWdlW2ldICogYnVkZ2V0IGZvciBpIGluIHJhbmdlKGxlbihzdGF0aW9uX2xpc3QpKX0KICAgICAgICAgICAgRGF5cGFydF9TaGFyZV9pID0ge2k6IGRheXBhcnRfc3BlbmQucGVyY2VudGFnZVtpXSAqIGJ1ZGdldCBmb3IgaSBpbiByYW5nZShsZW4oZGF5cGFydF9saXN0KSl9CiAgICAgICAgICAgIEJ1Y2tldF9TaGFyZV9pID0ge2k6IGJ1Y2tldF9zcGVuZC5wZXJjZW50YWdlW2ldICogYnVkZ2V0IGZvciBpIGluIHJhbmdlKGxlbihuZXQpKX0KCiAgICAgICAgICAgICMgQ3JlYXRlIGEgTFAgcHJvYmxlbQogICAgICAgICAgICBvcHRfbW9kZWwgPSBwbHAuTHBQcm9ibGVtKCJTUE9wVGltaXplIE1vZGVsIiwgcGxwLkxwTWluaW1pemUpCgogICAgICAgICAgICAjIENyZWF0ZSB2YXJpYWJsZSAobnVtYmVyIG9mIHNwb3RzIGZvciBlYWNoIGJ1Y2tldCkKICAgICAgICAgICAgeF92YXJzID0ge2k6cGxwLkxwVmFyaWFibGUoY2F0PSJJbnRlZ2VyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93Qm91bmQ9c2xpW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cEJvdW5kPXN1aVtpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0ieHswfSIuZm9ybWF0KGkpKSBmb3IgaSBpbiByYW5nZShsZW4obmV0KSl9CgogICAgICAgICAgICAjIEFkZCBvYmplY3RpdmUKICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5scFN1bSgKICAgICAgICAgICAgICAgICgtMSkgKiB4X3ZhcnNbaV0gKiBTaVtpXSAqIExQRGlbaV0gKiBlbGFzdGljaXR5KHhfdmFyc1tpXSkgKyBvcHRfcGVuYWx0eV92YXJpYW5jZSAqIHhfdmFyc1tpXSAqIGxpZnRfcGVyX2RvbGxhclsidmFyIl1baV0KICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSkKCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihzdGF0aW9uX2xpc3QpKToKICAgICAgICAgICAgICAgICMgTWF4aW11bSAyMCUgY2hhbmdlIGluIGEgc3RhdGlvbidzIHNoYXJlIG9mIHRvdGFsIHNwZW5kIChjb21wYXJlZCBhZ2FpbnN0IGxhc3QgNCB3ZWVrcyBvZiBkYXRhKQogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKFN0YXRpb25fTWF0cml4W2ldW2pdICogU2lbaV0gKiB4X3ZhcnNbaV0gZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpKSwKICAgICAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50RVEsCiAgICAgICAgICAgICAgICAgICAgcmhzPVN0YXRpb25fU2hhcmVfaVtqXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X1N0YXRpb25fU2hhcmVfezB9Ii5mb3JtYXQoaikpCiAgICAgICAgICAgICAgICBvcHRfbW9kZWwuZXh0ZW5kKHRtcF9jb25zdHJhaW50Lm1ha2VFbGFzdGljU3ViUHJvYmxlbShwZW5hbHR5PW9wdF9wZW5hbHR5X3N0YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9ydGlvbkZyZWVCb3VuZD1zdGF0aW9uX3BlcmNlbnRhZ2VfY2hhbmdlKSkKICAgICAgICAgICAgIyA2MCBzZWNvbmRzIG9mIGFkIHRpbWUgYWxsb3dlZCBwZXIgaG91cgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oaGlzdG9yaWNhbF9zZCkpOgogICAgICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5McENvbnN0cmFpbnQoCiAgICAgICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2pdICogRnJlcXVlbmN5X01hdHJpeFtqXVtpXSBmb3IgaiBpbiByYW5nZShsZW4obmV0KSkpLAogICAgICAgICAgICAgICAgICAgIHNlbnNlPXBscC5McENvbnN0cmFpbnRMRSwKICAgICAgICAgICAgICAgICAgICByaHM9ZnJlcXVlbmN5X3ViW2ldLAogICAgICAgICAgICAgICAgICAgIG5hbWU9ImNvbnN0cmFpbnRfNjBzZWNfYWxsb3dlZF97MH0iLmZvcm1hdChpKSkKCgogICAgICAgICAgICAjIENvbnN0cmFpbnQgb24gY2FwIHN0YXRpb24vZGF5cGFydCBsZXZlbAogICAgICAgICAgICBmb3IgYyBpbiByYW5nZShsZW4oY2FwX29uX2J1Y2tldCkpOgogICAgICAgICAgICAgICAgb3B0X21vZGVsICs9IHBscC5McENvbnN0cmFpbnQoCiAgICAgICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oCiAgICAgICAgICAgICAgICAgICAgICAgIHhfdmFyc1tpXSAqIFN0YXRpb25fTWF0cml4W2ldW3N0YXRpb25fbGlzdC5pbmRleChjYXBfb25fYnVja2V0WyJzdGF0aW9uIl1bY10pXSAqIERheXBhcnRfTWF0cml4W2ldWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5cGFydF9saXN0LmluZGV4KGNhcF9vbl9idWNrZXRbImRheXBhcnQiXVtjXSldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgICAgIHJocz1jYXBfb25fYnVja2V0WyJjYXAiXVtjXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X2NhcF9VQl97MH0iLmZvcm1hdChjKSkKCiAgICAgICAgICAgICMgVG90YWwgc3BlbmQgbGVzcyB0aGFuIGJ1ZGdldAogICAgICAgICAgICBvcHRfbW9kZWwgKz0gcGxwLkxwQ29uc3RyYWludCgKICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKFNpW2ldICogeF92YXJzW2ldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50TEUsCiAgICAgICAgICAgICAgICByaHM9YnVkZ2V0LAogICAgICAgICAgICAgICAgbmFtZT0iY29uc3RyYWludF9TcGVuZCIpCiAgICAgICAgICAgICMgVG90YWwgbnVtYmVyIG9mIHNwb3RzIGdyZWF0ZXIgdGhhbiAwCiAgICAgICAgICAgIG9wdF9tb2RlbCArPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2ldIGZvciBpIGluIHJhbmdlKGxlbihuZXQpKSksCiAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50R0UsCiAgICAgICAgICAgICAgICByaHM9MSwKICAgICAgICAgICAgICAgIG5hbWU9ImNvbnN0cmFpbnRfU3BvdF9MQiIpCiAgICAgICAgICAgICMgTm8gRnJlZSBTcG90cwogICAgICAgICAgICBvcHRfbW9kZWwgKz0gcGxwLkxwQ29uc3RyYWludCgKICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKHhfdmFyc1tpXSBmb3IgaSBpbiBmcmVlX2J1Y2tldHMpLAogICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgcmhzPTAsCiAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0ZyZWVfQnVja2V0IikKICAgICAgICAgICAgIyBObyBJbmNvbnNpc3RlbnQgQnVja2V0CiAgICAgICAgICAgIG9wdF9tb2RlbCArPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgZT1wbHAubHBTdW0oeF92YXJzW2ldIGZvciBpIGluIGluY29uc2lzdGVuY3kpLAogICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludExFLAogICAgICAgICAgICAgICAgcmhzPTAsCiAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X1VucHJlZGljdGFibGUiKQogICAgICAgICAgICAjIE1heGltdW0gMjAlIGNoYW5nZSBpbiBhIGRheXBhcnQncyBzaGFyZSBvZiB0b3RhbCBzcGVuZCAoY29tcGFyZWQgYWdhaW5zdCBsYXN0IDQgd2Vla3Mgb2YgZGF0YSkKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKGRheXBhcnRfbGlzdCkpOgogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9cGxwLmxwU3VtKERheXBhcnRfTWF0cml4W2ldW2pdICogU2lbaV0gKiB4X3ZhcnNbaV0gZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpKSwKICAgICAgICAgICAgICAgICAgICBzZW5zZT1wbHAuTHBDb25zdHJhaW50RVEsCiAgICAgICAgICAgICAgICAgICAgcmhzPURheXBhcnRfU2hhcmVfaVtqXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0RheXBhcnRfU2hhcmVfezB9Ii5mb3JtYXQoaikpCiAgICAgICAgICAgICAgICBvcHRfbW9kZWwuZXh0ZW5kKHRtcF9jb25zdHJhaW50Lm1ha2VFbGFzdGljU3ViUHJvYmxlbShwZW5hbHR5PW9wdF9wZW5hbHR5X2RheXBhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9ydGlvbkZyZWVCb3VuZD1kYXlwYXJ0X3BlcmNlbnRhZ2VfY2hhbmdlKSkKICAgICAgICAgICAgIyBNYXhpbXVtIDUwJSBjaGFuZ2UgaW4gYSBidWNrZXQncyBzaGFyZSBvZiB0b3RhbCBzcGVuZCAoY29tcGFyZWQgYWdhaW5zdCBsYXN0IDQgd2Vla3Mgb2YgZGF0YSkKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKG5ldCkpOgogICAgICAgICAgICAgICAgdG1wX2NvbnN0cmFpbnQgPSBwbHAuTHBDb25zdHJhaW50KAogICAgICAgICAgICAgICAgICAgIGU9eF92YXJzW2ldICogU2lbaV0sCiAgICAgICAgICAgICAgICAgICAgc2Vuc2U9cGxwLkxwQ29uc3RyYWludEVRLAogICAgICAgICAgICAgICAgICAgIHJocz1CdWNrZXRfU2hhcmVfaVtpXSwKICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb25zdHJhaW50X0J1Y2tldF9TcG90X3swfSIuZm9ybWF0KGkpKQogICAgICAgICAgICAgICAgb3B0X21vZGVsLmV4dGVuZCgKICAgICAgICAgICAgICAgICAgICB0bXBfY29uc3RyYWludC5tYWtlRWxhc3RpY1N1YlByb2JsZW0ocGVuYWx0eT1vcHRfcGVuYWx0eV9idWNrZXQsIHByb3BvcnRpb25GcmVlQm91bmQ9YnVja2V0X3BlcmNlbnRhZ2VfY2hhbmdlKSkKCiAgICAgICAgICAgIG9wdF9tb2RlbC5zb2x2ZShwbHAuUFVMUF9DQkNfQ01EKG1heFNlY29uZHM9b3B0X21heF9zZWNvbmRzKSkKICAgICAgICAgICAgbG9nZ2VyLmluZm8oInN0YXR1czoge30iLmZvcm1hdChvcHRfbW9kZWwuc3RhdHVzKSkKICAgICAgICAgICAgb3B0X2RmID0gcGQuRGF0YUZyYW1lLmZyb21fZGljdCh4X3ZhcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50PSJpbmRleCIpCiAgICAgICAgICAgIG9wdF9kZi5jb2x1bW5zID0gWyJ2YXJpYWJsZV9vYmplY3QiXQogICAgICAgICAgICBvcHRfZGYucmVzZXRfaW5kZXgoaW5wbGFjZT1UcnVlKQoKICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdID0gb3B0X2RmWyJ2YXJpYWJsZV9vYmplY3QiXS5hcHBseShsYW1iZGEgaXRlbTogaXRlbS52YXJWYWx1ZSkKICAgICAgICAgICAgb3B0X2RmLmRyb3AoY29sdW1ucz1bInZhcmlhYmxlX29iamVjdCJdLCBpbnBsYWNlPVRydWUpCgogICAgICAgICAgICAjIyMgT1VUUFVUIEdFTkVSQVRJT04gIyMjCiAgICAgICAgICAgIGdlbmVyYXRlX291dHB1dHMoCiAgICAgICAgICAgICAgICBjbGllbnRrZXksIAogICAgICAgICAgICAgICAgc3RhcnRfZGF0ZSwgCiAgICAgICAgICAgICAgICBlbmRfZGF0ZSwgCiAgICAgICAgICAgICAgICBrcGlfaW5kZXgsCiAgICAgICAgICAgICAgICBvcHRfZGYsCiAgICAgICAgICAgICAgICBjb21wYXJpc29uX2RmLAogICAgICAgICAgICAgICAgaGlzdG9yaWNhbF9kZiwKICAgICAgICAgICAgICAgIG5ldCwKICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhciwKICAgICAgICAgICAgICAgIHNjZW5hcmlvLAogICAgICAgICAgICAgICAgc2FfZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICBvcHRfZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9zdGF0aW9uLCAKICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQsIAogICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfYnVja2V0LCAKICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCAKICAgICAgICAgICAgICAgIG9wdF9tYXhfc2Vjb25kcywKICAgICAgICAgICAgICAgIGJyYW5jaAogICAgICAgICAgICApCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5ydW4pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLnJ1bikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgpkZWYgZWxhc3RpY2l0eShzcG90c19wZXJfYnVja2V0LCByYXRlPTAuOCwgd2Vlaz1yZWNvbW1lbmRhdGlvbl9udW1iZXJfb2Zfd2Vlayk6CiAgICByZXR1cm4gMQoKZGVmIGdlbmVyYXRlX2VmZmljaWVuY3koZGYsIHBlcmlvZCk6CiAgICB0cnk6CiAgICAgICAgbGlmdHBlcmRvbGxhcl9kZiA9IGRmW3JlY29tbWVuZGF0aW9uX2xldmVsXS5hc3NpZ24oCiAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhciA9IGRmWyJsaWZ0Il0gLyBkZlsibmV0X3JhdGUiXSkKICAgICAgICBsaWZ0cGVyZG9sbGFyID0gbGlmdHBlcmRvbGxhcl9kZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coCiAgICAgICAgICAgIHsibGlmdF9wZXJfZG9sbGFyIjogbnAubWVkaWFufSkucmVzZXRfaW5kZXgoKQogICAgICAgIGxpZnRwZXJkb2xsYXIuY29sdW1ucyA9IHJlY29tbWVuZGF0aW9uX2xldmVsICsgW3BlcmlvZCArICJfZWZmIl0KICAgICAgICBsaWZ0cGVyZG9sbGFyID0gbGlmdHBlcmRvbGxhci5yZXBsYWNlKFtucC5pbmYsIG5wLk5JTkZdLCAwKQogICAgICAgIGxpZnRwZXJkb2xsYXIgPSBsaWZ0cGVyZG9sbGFyLmZpbGxuYSgwKQogICAgICAgIHJldHVybiBsaWZ0cGVyZG9sbGFyCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9lZmZpY2llbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9lZmZpY2llbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9jb25zdHJhaW50KGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpOgogICAgdHJ5OgogICAgICAgIHVuaXF1ZV9saXN0ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4ocmVjb21tZW5kYXRpb25fbGV2ZWwpKToKICAgICAgICAgICAgdW5pcXVlX2xpc3QuYXBwZW5kKGxpc3QoaGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbFtpXV0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkpCiAgICAgICAgZmllbGRzID0gWyJzdGF0aW9uIiwgImRheXBhcnQiLCAiYnVja2V0Il0KICAgICAgICBjb25zdHJhaW50cyA9IGxpc3QoKQogICAgICAgIGZvciBmaWVsZCBpbiBmaWVsZHM6CiAgICAgICAgICAgIGlmIGZpZWxkICE9ICJidWNrZXQiOgogICAgICAgICAgICAgICAgZ3JvdXBfbGlzdCA9IGxpc3QoaGlzdG9yaWNhbF9kZltmaWVsZF0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkKICAgICAgICAgICAgICAgIGdyb3VwID0gY29tcGFyaXNvbl9kZi5ncm91cGJ5KFtmaWVsZF0pLmFnZyh7Im5ldF9yYXRlIjogWyJzdW0iXX0pLnJlc2V0X2luZGV4KCkKICAgICAgICAgICAgICAgIGdyb3VwLmNvbHVtbnMgPSBbZmllbGQsICJzdW0iXQogICAgICAgICAgICAgICAgbWlzc2luZ19ncm91cCA9IHBkLkRhdGFGcmFtZSh7ZmllbGQ6IGxpc3Qoc2V0KGdyb3VwX2xpc3QpIC0gc2V0KGdyb3VwW2ZpZWxkXSkpLCAic3VtIjogMH0pCiAgICAgICAgICAgICAgICBncm91cCA9IHBkLmNvbmNhdChbZ3JvdXAsIG1pc3NpbmdfZ3JvdXBdLCBheGlzID0gMCkuc29ydF92YWx1ZXMoZmllbGQpCiAgICAgICAgICAgICAgICBncm91cFsicGVyY2VudGFnZSJdID0gZ3JvdXBbInN1bSJdIC8gbnAuc3VtKGdyb3VwWyJzdW0iXSkKICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLmFwcGVuZChncm91cCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGdyb3VwID0gY29tcGFyaXNvbl9kZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coeyJuZXRfcmF0ZSI6IFsic3VtIl19KS5yZXNldF9pbmRleCgpCiAgICAgICAgICAgICAgICBncm91cC5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbInN1bSJdCiAgICAgICAgICAgICAgICBhbGxfYnVja2V0ID0gcGQuRGF0YUZyYW1lKGxpc3QocHJvZHVjdCgqdW5pcXVlX2xpc3QpKSwgY29sdW1ucz1yZWNvbW1lbmRhdGlvbl9sZXZlbCkKICAgICAgICAgICAgICAgIGdyb3VwID0gcGQubWVyZ2UoYWxsX2J1Y2tldCwgZ3JvdXAsIGhvdz0ibGVmdCIsIG9uPXJlY29tbWVuZGF0aW9uX2xldmVsKS5maWxsbmEoMCkKICAgICAgICAgICAgICAgIGdyb3VwWyJwZXJjZW50YWdlIl0gPSBncm91cFsic3VtIl0gLyBucC5zdW0oZ3JvdXBbInN1bSJdKQogICAgICAgICAgICAgICAgY29uc3RyYWludHMuYXBwZW5kKGdyb3VwKQogICAgICAgIHJldHVybiBjb25zdHJhaW50c1swXSwgY29uc3RyYWludHNbMV0sIGNvbnN0cmFpbnRzWzJdCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9jb25zdHJhaW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9jb25zdHJhaW50KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKGNvbXBhcmlzb25fZGYsIGhpc3RvcmljYWxfZGYpOgogICAgdHJ5OgogICAgICAgIHVuaXF1ZV9saXN0ID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4ocmVjb21tZW5kYXRpb25fbGV2ZWwpKToKICAgICAgICAgICAgdW5pcXVlX2xpc3QuYXBwZW5kKGxpc3QoaGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbFtpXV0uc29ydF92YWx1ZXMoKS51bmlxdWUoKSkpCgogICAgICAgIG5ldF9mcm9tX2NvbXBhcmlzb25fZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21fY29tcGFyaXNvbl9kZiA9IGV4dHJhY3Rfc3VtbWFyeShjb21wYXJpc29uX2RmKQogICAgICAgIG5ldF9mcm9tX2hpc3RvcmljYWxfZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21faGlzdG9yaWNhbF9kZiA9IGV4dHJhY3Rfc3VtbWFyeShoaXN0b3JpY2FsX2RmKQoKICAgICAgICBhbGxfYnVja2V0ID0gcGQuRGF0YUZyYW1lKGxpc3QocHJvZHVjdCgqdW5pcXVlX2xpc3QpKSwgY29sdW1ucz1yZWNvbW1lbmRhdGlvbl9sZXZlbCkKICAgICAgICBhbGxfYnVja2V0ID0gYWxsX2J1Y2tldFsKICAgICAgICAgICAgfnBkLlNlcmllcyhsaXN0KHppcChhbGxfYnVja2V0W3JlY29tbWVuZGF0aW9uX2xldmVsXS5hcHBseSh0dXBsZSwgYXhpcz0xKSkpCiAgICAgICAgICAgICAgICAgICAgKS5pc2luKGxpc3QoemlwKG5ldF9mcm9tX2hpc3RvcmljYWxfZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFwcGx5KHR1cGxlLCBheGlzPTEpKSkpXQogICAgICAgIG5ldF9mcm9tX2hpc3RvcmljYWxfZGYgPSBuZXRfZnJvbV9oaXN0b3JpY2FsX2RmW35wZC5TZXJpZXMobGlzdCh6aXAobmV0X2Zyb21faGlzdG9yaWNhbF9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKQogICAgICAgICAgICApLmlzaW4obGlzdCh6aXAobmV0X2Zyb21fY29tcGFyaXNvbl9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKSldCiAgICAgICAgbmV0ID0gcGQuY29uY2F0KFtuZXRfZnJvbV9jb21wYXJpc29uX2RmLCBuZXRfZnJvbV9oaXN0b3JpY2FsX2RmLCBhbGxfYnVja2V0XSwgYXhpcz0wLCBpZ25vcmVfaW5kZXg9VHJ1ZSkuc29ydF92YWx1ZXMocmVjb21tZW5kYXRpb25fbGV2ZWwpLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSkKICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGYgPSBsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGZbfnBkLlNlcmllcyhsaXN0KHppcChsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2hpc3RvcmljYWxfZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFwcGx5KHR1cGxlLCBheGlzPTEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgKS5pc2luKGxpc3QoemlwKGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21fY29tcGFyaXNvbl9kZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0uYXBwbHkodHVwbGUsIGF4aXM9MSkpKSldCiAgICAgICAgbHBkID0gcGQuY29uY2F0KFtsaWZ0cGVyZG9sbGFyX2FnZ19mcm9tX2NvbXBhcmlzb25fZGYsIGxpZnRwZXJkb2xsYXJfYWdnX2Zyb21faGlzdG9yaWNhbF9kZiwgYWxsX2J1Y2tldF0sIGF4aXM9MCwgaWdub3JlX2luZGV4PVRydWUpLnNvcnRfdmFsdWVzKHJlY29tbWVuZGF0aW9uX2xldmVsKS5yZXNldF9pbmRleChkcm9wPVRydWUpCgogICAgICAgIGRlZiBjcmVhdGVfZHVtbXlfdmFyaWFibGVzKGRmKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdmFyX3RvX2R1bW15ID0gcmVjb21tZW5kYXRpb25fbGV2ZWwKICAgICAgICAgICAgICAgIGluZGV4ID0gW2kgaW4gbGlzdChkZi5jb2x1bW5zKSBmb3IgaSBpbiB2YXJfdG9fZHVtbXldCiAgICAgICAgICAgICAgICBuZXdfdmFyX3RvX2R1bW15ID0gW3Zhcl90b19kdW1teVtqXSBmb3IgaiBpbiBbaSBmb3IgaSwgeCBpbiBlbnVtZXJhdGUoaW5kZXgpIGlmIHhdXQogICAgICAgICAgICAgICAgb3V0cHV0ID0gcGQuZ2V0X2R1bW1pZXMoZGYsIHByZWZpeF9zZXA9Il8iLCBjb2x1bW5zPW5ld192YXJfdG9fZHVtbXksIHByZWZpeD1uZXdfdmFyX3RvX2R1bW15KQogICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmNyZWF0ZV9kdW1teV92YXJpYWJsZXMpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5jcmVhdGVfZHVtbXlfdmFyaWFibGVzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCiAgICAgICAgZGVmIGdlbmVyYXRlX2ltcHV0YXRpb24oZGYsIG1ldHJpYz0ibHBkIik6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmKH5kZi5pc25hKCkudmFsdWVzLmFueSgpIG9yIHRvUHJvamVjdCA9PSBGYWxzZSk6CiAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljICE9ICJscGQiOgogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gcGQuRGF0YUZyYW1lKGRmW3JlY29tbWVuZGF0aW9uX2xldmVsICsgWyJtZWFuIiwgIm1lZGlhbiJdXSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gcGQuRGF0YUZyYW1lKGRmW3JlY29tbWVuZGF0aW9uX2xldmVsICsgWyJscGQiLCAidmFyIl1dKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsLmNvbHVtbnMgPSByZWNvbW1lbmRhdGlvbl9sZXZlbCArIFsib3JpNTAiLCAidmFyIl0KICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbC5maWxsbmEoMCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZHVtbXlfZGYgPSBjcmVhdGVfZHVtbXlfdmFyaWFibGVzKGRmKQogICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QgPSBbXQogICAgICAgICAgICAgICAgICAgIGZvciBmaWVsZCBpbiByZWNvbW1lbmRhdGlvbl9sZXZlbDoKICAgICAgICAgICAgICAgICAgICAgICAgdG1wX2xpc3QgPSBbeCBmb3IgeCBpbiBkdW1teV9kZi5jb2x1bW5zIGlmIHJlLnNlYXJjaChmaWVsZCwgeCldCiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QuYXBwZW5kKHRtcF9saXN0KQogICAgICAgICAgICAgICAgICAgIGZvciBpbmRleCBpbiByYW5nZShsZW4oZmllbGRfbGlzdCkpOgogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCAhPSBsZW4oZmllbGRfbGlzdCktMSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdW1teV9kZi5pbG9jWzosIGR1bW15X2RmLmNvbHVtbnMuZ2V0X2xvYyhmaWVsZF9saXN0W2luZGV4XVswXSk6ZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKGZpZWxkX2xpc3RbaW5kZXggKyAxXVswXSldID0gZHVtbXlfZGYuaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbGlzdFtpbmRleF1bMF0pOmR1bW15X2RmLmNvbHVtbnMuZ2V0X2xvYyhmaWVsZF9saXN0W2luZGV4ICsgMV1bMF0pXSAqIDEwMDAgKiogKDMgLSBpbmRleCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1bW15X2RmLmlsb2NbOiwgZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKGZpZWxkX2xpc3RbaW5kZXhdWzBdKTpdID0gZHVtbXlfZGYuaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoZmllbGRfbGlzdFtpbmRleF1bMF0pOl0gKiAwLjAxCiAgICAgICAgICAgICAgICAgICAgZG5uID0gZmFzdF9rbm4oZCwgaz0xNSkKICAgICAgICAgICAgICAgICAgICBpZiBtZXRyaWMgIT0gImxwZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGwgPSBwZC5EYXRhRnJhbWUoZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbC5hc3NpZ24obWVhbj1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoIm1lYW4iKV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYW49ZG5uLmlsb2NbOiwgZHVtbXlfZGYuY29sdW1ucy5nZXRfbG9jKCJtZWRpYW4iKV0pCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbCA9IHBkLkRhdGFGcmFtZShkZltyZWNvbW1lbmRhdGlvbl9sZXZlbF0pCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGwgPSBmdWxsLmFzc2lnbihvcmk1MD1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoImxwZCIpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcj1kbm4uaWxvY1s6LCBkdW1teV9kZi5jb2x1bW5zLmdldF9sb2MoInZhciIpXSkKICAgICAgICAgICAgICAgIHJldHVybiBmdWxsCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfaW1wdXRhdGlvbikgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLmdlbmVyYXRlX2ltcHV0YXRpb24pIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKICAgICAgICBuZXRfZnVsbCA9IGdlbmVyYXRlX2ltcHV0YXRpb24obmV0LCBtZXRyaWM9Im5ldCIpCiAgICAgICAgbHBkX2Z1bGwgPSBnZW5lcmF0ZV9pbXB1dGF0aW9uKGxwZCkKICAgICAgICByZXR1cm4gbmV0X2Z1bGwsIGxwZF9mdWxsCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5nZW5lcmF0ZV9mb3JlY2FzdF9tZXRyaWNzKSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgZXh0cmFjdF9zdW1tYXJ5KGRmKToKICAgIHRyeToKICAgICAgICBuZXQgPSBkZi5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKS5hZ2coeyJuZXRfcmF0ZSI6IFtucC5tZWFuLCBucC5tZWRpYW5dfSkucmVzZXRfaW5kZXgoKQogICAgICAgIG5ldC5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbIm1lYW4iLCAibWVkaWFuIl0KCiAgICAgICAgbWVhbl9kZiA9IGRmLmdyb3VwYnkocmVjb21tZW5kYXRpb25fbGV2ZWwpLmFnZyh7Im5ldF9yYXRlIjogW25wLnN1bV0sICJsaWZ0IjogW25wLnN1bV19KS5yZXNldF9pbmRleCgpCiAgICAgICAgbWVhbl9kZi5jb2x1bW5zID0gcmVjb21tZW5kYXRpb25fbGV2ZWwgKyBbIm5ldF9yYXRlIiwgImxpZnQiXQoKICAgICAgICBsaWZ0cGVyZG9sbGFyX2RmID0gZGZbcmVjb21tZW5kYXRpb25fbGV2ZWxdLmFzc2lnbigKICAgICAgICAgICAgbGlmdF9wZXJfZG9sbGFyPWRmWyJsaWZ0Il0gLyBkZlsibmV0X3JhdGUiXSkKICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZyA9IGxpZnRwZXJkb2xsYXJfZGYuZ3JvdXBieShyZWNvbW1lbmRhdGlvbl9sZXZlbCkuYWdnKAogICAgICAgICAgICB7ImxpZnRfcGVyX2RvbGxhciI6IFtucC5zdGQsIG5wLnZhcl19KS5yZXNldF9pbmRleCgpCiAgICAgICAgbGlmdHBlcmRvbGxhcl9hZ2cuY29sdW1ucyA9IFsiICIuam9pbihjb2wpLnN0cmlwKCkgZm9yIGNvbCBpbiBsaWZ0cGVyZG9sbGFyX2FnZy5jb2x1bW5zLnZhbHVlc10KICAgICAgICBsaWZ0cGVyZG9sbGFyX2FnZyA9IGxpZnRwZXJkb2xsYXJfYWdnLmFzc2lnbigKICAgICAgICAgICAgc3RkPWxpZnRwZXJkb2xsYXJfYWdnWyJsaWZ0X3Blcl9kb2xsYXIgc3RkIl0gLyBucC5tYXgobGlmdHBlcmRvbGxhcl9hZ2dbImxpZnRfcGVyX2RvbGxhciBzdGQiXSksCiAgICAgICAgICAgIHZhcj1saWZ0cGVyZG9sbGFyX2FnZ1sibGlmdF9wZXJfZG9sbGFyIHZhciJdIC8gbnAubWF4KGxpZnRwZXJkb2xsYXJfYWdnWyJsaWZ0X3Blcl9kb2xsYXIgdmFyIl0pLAogICAgICAgICAgICBscGQ9bWVhbl9kZi5saWZ0L21lYW5fZGYubmV0X3JhdGUpCiAgICAgICAgbGlmdHBlcmRvbGxhcl9hZ2cgPSBsaWZ0cGVyZG9sbGFyX2FnZy5yZXBsYWNlKFtucC5pbmYsIG5wLk5JTkZdLCAwKQogICAgICAgIGxpZnRwZXJkb2xsYXJfYWdnID0gbGlmdHBlcmRvbGxhcl9hZ2cuZmlsbG5hKDApCiAgICAgICAgcmV0dXJuIG5ldCwgbGlmdHBlcmRvbGxhcl9hZ2cKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmV4dHJhY3Rfc3VtbWFyeSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZXh0cmFjdF9zdW1tYXJ5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgpkZWYgZ2V0X2xhdGVzdF93ZWVrcyhkZik6CiAgICB0cnk6CiAgICAgICAgZGZbJ3dlZWtvZiddID0gWyh4IC0gdGltZWRlbHRhKGRheXM9eC53ZWVrZGF5KCkpKS5kYXRlKCkgZm9yIHggaW4gZGYuZGF0ZV0KICAgICAgICBjb21wYXJpc29uX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstY29tcGFyaW5nX251bWJlcl9vZl93ZWVrOl0KICAgICAgICBiYWNrdGVzdGluX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstY29tcGFyaW5nX251bWJlcl9vZl93ZWVrLTQ6LWNvbXBhcmluZ19udW1iZXJfb2Zfd2Vla10KICAgICAgICBoaXN0b3JpY2FsX3dlZWtzID0gbnAudW5pcXVlKHNvcnRlZChkZlsnd2Vla29mJ10pKVstaGlzdG9yeV9udW1iZXJfb2Zfd2VlazpdCiAgICAgICAgcmV0dXJuIGRmLmxvY1tkZlsnd2Vla29mJ10uaXNpbihjb21wYXJpc29uX3dlZWtzKV0ucmVzZXRfaW5kZXgoZHJvcD1UcnVlKSwgZGYubG9jW2RmWyd3ZWVrb2YnXS5pc2luKGJhY2t0ZXN0aW5fd2Vla3MpXS5yZXNldF9pbmRleChkcm9wPVRydWUpLCBkZi5sb2NbZGZbJ3dlZWtvZiddLmlzaW4oaGlzdG9yaWNhbF93ZWVrcyldLnJlc2V0X2luZGV4KGRyb3A9VHJ1ZSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmdldF9sYXRlc3Rfd2Vla3MpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQogICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICByYWlzZSBFeGNlcHRpb24oZiIob3B0aW1pemF0aW9uLmdldF9sYXRlc3Rfd2Vla3MpIEVSUk9SOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoKCmRlZiBnZW5lcmF0ZV9mcmVxdWVuY3koZGYpOgogICAgdHJ5OgogICAgICAgIHN0YXRpb25fbGlzdCA9IGxpc3QoZGYuc3RhdGlvbi5zb3J0X3ZhbHVlcygpLnVuaXF1ZSgpKQogICAgICAgIGRheXBhcnRfbGlzdCA9IGxpc3QoZGYuZGF5cGFydC5zb3J0X3ZhbHVlcygpLnVuaXF1ZSgpKQogICAgICAgIGhpc3RvcmljYWxfc2QgPSBkZi5ncm91cGJ5KFsic3RhdGlvbiIsICJkYXlwYXJ0Il0pLnNpemUoKS5yZXNldF9pbmRleCgpLnJlbmFtZShjb2x1bW5zPXswOiAiY291bnQifSkKCiAgICAgICAgU3RhdGlvbl9NYXRyaXggPSBbWzBdICogbGVuKHN0YXRpb25fbGlzdCkgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSldCiAgICAgICAgRGF5cGFydF9NYXRyaXggPSBbWzBdICogbGVuKGRheXBhcnRfbGlzdCkgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSldCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGRmKSk6CiAgICAgICAgICAgIFN0YXRpb25fTWF0cml4W2ldW3N0YXRpb25fbGlzdC5pbmRleChkZi5zdGF0aW9uW2ldKV0gPSAxCiAgICAgICAgICAgIERheXBhcnRfTWF0cml4W2ldW2RheXBhcnRfbGlzdC5pbmRleChkZi5kYXlwYXJ0W2ldKV0gPSAxCgogICAgICAgICMgbWF4aW11bSBudW1iZXIgb2Ygc3BvdHMgZm9yIGVhY2ggZGF5cGFydC9sZW5ndGggcGVyIHN0YXRpb24gcGVyIHdlZWsKICAgICAgICBkYXlwYXJ0X2RpYyA9IHsiZGF5dGltZSI6IDMwLCAiZWFybHlmcmluZ2UiOiAxNSwgImxhdGVuaWdodCI6IDE0LCAibW9ybmluZyI6IDIwLAogICAgICAgICAgICAgICAgICAgICJvdmVybmlnaHQiOiAyOCwgInByaW1lIjogMzUsICJ3ZWVrZW5kZGF5IjogMTQsICJ3ZWVrZW5kbW9ybmluZyI6IDEyfQogICAgICAgIEZyZXF1ZW5jeV9NYXRyaXggPSBbWzBdICogbGVuKGhpc3RvcmljYWxfc2QpIGZvciBpIGluIHJhbmdlKGxlbihkZikpXQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihGcmVxdWVuY3lfTWF0cml4KSk6CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihGcmVxdWVuY3lfTWF0cml4WzBdKSk6CiAgICAgICAgICAgICAgICBGcmVxdWVuY3lfTWF0cml4W2ldW2pdID0gU3RhdGlvbl9NYXRyaXhbaV1bc3RhdGlvbl9saXN0LmluZGV4KGhpc3RvcmljYWxfc2Quc3RhdGlvbltqXSldICogXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF5cGFydF9NYXRyaXhbaV1bZGF5cGFydF9saXN0LmluZGV4KGhpc3RvcmljYWxfc2QuZGF5cGFydFtqXSldICogXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYubGVuZ3RoLmlsb2NbaV0KICAgICAgICBmcmVxdWVuY3lfdWIgPSB7aTogZGF5cGFydF9kaWNbaGlzdG9yaWNhbF9zZC5kYXlwYXJ0W2ldXSAqIDYwICogcmVjb21tZW5kYXRpb25fbnVtYmVyX29mX3dlZWsgZm9yIGkgaW4KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UobGVuKGhpc3RvcmljYWxfc2QpKX0KICAgICAgICByZXR1cm4gU3RhdGlvbl9NYXRyaXgsIERheXBhcnRfTWF0cml4LCBGcmVxdWVuY3lfTWF0cml4LCBoaXN0b3JpY2FsX3NkLCBmcmVxdWVuY3lfdWIKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnZXIuZXJyb3IoZiIob3B0aW1pemF0aW9uLmdlbmVyYXRlX2ZyZXF1ZW5jeSkgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfZnJlcXVlbmN5KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCmRlZiBnZW5lcmF0ZV9vdXRwdXRzKGNsaWVudGtleSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGtwaV9pbmRleCwgb3B0X2RmLCBjb21wYXJpc29uX2RmLCBoaXN0b3JpY2FsX2RmLCBuZXQsIGxpZnRfcGVyX2RvbGxhciwgc2NlbmFyaW8sIHNhX2RhdGV0aW1lLCBvcHRfZGF0ZXRpbWUsIG9wdF9wZW5hbHR5X3N0YXRpb24sIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoKToKICAgICMjIyBPVVRQVVQgR0VORVJBVElPTiAjIyMKICAgIHRyeToKICAgICAgICBjb21wYXJpc29uX3BhaWQgPSBjb21wYXJpc29uX2RmLmxvY1tjb21wYXJpc29uX2RmLm5ldF9yYXRlICE9IDBdCgogICAgICAgIGNvbXBhcmlzb25fcGFpZCA9IGNvbXBhcmlzb25fcGFpZC5ncm91cGJ5KHJlY29tbWVuZGF0aW9uX2xldmVsKQogICAgICAgIGhpc3RvcmljYWxfcGFpZCA9IGNvbXBhcmlzb25fcGFpZC5zaXplKCkudG9fZnJhbWUobmFtZT0iaGlzdG9yaWNhbF9wYWlkX3Nwb3RzIikKICAgICAgICBoaXN0b3JpY2FsX3BhaWQgPSBoaXN0b3JpY2FsX3BhaWQuam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibmV0X3JhdGUiOiAic3VtIn0pKS5yZW5hbWUoCiAgICAgICAgICAgIGNvbHVtbnM9eyJuZXRfcmF0ZSI6ICJoaXN0b3JpY2FsX3RvdGFsX3NwZW5kIn0pLiBcCiAgICAgICAgICAgIGpvaW4oY29tcGFyaXNvbl9wYWlkLmFnZyh7Im5ldF9yYXRlIjogbnAubWVkaWFufSkpLnJlbmFtZShjb2x1bW5zPXsibmV0X3JhdGUiOiAiaGlzdG9yaWNhbF9tZWRpYW5fc3BlbmQifSkuIFwKICAgICAgICAgICAgam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibGlmdCI6ICJzdW0ifSkpLnJlbmFtZShjb2x1bW5zPXsibGlmdCI6ICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMifSkuIFwKICAgICAgICAgICAgam9pbihjb21wYXJpc29uX3BhaWQuYWdnKHsibGlmdCI6IG5wLm1lZGlhbn0pKS5yZW5hbWUoCiAgICAgICAgICAgIGNvbHVtbnM9eyJsaWZ0IjogImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMifSkucmVzZXRfaW5kZXgoKQoKICAgICAgICBoaXN0b3JpY2FsX3BhaWQgPSBoaXN0b3JpY2FsX3BhaWQuYXNzaWduKAogICAgICAgICAgICBoaXN0b3JpY2FsX3BhaWRfc3BvdHM9W2ludChoKSBmb3IgaCBpbiBoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfcGFpZF9zcG90cyJdXSwKICAgICAgICAgICAgaGlzdG9yaWNhbF90b3RhbF9zcGVuZD1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfdG90YWxfc3BlbmQiXSwgREVDSU1BTF9QUkVDSVNJT04pLAogICAgICAgICAgICBoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHM9cm91bmQoaGlzdG9yaWNhbF9wYWlkWyJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMiXSwgREVDSU1BTF9QUkVDSVNJT04pLAogICAgICAgICAgICBoaXN0b3JpY2FsX21lZGlhbl9zcGVuZD1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfbWVkaWFuX3NwZW5kIl0sIERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF9mb3JfcGFpZF9zcG90cz1yb3VuZChoaXN0b3JpY2FsX3BhaWRbImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMiXSwgREVDSU1BTF9QUkVDSVNJT04pCiAgICAgICAgICAgICkKCiAgICAgICAgY29tcGFyaXNvbl9ib251cyA9IGNvbXBhcmlzb25fZGYubG9jW2NvbXBhcmlzb25fZGYubmV0X3JhdGUgPT0gMF0uZ3JvdXBieSgKICAgICAgICAgICAgcmVjb21tZW5kYXRpb25fbGV2ZWwpLnNpemUoKS5yZXNldF9pbmRleCgpLnJlbmFtZShjb2x1bW5zPXswOiAiaGlzdG9yaWNhbF9ib251c19zcG90cyJ9KQogICAgICAgIGNvbXBhcmlzb25fYm9udXMgPSBjb21wYXJpc29uX2JvbnVzLmFzc2lnbihoaXN0b3JpY2FsX2JvbnVzX3Nwb3RzPWNvbXBhcmlzb25fYm9udXNbImhpc3RvcmljYWxfYm9udXNfc3BvdHMiIF0pCgogICAgICAgIGJvbnVzX2xpZnQgPSBjb21wYXJpc29uX2RmLmdyb3VwYnkocmVjb21tZW5kYXRpb25fbGV2ZWwpLmFnZyh7ImxpZnQiOiBbbnAuc3VtLCBucC5tZWRpYW5dfSkucmVzZXRfaW5kZXgoKQogICAgICAgIGJvbnVzX2xpZnQuY29sdW1ucyA9IFsic3RhdGlvbiIsICJkYXlwYXJ0IiwgImxlbmd0aCIsICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF93aXRoX2JvbnVzIl0KICAgICAgICBib251c19saWZ0ID0gYm9udXNfbGlmdC5hc3NpZ24oCiAgICAgICAgICAgIGhpc3RvcmljYWxfdG90YWxfbGlmdF93aXRoX2JvbnVzPXJvdW5kKGJvbnVzX2xpZnRbImhpc3RvcmljYWxfdG90YWxfbGlmdF93aXRoX2JvbnVzIl0sIERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9tZWRpYW5fbGlmdF93aXRoX2JvbnVzPXJvdW5kKGJvbnVzX2xpZnRbImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfd2l0aF9ib251cyJdLCBERUNJTUFMX1BSRUNJU0lPTikpCgogICAgICAgIG9wdGltaXplX291dHB1dCA9IHBkLkRhdGFGcmFtZSh7InN0YXRpb24iOiBuZXRbInN0YXRpb24iXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXlwYXJ0IjogbmV0WyJkYXlwYXJ0Il0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibGVuZ3RoIjogbmV0WyJsZW5ndGgiXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfcGFpZF9zcG90cyI6IFtpbnQodikgZm9yIHYgaW4gb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfdG90YWxfc3BlbmQiOiBucC5tdWx0aXBseShuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZlsic29sdXRpb25fdmFsdWUiXS52YWx1ZXMpLnJvdW5kKERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfdG90YWxfbGlmdF9mb3JfcGFpZF9zcG90cyI6IHJlZHVjZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IG5wLm11bHRpcGx5KGxlZnQsIHJpZ2h0KSwgW25ldFsibWVkaWFuIl0udmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX3RvdGFsX2xpZnRfd2l0aF9ib251cyI6IHJlZHVjZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IG5wLm11bHRpcGx5KGxlZnQsIHJpZ2h0KSwgW25ldFsibWVkaWFuIl0udmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RmWyJzb2x1dGlvbl92YWx1ZSJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX21lZGlhbl9zcGVuZCI6IG5ldFsibWVkaWFuIl0udmFsdWVzLnJvdW5kKERFQ0lNQUxfUFJFQ0lTSU9OKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfbWVkaWFuX2xpZnRfZm9yX3BhaWRfc3BvdHMiOiByZWR1Y2UoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFtYmRhIGxlZnQsIHJpZ2h0OiBucC5tdWx0aXBseShsZWZ0LCByaWdodCksIFtuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX21lZGlhbl9saWZ0X3dpdGhfYm9udXMiOiByZWR1Y2UoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFtYmRhIGxlZnQsIHJpZ2h0OiBucC5tdWx0aXBseShsZWZ0LCByaWdodCksIFtuZXRbIm1lZGlhbiJdLnZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZnRfcGVyX2RvbGxhclsib3JpNTAiXS52YWx1ZXNdKS5yb3VuZChERUNJTUFMX1BSRUNJU0lPTikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgb3V0cHV0ID0gcmVkdWNlKAogICAgICAgICAgICBsYW1iZGEgbGVmdCwgcmlnaHQ6IHBkLm1lcmdlKGxlZnQsIHJpZ2h0LCBvbj1yZWNvbW1lbmRhdGlvbl9sZXZlbCwgaG93PSJvdXRlciIpLnNvcnRfdmFsdWVzKAogICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25fbGV2ZWwpLAogICAgICAgICAgICBbaGlzdG9yaWNhbF9wYWlkLCBjb21wYXJpc29uX2JvbnVzLCBib251c19saWZ0LCBvcHRpbWl6ZV9vdXRwdXRdKQogICAgICAgIG91dHB1dCA9IG91dHB1dC5hc3NpZ24oCiAgICAgICAgICAgIGNyZWF0aXZlPSJudWxsIiwKICAgICAgICAgICAgc2FfZGF0ZXRpbWU9c2FfZGF0ZXRpbWUuc3RyZnRpbWUoT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCksCiAgICAgICAgICAgIG9wdF9kYXRldGltZT1vcHRfZGF0ZXRpbWUuc3RyZnRpbWUoT1BUSU1JWkFUSU9OX0RBVEVUSU1FX0ZPUk1BVCksCiAgICAgICAgICAgIGhpc3RvcmljYWxfcmFuZ2Vfc3RhcnQ9bnAubWluKGhpc3RvcmljYWxfZGYud2Vla29mKSwKICAgICAgICAgICAgaGlzdG9yaWNhbF9yYW5nZV9lbmQ9bnAubWF4KGhpc3RvcmljYWxfZGYud2Vla29mKSArIHRpbWVkZWx0YShkYXlzPTcpCiAgICAgICAgKSAKCiAgICAgICAgb3V0cHV0ID0gb3V0cHV0W1sic3RhdGlvbiIsICJkYXlwYXJ0IiwgImxlbmd0aCIsICJjcmVhdGl2ZSIsICJoaXN0b3JpY2FsX3BhaWRfc3BvdHMiLCAiaGlzdG9yaWNhbF9ib251c19zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX3RvdGFsX3NwZW5kIiwgImhpc3RvcmljYWxfdG90YWxfbGlmdF9mb3JfcGFpZF9zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoaXN0b3JpY2FsX21lZGlhbl9zcGVuZCIsICJoaXN0b3JpY2FsX21lZGlhbl9saWZ0X2Zvcl9wYWlkX3Nwb3RzIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhpc3RvcmljYWxfbWVkaWFuX2xpZnRfd2l0aF9ib251cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfcGFpZF9zcG90cyIsICJvcHRpbWl6ZWRfdG90YWxfc3BlbmQiLCAib3B0aW1pemVkX3RvdGFsX2xpZnRfZm9yX3BhaWRfc3BvdHMiLAogICAgICAgICAgICAgICAgICAgICAgICAib3B0aW1pemVkX3RvdGFsX2xpZnRfd2l0aF9ib251cyIsICJvcHRpbWl6ZWRfbWVkaWFuX3NwZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9wdGltaXplZF9tZWRpYW5fbGlmdF9mb3JfcGFpZF9zcG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZWRfbWVkaWFuX2xpZnRfd2l0aF9ib251cyIsICJzYV9kYXRldGltZSIsICJvcHRfZGF0ZXRpbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGlzdG9yaWNhbF9yYW5nZV9zdGFydCIsICJoaXN0b3JpY2FsX3JhbmdlX2VuZCJdXQoKICAgICAgICBpbnB1dF9maWxlbmFtZSA9IGYib3V0cHV0X29wdGltaXphdGlvbl97c2NlbmFyaW99LmNzdiIgICAgICAgICAgCiAgICAgICAgIyBvdXRwdXQudG9fY3N2KHBhdGhfb3JfYnVmPWlucHV0X2ZpbGVuYW1lLCBpbmRleD1GYWxzZSwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgdXRpbHMudXBsb2FkX2ZpbGVfczNfb3B0aW1pemF0aW9uX25ldyggIGlucHV0X2ZpbGU9b3V0cHV0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9uYW1lPWNsaWVudGtleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrcGlfaW5kZXg9a3BpX2luZGV4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9c3RyKHN0YXJ0X2RhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXN0cihlbmRfZGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmFyaW89c2NlbmFyaW8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoPWJyYW5jaAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5lcnJvcihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfb3V0cHV0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIihvcHRpbWl6YXRpb24uZ2VuZXJhdGVfb3V0cHV0cykgRVJST1I6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCgoKZGVmIGZvcm1hdF9yZXN1bHQocmVzdWx0cyk6CiAgICB0cnk6CiAgICAgICAgY29sdW1ucyA9IFsKICAgICAgICAgICAgY29sWyJMYWJlbCJdCiAgICAgICAgICAgIGZvciBjb2wgaW4gcmVzdWx0c1siUmVzdWx0U2V0Il1bIlJlc3VsdFNldE1ldGFkYXRhIl1bIkNvbHVtbkluZm8iXQogICAgICAgIF0KICAgICAgICBmb3JtYXR0ZWRfcmVzdWx0cyA9IFtdCiAgICAgICAgZm9yIHJlc3VsdCBpbiByZXN1bHRzWyJSZXN1bHRTZXQiXVsiUm93cyJdWzA6XToKICAgICAgICAgICAgdmFsdWVzID0gW10KICAgICAgICAgICAgZm9yIGZpZWxkIGluIHJlc3VsdFsiRGF0YSJdOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQobGlzdChmaWVsZC52YWx1ZXMoKSlbMF0pCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmFwcGVuZChsaXN0KCIgIikpCgogICAgICAgICAgICBmb3JtYXR0ZWRfcmVzdWx0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICBkaWN0KHppcChjb2x1bW5zLCB2YWx1ZXMpKQogICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZF9yZXN1bHRzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiKG9wdGltaXphdGlvbi5mb3JtYXRfcmVzdWx0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiKG9wdGltaXphdGlvbi5mb3JtYXRfcmVzdWx0KSBFUlJPUjogTGluZToge2Zvcm1hdChleGNfaW5mbygpWy0xXS50Yl9saW5lbm8pfToge2V9IikKCgo=\\\\\\\",\\\\\\\"4849690\\\\\\\":\\\\\\\"aW1wb3J0IGJvdG8zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKIyBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBzeXMgaW1wb3J0IGV4Y19pbmZvCmltcG9ydCBjb25uZWN0aW9uc19hd3MKZnJvbSBiYXNlX2xvZ2dlciBpbXBvcnQgbG9nZ2VyCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IHJhbmRvbQppbXBvcnQgdXRpbHMKaW1wb3J0IHBlcmZvcm1hbmNlCmltcG9ydCBwaXBlbGluZV9oZWxwZXJzCmZyb20gcmFuZG9tIGltcG9ydCBzYW1wbGUKaW1wb3J0IHJlCmltcG9ydCB1dWlkCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgd2FybmluZ3MKZnJvbSBza2xlYXJuLm1vZGVsX3NlbGVjdGlvbiBpbXBvcnQgdHJhaW5fdGVzdF9zcGxpdApmcm9tIHNrbGVhcm4ubWV0cmljcyBpbXBvcnQgbWVhbl9zcXVhcmVkX2Vycm9yCmltcG9ydCB4Z2Jvb3N0IGFzIHhnYgojZnJvbSBza2xlYXJuLm1ldHJpY3MgaW1wb3J0IG1lYW5fYWJzb2x1dGVfcGVyY2VudGFnZV9lcnJvcgpmcm9tIHNjaXB5Lm9wdGltaXplIGltcG9ydCBsc3FfbGluZWFyCmZyb20gc2tsZWFybiBpbXBvcnQgbGluZWFyX21vZGVsCgppbXBvcnQgY29ubmVjdGlvbnNfYXdzCmltcG9ydCBjb25maWcKd2FybmluZ3MuZmlsdGVyd2FybmluZ3MoImlnbm9yZSIpCgppbml0aWFsX3RpbWUgPSBkYXRldGltZS5ub3coKQoKIyBsb2dnZXIuaW5mbygpCnJhbmRvbS5zZWVkKDIwKQoKCmRlZiBwYXJzZV90aW1lc3RhbXAodGltZV9zdGFtcCk6CiAgICB0cnk6CiAgICAgICAgaWYgIi4iIGluIHRpbWVfc3RhbXA6CiAgICAgICAgICAgIHRpbWVfc3RhbXAgPSB0aW1lX3N0YW1wLnNwbGl0KCIuIilbMF0KICAgICAgICBpZiAiLyIgaW4gdGltZV9zdGFtcDoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHN0cihkYXRldGltZS5zdHJwdGltZSh0aW1lX3N0YW1wLCAnJW0vJWQvJVkgJUg6JU0nKS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKSkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcmV0dXJuIHN0cihkYXRldGltZS5zdHJwdGltZSh0aW1lX3N0YW1wLCAnJW0vJWQvJXkgJUg6JU0nKS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc3RyKGRhdGV0aW1lLnN0cnB0aW1lKHRpbWVfc3RhbXAsICclWS0lbS0lZCAlSDolTTolUycpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dlci5pbmZvKGUpCiAgICAgICAgcmV0dXJuICIiCgpkZWYgY2xlYW5fZmxvYXQoZmxvYXRfc3RyaW5nKToKICAgIHRyeToKICAgICAgICBpZiBmbG9hdF9zdHJpbmcubG93ZXIoKSA9PSAibmFuIiBvciBmbG9hdF9zdHJpbmcubG93ZXIoKSA9PSAiIiBvciBmbG9hdF9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIwIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzdHIoZmxvYXQoZmxvYXRfc3RyaW5nKSkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gIjAiCgoKZGVmIGNsZWFuX2ludChpbnRfc3RyaW5nKToKICAgIHRyeToKICAgICAgICBpZiBpbnRfc3RyaW5nLmxvd2VyKCkgPT0gIm5hbiIgb3IgaW50X3N0cmluZy5sb3dlcigpID09ICIiIG9yIGludF9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIwIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzdHIoaW50KGludF9zdHJpbmcuc3BsaXQoIi4iKVswXSkpCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICIwIgoKCmRlZiBjbGVhbl9zdHJpbmcoc3RyX3N0cmluZyk6CiAgICB0cnk6CiAgICAgICAgaWYgc3RyX3N0cmluZyA9PSAibmFuIiBvciBzdHJfc3RyaW5nID09ICIiIG9yIHN0cl9zdHJpbmcgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuICIiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdG1wID0gc3RyKHN0cl9zdHJpbmcuc3RyaXAoJ1wiJykpCiAgICAgICAgICAgIHJldHVybiBmInt0bXB9IgogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiIgoKCmRlZiBydW4oY2xpZW50a2V5LCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwga3BpX2luZGV4LCBsb29rYmVmb3JlX21pbnMsIGxvb2thZnRlcl9taW5zLCBpbmNsdWRlX2ltcHJlc3Npb25zLCBpbmNsdWRlX2ZyZWVzcG90cywgYnJhbmNoKToKICAgIAogICAgCiAgICB0cnk6CiAgICAgICAgaWYgY2xpZW50a2V5ID09ICdiYmInOgogICAgICAgICAgICBjbGllbnRfbmV3ID0gJ292ZXJzdG9jaycKICAgICAgICBlbGlmIGNsaWVudGtleSA9PSAncmV4bWQnIG9yIGNsaWVudGtleSA9PSAnc2luZ2xlY2FyZSc6CiAgICAgICAgICAgIGNsaWVudF9uZXcgPSAncnhzZW5zZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbGllbnRfbmV3ID0gY2xpZW50a2V5CgogICAgICAgIGltcG9ydCB4Z2Jvb3N0IGFzIHhnYgoKICAgICAgICBsb2dnZXIuaW5mbygiWEdCT09TVCBWRVJTSU9OIikKICAgICAgICBsb2dnZXIuaW5mbyh4Z2IuX192ZXJzaW9uX18pCiAgICAgICAgY29ubiA9IGNvbmZpZy5SRURTSElGVF9DT05OCgogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBTdGFydGluZyBQaXBlbGluZScpCgogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgMDogR0VUIENMSUVOVCBWQVJJQUJMRVMgRlJPTSBSRURTSElGVAogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIEdldHRpbmcgQ2xpZW50IFZhcmlhYmxlcyBmcm9tIFJlZHNoaWZ0JykKICAgICAgICBxdWVyeSA9IGYiU0VMRUNUIE5WTChtb19jbGllbnRfY29kZSwnJykgYXMgbW9fY2xpZW50X2NvZGUsIE5WTChzb3VyY2VfdHZfc3BvdCwnJykgYXMgc291cmNlX3R2X3Nwb3QsIE5WTChjb3VudHJ5X2NvZGUsJycpIGFzIGNvdW50cnlfY29kZSBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzIFdIRVJFIExPV0VSKGNsaWVudGtleV9tYXApID0gJ3tjbGllbnRfbmV3Lmxvd2VyKCl9JyBBTkQgZW5hYmxlZF90dm8gPSAndHJ1ZSciCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgcXVlcnlfcmVzdWx0cyA9IGN1cnNvci5mZXRjaGFsbCgpCgogICAgICAgIGlmIGxlbihxdWVyeV9yZXN1bHRzKSA9PSAwOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiV0FSTklORzogTm8gcmVjb3JkcyByZXR1cm5lZCBmcm9tIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJXQVJOSU5HOiBObyByZWNvcmRzIHJldHVybmVkIGZyb20gcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5jbGllbnRfbWFwcGluZ3MuICBQaXBlbGluZSBhYm9ydGVkIikKCgogICAgICAgIG1vX2NsaWVudF9jb2RlID0gcXVlcnlfcmVzdWx0c1swXVswXQogICAgICAgICMgc3BvdGRhdGFfc291cmNlID0gcXVlcnlfcmVzdWx0c1swXVsxXQogICAgICAgIHNwb3RkYXRhX3NvdXJjZSA9IGYie2NvbmZpZy5BVEhFTkFfREFUQUJBU0V9Lntjb25maWcuU1BPVERBVEFfU09VUkNFfSIKICAgICAgICBjb3VudHJ5X2NvZGUgPSBxdWVyeV9yZXN1bHRzWzBdWzJdCgogICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICBsb2dnZXIuaW5mbyhmIm1vX2NsaWVudF9jb2RlOiB7bW9fY2xpZW50X2NvZGV9IikKICAgICAgICBsb2dnZXIuaW5mbyhmInNwb3RkYXRhX3NvdXJjZToge3Nwb3RkYXRhX3NvdXJjZX0iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiY291bnRyeV9jb2RlOiB7Y291bnRyeV9jb2RlfSIpCiAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoKCiAgICAgICAgIyBDaGVjayBmb3IgbWlzc2luZyBjbGllbnQgdmFyaWFibGVzCiAgICAgICAgaWYgbW9fY2xpZW50X2NvZGUgPT0gJycgb3Igc3BvdGRhdGFfc291cmNlID09ICcnIG9yIGNvdW50cnlfY29kZSA9PSAnJzoKICAgICAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIEVSUk9SOiBNaXNzaW5nIG9uZSBvciBtb3JlIENsaWVudCB2YXJpYWJsZXMgKG1vX2NsaWVudF9jb2RlLCBzcG90ZGF0YV9zb3VyY2UsIGNvdW50cnlfY29kZSknKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignKHBpcGVsaW5lLnJ1bikgRVJST1I6IE1pc3Npbmcgb25lIG9yIG1vcmUgQ2xpZW50IHZhcmlhYmxlcyAobW9fY2xpZW50X2NvZGUsIHNwb3RkYXRhX3NvdXJjZSwgY291bnRyeV9jb2RlKScpCgogICAgICAgIGlmIGNsaWVudGtleSA9PSAncmV4bWQnOgogICAgICAgICAgICBtb19jbGllbnRfY29kZV9uZXcgPSAnUlhNRCcKICAgICAgICBlbHNlOgogICAgICAgICAgICBtb19jbGllbnRfY29kZV9uZXcgPSBtb19jbGllbnRfY29kZQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgU1RFUCAxOiBHRVQgS1BJIERFVEFJTFMKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBHZXR0aW5nIEtQSSBEYXRhIGZyb20gUmVkc2hpZnQnKQogICAgICAgIHF1ZXJ5ID0gZiJTRUxFQ1QgZGlzcGxheV9uYW1lX21hcCwgdHZvX2twaV92aWV3LCB0dm9fa3BpX21hcmtldCBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3Mua3BpX21hcHBpbmdzIFdIRVJFIExPV0VSKGNsaWVudGtleV9tYXApID0gJ3tjbGllbnRfbmV3Lmxvd2VyKCl9JyBBTkQgdHZvX2twaV9pbmRleCA9IHtrcGlfaW5kZXh9IEFORCBkaXNwbGF5X3R2ID0gJ3RydWUnIgogICAgICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHF1ZXJ5X3Jlc3VsdHMgPSBjdXJzb3IuZmV0Y2hhbGwoKQogICAgICAgIGtwaV9kZXNjcmlwdGlvbiA9IHF1ZXJ5X3Jlc3VsdHNbMF1bMF0KICAgICAgICBwaXhlbGRhdGFfc291cmNlID0gcXVlcnlfcmVzdWx0c1swXVsxXQogICAgICAgIG1hcmtldCA9IHF1ZXJ5X3Jlc3VsdHNbMF1bMl0KCiAgICAgICAgaWYga3BpX2Rlc2NyaXB0aW9uIGlzIE5vbmUgb3Igc3RyKGtwaV9kZXNjcmlwdGlvbikgPT0gIiI6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3Iga3BpX2Rlc2NyaXB0aW9uLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3Iga3BpX2Rlc2NyaXB0aW9uLiAgUGlwZWxpbmUgYWJvcnRlZCIpCiAgICAgICAgZWxpZiBwaXhlbGRhdGFfc291cmNlIGlzIE5vbmUgb3Igc3RyKHBpeGVsZGF0YV9zb3VyY2UpID09ICIiOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiV0FSTklORzogTm8gdmFsdWUgcmV0dXJuZWQgZm9yIHR2b19rcGlfdmlldy4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAgICMgc3lzLmV4aXQoMSkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiV0FSTklORzogTm8gdmFsdWUgcmV0dXJuZWQgZm9yIHR2b19rcGlfdmlldy4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgIGVsaWYgbWFya2V0IGlzIE5vbmUgb3Igc3RyKG1hcmtldCkgPT0gIiI6CiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJXQVJOSU5HOiBObyB2YWx1ZSByZXR1cm5lZCBmb3IgdHZvX2twaV9tYXJrZXQuICBQaXBlbGluZSBhYm9ydGVkIikKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICAjIHN5cy5leGl0KDEpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIldBUk5JTkc6IE5vIHZhbHVlIHJldHVybmVkIGZvciB0dm9fa3BpX21hcmtldC4gIFBpcGVsaW5lIGFib3J0ZWQiKQogICAgICAgICAgICAKICAgICAgICBsb2dnZXIuaW5mbygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgbG9nZ2VyLmluZm8oZiJrcGlfaW5kZXg6IHtrcGlfaW5kZXh9IikKICAgICAgICBsb2dnZXIuaW5mbyhmImtwaV9kZXNjcmlwdGlvbjoge2twaV9kZXNjcmlwdGlvbn0iKQogICAgICAgIGxvZ2dlci5pbmZvKGYicGl4ZWxkYXRhX3NvdXJjZToge3BpeGVsZGF0YV9zb3VyY2V9IikKICAgICAgICBsb2dnZXIuaW5mbyhmIm1hcmtldDoge21hcmtldH0iKQogICAgICAgIGxvZ2dlci5pbmZvKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICAKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgU1RFUCAyOiBHRVQgQ1JFQVRJVkVTIERFVEFJTFMKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBHZXR0aW5nIENyZWF0aXZlIERhdGEgZnJvbSBSZWRzaGlmdCcpCiAgICAgICAgc3FsX3F1ZXJ5ID0gZiJTRUxFQ1QgY3JlYXRpdmVfaXNjaV9tYXAgYXMgaXNjaV8yMCwgY3JlYXRpdmVfbGVuZ3RoX21hcCBhcyBsZW5ndGgsIGNyZWF0aXZlX3RpdGxlX21hcCBhcyB0aXRsZSBGUk9NIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuaXNjaV9tYXBwaW5ncyBXSEVSRSBMT1dFUihjbGllbnRrZXlfbWFwKSA9ICd7Y2xpZW50X25ldy5sb3dlcigpfSciCiAgICAgICAgY3JlYXRpdmVfZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShzcWxfcXVlcnksIGNvbj1jb25uKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGNyZWF0aXZlX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMl9jcmVhdGl2ZV9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBTVEVQIDM6IEdFVCBTUE9UIERBVEEKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGxvZ2dlci5pbmZvKGYnKHBpcGVsaW5lLnJ1bikgR2V0dGluZyBTcG90IGRhdGEgZnJvbSBhdGhlbmE6IHtzcG90ZGF0YV9zb3VyY2V9JykKICAgICAgICBpZiBpbmNsdWRlX2ZyZWVzcG90cyBpcyBUcnVlOgogICAgICAgICAgICBmcmVlX3Nwb3RfY2xhdXNlID0gIiIKICAgICAgICBlbHNlOgogICAgICAgICAgICBmcmVlX3Nwb3RfY2xhdXNlID0gIkFORCBuZXRfcmF0ZSA+IDAiCgogICAgICAgIGlmIG1hcmtldC5sb3dlcigpID09ICJuYXRpb25hbCI6CiAgICAgICAgICAgIG1hcmtldF9jbGF1c2UgPSBmIiBBTkQgKExPV0VSKG1hcmtldCkgTElLRSAnJW5hdGlvbmFsJScgT1IgTE9XRVIobWFya2V0KSBMSUtFICclc3luZGljYXRpb24lJykgIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1hcmtldF9jbGF1c2UgPSBmIiBBTkQgTE9XRVIobWFya2V0KSA9ICd7bWFya2V0Lmxvd2VyKCl9JyAiCgogICAgICAgIHNxbF9xdWVyeSA9IGYiIiIKICAgICAgICAgICAgU0VMRUNUIERJU1RJTkNUCiAgICAgICAgICAgICAgICBzdGF0aW9uX25hbWUgQVMgc3RhdGlvbiwgCiAgICAgICAgICAgICAgICBicm9hZGNhc3RfZGF0ZSBBUyBjYWxlbmRhcmRhdGUsCiAgICAgICAgICAgICAgICBEQVRFX0ZPUk1BVChDQVNUKHN0YXJ0X2RhdGVfdGltZSBBUyBUSU1FU1RBTVApLCAnJVktJW0tJWQgJUg6JWk6JXMnKSBBUyBzdGFydGRhdGV0aW1lLAogICAgICAgICAgICAgICAgREFURV9GT1JNQVQoQ0FTVChzdGFydF9kYXRlX3RpbWUgQVMgVElNRVNUQU1QKSwgJyVZLSVtLSVkICVIOiVpOiVzJykgQVMgc3RhcnRkYXRldGltZXJvdW5kZWQsCiAgICAgICAgICAgICAgICBEQVRFX0ZPUk1BVChEQVRFX1BBUlNFKHN0b3BfZGF0ZV90aW1lLCAnJW0vJWQvJVkgJUg6JWk6JXMnKSwgJyVZLSVtLSVkICVIOiVpOiVzJykgQVMgc3RvcGRhdGV0aW1lLAogICAgICAgICAgICAgICAgQ0FTRSBXSEVOIGlzY2lfMjAgPSAnJyBUSEVOICdNaXNzaW5nJwogICAgICAgICAgICAgICAgICAgIFdIRU4gaXNjaV8yMCBJUyBOVUxMIFRIRU4gJ01pc3NpbmcnCiAgICAgICAgICAgICAgICAgICAgRUxTRSBpc2NpXzIwCiAgICAgICAgICAgICAgICAgICAgRU5EIEFTIGlzY2lfMjAsCiAgICAgICAgICAgICAgICBsZW5ndGggQVMgbGVuZ3RoLAogICAgICAgICAgICAgICAgZGF5cGFydCBBUyBkYXlwYXJ0LAogICAgICAgICAgICAgICAgbmV0X3JhdGUgQVMgbmV0X3JhdGUsCiAgICAgICAgICAgICAgICBpbXByZXNzaW9ucyBBUyBpbXByZXNzaW9ucywKICAgICAgICAgICAgICAgIHNlY29uZGFyeV9pbXByZXNzaW9ucyBBUyBzZWNvbmRhcnlfaW1wcmVzc2lvbnMsCiAgICAgICAgICAgICAgICBwcm9kdWN0X25hbWUgQVMgcHJvZHVjdF9uYW1lLAogICAgICAgICAgICAgICAgcHJvZ3JhbSBBUyBwcm9ncmFtLAogICAgICAgICAgICAgICAgYnV5X2NvZGUgQVMgYnV5X2NvZGVzCiAgICAgICAgICAgICAgICBGUk9NIChTRUxFQ1QgRElTVElOQ1QgKiBGUk9NIHtzcG90ZGF0YV9zb3VyY2V9KQogICAgICAgICAgICAgICAgV0hFUkUgVFJJTShCT1RIICcgJyBGUk9NIG1vX2NsaWVudF9jb2RlKSA9ICd7bW9fY2xpZW50X2NvZGVfbmV3fScKICAgICAgICAgICAgICAgICAgICBBTkQgTE9XRVIoVFJJTShCT1RIICcgJyBGUk9NIGFkdmVydGlzZXIpKSA9ICd7Y2xpZW50a2V5fScKICAgICAgICAgICAgICAgICAgICBBTkQgbWVkaWFfdHlwZSA9ICdUVicKICAgICAgICAgICAgICAgICAgICB7bWFya2V0X2NsYXVzZX0KICAgICAgICAgICAgICAgICAgICBBTkQgYnJvYWRjYXN0X2RhdGUgQkVUV0VFTiBEQVRFKENBU1QoJ3tzdHIoc3RhcnRfZGF0ZSl9JyBBUyBUSU1FU1RBTVApKSBBTkQgREFURShDQVNUKCd7c3RyKGVuZF9kYXRlKX0nIEFTIFRJTUVTVEFNUCkpCiAgICAgICAgICAgICAgICAgICAge2ZyZWVfc3BvdF9jbGF1c2V9CiAgICAgICAgICAgICAgICAgICAgQU5EIHByb2dyYW0gIT0gJ1BSRScKICAgICAgICAgICAgICAgICAgICBBTkQgTE9XRVIoc3RhdHVzKSAhPSAncHJlbG9nJwogICAgICAgICAgICAgICAgICAgIEFORCB0YXJnZXRfZGVtbyBJUyBOT1QgTlVMTAogICAgICAgICAgICAgICAgT1JERVIgQlkgc3RhcnRkYXRldGltZSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICIiIgogICAgICAgIHNwb3RfZGYgPSBjb25uZWN0aW9uc19hd3MucnVuX2F0aGVuYV9xdWVyeShzcWxfcXVlcnkpCiAgICAgICAgc3BvdF9kZlsnc3RhcnRkYXRldGltZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdF9kZlsnc3RhcnRkYXRldGltZSddKQogICAgICAgIHNwb3RfZGZbJ3N0YXJ0ZGF0ZXRpbWVyb3VuZGVkJ10gPSBwZC50b19kYXRldGltZShzcG90X2RmWydzdGFydGRhdGV0aW1lcm91bmRlZCddKQogICAgICAgIHNwb3RfZGZbJ3N0b3BkYXRldGltZSddID0gcGQudG9fZGF0ZXRpbWUoc3BvdF9kZlsnc3RvcGRhdGV0aW1lJ10pCiAgICAgICAgc3BvdF9kZiA9IHNwb3RfZGYuc29ydF92YWx1ZXMoYnk9J3N0YXJ0ZGF0ZXRpbWUnKQogICAgICAgIAogICAgICAgIHNwb3RfZGYuZHJvcF9kdXBsaWNhdGVzKGlucGxhY2UgPSBUcnVlKQogICAgICAgIHNwb3RfZGZbJ2luZGV4X2lkJ10gPSByYW5nZSgxLCBzcG90X2RmLnNoYXBlWzBdICsgMSkKCgogICAgICAgIHNwb3RfZGYgPSBwaXBlbGluZV9oZWxwZXJzLmZpeF9kYXlwYXJ0KHNwb3RfZGYpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgc3BvdF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzNfc3BvdF9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCgoKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNDogR0VUIEtQSSBFVkVOVCBEQVRBCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBsb2dnZXIuaW5mbyhmJyhwaXBlbGluZS5ydW4pIEdldHRpbmcgS1BJIEV2ZW50IERhdGEgZnJvbSBSZWRzaGlmdDoge3BpeGVsZGF0YV9zb3VyY2V9JykKCiAgICAgICAgc3FsX3F1ZXJ5ID0gZiIiIgogICAgICAgICAgICBTRUxFQ1QgZXZlbnRfZGF0ZSBhcyBkYXksIAogICAgICAgICAgICAgICAgZXZlbnRfdGltZXN0YW1wOjpkYXRldGltZSBBUyBtaW51dGUsIAogICAgICAgICAgICAgICAgZXh0cmFjdChob3VyIGZyb20gZXZlbnRfdGltZXN0YW1wKSBBUyBob3VyLCAKICAgICAgICAgICAgICAgIFNVTShrcGlfcmVzcG9uc2VzKSBhcyBrcGksCiAgICAgICAgICAgICAgICBrcGlfZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgIEZST00ge3BpeGVsZGF0YV9zb3VyY2V9CiAgICAgICAgICAgICAgICBXSEVSRSBldmVudF9kYXRlIEJFVFdFRU4gdG9fZGF0ZSgne3N0cihzdGFydF9kYXRlKX0nLCdZWVlZLU1NLUREJykgQU5EIHRvX2RhdGUoJ3tzdHIoZW5kX2RhdGUpfScsJ1lZWVktTU0tREQnKQogICAgICAgICAgICAgICAgR1JPVVAgQlkgZXZlbnRfZGF0ZSwgZXZlbnRfdGltZXN0YW1wLCBrcGlfZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgIE9SREVSIEJZIG1pbnV0ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAiIiIKICAgICAgICBrcGlfYmVmb3JlX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShzcWxfcXVlcnksIGNvbj1jb25uKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGtwaV9iZWZvcmVfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzNfa3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAga3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydkYXknXSA9IHBkLnRvX2RhdGV0aW1lKGtwaV9iZWZvcmVfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnZGF5J10sIGZvcm1hdD0nJVktJW0tJWQnKQogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0gcGlwZWxpbmVfaGVscGVycy5hZGRfbWlzc2luZ19kYXRldGltZXNfdG9fa3BpX2RhdGEoa3BpX2JlZm9yZV9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmKQogICAgICAgIAogICAgICAgICMjIEdldCByaWQgb2YgbWlzc2luZyBkZXNjcmlwdGlvbiByb3dzCiAgICAgICAga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlt+a3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2twaV9kZXNjcmlwdGlvbiddLmlzbmEoKV0KICAgICAgICBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZiA9IGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmW2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydrcGlfZGVzY3JpcHRpb24nXSE9ICcnXQogICAgCiAgICAgICAgCiAgICAgICAgI0dldCBIb3VyIGFuZCBNaW4gQ29sdW1ucwogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydob3VyJ10gPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnbWludXRlJ10uZHQuaG91cgogICAgICAgIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydtaW4nXSA9IGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmWydtaW51dGUnXS5kdC5taW51dGUKCiAgICAgICAga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2hvdXJfbWluJ10gPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnaG91ciddICsgIHJvdW5kKChrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZlsnbWluJ10vNjApLDMpCgogICAgICAgICMjIyMjIyMjIyMjIyMjICBnZXR0aW5nIGxhc3QgNyBkYXkgQVIKICAgICAgICAjIGJ5X2RheSA9IHBkLkRhdGFGcmFtZShrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMUQnLGtleT0nbWludXRlJykpWydrcGknXS5zdW0oKSkKICAgICAgICAjIGJ5X2RheS5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICAgICAgIyBieV9kYXlbJ21pbnV0ZSddID0gcGQudG9fZGF0ZXRpbWUoYnlfZGF5WydtaW51dGUnXSkKICAgICAgICAjIGJ5X2RheVsna3BpX2xhc3RfNyddPWJ5X2RheVsna3BpJ10ucm9sbGluZyg3KS5zdW0oKQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddID0gcGQudG9fZGF0ZXRpbWUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddKQogICAgICAgICMgZmlyc3RfN19kYXlzID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ21pbnV0ZSddLmlsb2NbLTFdIC0gdGltZWRlbHRhKGRheXM9MTc3KQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID0gbnAud2hlcmUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddIDwgZmlyc3RfN19kYXlzLDEsMCkKICAgICAgICAjIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZba3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID09MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5yZXNldF9pbmRleChkcm9wPVRydWUpCgogICAgICAgIAogICAgICMjIyMjIyMjIyMjIyMjIEFSIGJ5IGxhc3QgMiAzMCBtaW4gcGVyaW9kcwogICAgICAgIGJ5X2RheSA9IHBkLkRhdGFGcmFtZShrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5ncm91cGJ5KHBkLkdyb3VwZXIoZnJlcT0nMzBUJyxrZXk9J21pbnV0ZScpKVsna3BpJ10uc3VtKCkpCiAgICAgICAgYnlfZGF5LnJlc2V0X2luZGV4KGlucGxhY2U9VHJ1ZSkKICAgICAgICBieV9kYXlbJ21pbnV0ZSddID0gcGQudG9fZGF0ZXRpbWUoYnlfZGF5WydtaW51dGUnXSkKICAgICAgICBhcl94PWxpc3QocmFuZ2UoMSwzKSkKCiAgICAgICAgZm9yIGkgaW4gYXJfeDoKICAgICAgICAgICAgYnlfZGF5WyczMF9taW5fc2hpZnRfJyArIHN0cihpKV09YnlfZGF5WydrcGknXS5zaGlmdChpKQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddID0gcGQudG9fZGF0ZXRpbWUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddKQogICAgICAgICMgZmlyc3RfN19kYXlzID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ21pbnV0ZSddLmlsb2NbLTFdIC0gdGltZWRlbHRhKGRheXM9MTc3KQogICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID0gbnAud2hlcmUoa3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ2RheSddIDwgZmlyc3RfN19kYXlzLDEsMCkKICAgICAgICAjIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZba3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGZbJ3JlbW92ZSddID09MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5yZXNldF9pbmRleChkcm9wPVRydWUpCiAgICAgICAgCiAgICAgICAgI3NhdmluZyAzMCBtaW51dGUgcGVyaW9kIChvciBsYXN0IGRheSkgQVIgZGF0YQogICAgICAgICMgYnlfZGF5LnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfNF9CWV9EQVkuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKCiAgICAgICAgI2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmID0ga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYubWVyZ2UoYnlfZGF5W1snbWludXRlJywna3BpX2xhc3RfNyddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdtaW51dGUnLGhvdz0nbGVmdCcpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMga3BpX2FmdGVyX2FkZGluZ19taXNzaW5nX21pbnV0ZXNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z180X2twaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgCiAgICAgICAgCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMjIyMjIyMjIyMjIyMjIE5ldyBTZWN0aW9uICMjIyMjIyMjIyMjIyMjIyMjIyAgIAoKICAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNTogQ0FMQ1VMQVRFIFBSRS9QT1NUIFdJTkRPVyBTVEFUUwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIENhbGN1bGF0aW5nIFByZS9Qb3N0IFdpbmRvdyBTdGF0cyIpCiAgICAgICAgd2luZG93c3RhdHNfZGYgPSBwZXJmb3JtYW5jZS5pdGVyYXRlX3dpbmRvd3N0YXRzX2NhbGN1bGF0aW9uKHNwb3RfZGYsIGtwaV9hZnRlcl9hZGRpbmdfbWlzc2luZ19taW51dGVzX2RmLCBsb29rYmVmb3JlX21pbnMqNjAsIGxvb2thZnRlcl9taW5zKjYwKQoKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIHdpbmRvd3N0YXRzX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfNV9jYWxjdWxhdGlvbi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFNURVAgNjogTUVSR0UgU1BPVFMgQU5EIFdJTkRPV1NUQVRTCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgTWVyZ2luZyBTcG90IERhdGEgYW5kIFdpbmRvdyBTdGF0cyBEYXRhIikKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiA9IHBpcGVsaW5lX2hlbHBlcnMubWVyZ2Vfc3BvdHNfYW5kX3dpbmRvd3N0YXRzKHNwb3RfZGYsIHdpbmRvd3N0YXRzX2RmKQogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddID0gbnAud2hlcmUoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddLmlzbmEoKSwwLHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydzZWNvbmRhcnlfaW1wcmVzc2lvbnMnXSkKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydidXlfY29kZXMnXSA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydidXlfY29kZXMnXS5maWxsbmEoJ2J1eWNvZGVzbm9uZScpCgogICAgICAgICMgd3JpdGUgZGVidWcgZmlsZQogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z182X3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgoKCgogICAgICAgIAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgNzogR0VUIFRJTUVTIFRPIEVYQ0xVREUgQU5EIDMwIE1JTiBQRVJJT0RTIFRPIEVYQ0xVREUKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIEdldCB0aW1lcyB0byBleGNsdWRlIGFuZCAzMCBtaW4gcGVyaW9kcyB0byBleGNsdWRlIikKICAgICAgICB0aW1lc193X3Nwb3RzID0gcGlwZWxpbmVfaGVscGVycy50aW1lc190b19leGNsdWRlKHNwb3RfZGYpCiAgCiAgICAgICAgdGhpcnR5X21pbl9yZW1vdmVzX2xpc3QgPSBwaXBlbGluZV9oZWxwZXJzLnRoaXJ0eV9taW5fdG9fcmVtb3ZlKHRpbWVzX3dfc3BvdHMpCgogICAgICAgIG92ZXJsYXBfZGYgPSBwZC5EYXRhRnJhbWUodGltZXNfd19zcG90c1sndGltZV90b19leGNsdWRlJ10udmFsdWVfY291bnRzKCkuaW5kZXgsIGNvbHVtbnMgPSBbJ3RpbWVfdG9fZXhjbHVkZSddKQogICAgICAgIG92ZXJsYXBfZGZbJ2NvdW50J10gPSAgb3ZlcmxhcF9kZlsndGltZV90b19leGNsdWRlJ10udmFsdWVfY291bnRzKCkudmFsdWVzCgogICAgICAgIHRpbWVzX3dfc3BvdHMgPSB0aW1lc193X3Nwb3RzLm1lcmdlKG92ZXJsYXBfZGYsIGxlZnRfb24gPSAndGltZV90b19leGNsdWRlJywgIHJpZ2h0X29uID0gJ3RpbWVfdG9fZXhjbHVkZScsIGhvdyA9ICdsZWZ0JykKCiAgICAgICAgI3JvbGwgdXAgdG8gc3RhcnRfZGF0ZV90aW1lCgogICAgICAgIHNwb3RfY291bnRfcm9sbGVkX3VwID0gcGQuRGF0YUZyYW1lKHRpbWVzX3dfc3BvdHMuZ3JvdXBieSgnc3RhcnRfdGltZScpWydjb3VudCddLnN1bSgpKQoKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLm1lcmdlKHNwb3RfY291bnRfcm9sbGVkX3VwLCBsZWZ0X29uID0nc3RhcnRkYXRldGltZScsIHJpZ2h0X29uID0gJ3N0YXJ0X3RpbWUnLCBob3cgPSAnbGVmdCcpCiAgICAgICAgCiAgICAgICAgIyB0aW1lc193X3Nwb3RzLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfN190aW1lc190b19leGNsdWRlLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCgogICAgICAgICMgb3ZlcmxhcF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzdfb3ZlcmxhcF9kZi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAgCgogICAgICAgICMgc3BvdF9jb3VudF9yb2xsZWRfdXAudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z183X3JvbGxlZF91cC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAgCiAgICAgICAgIyBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzdfc3BvdF9wbHVzX2NvdW50LmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpICAKCgojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgODogUmVtb3ZlIHNwb3QgdGltZXMgZnJvbSBiYXNlbGluZSBzZXQKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIFJlbW92ZSBzcG90IHRpbWVzIGZyb20gYmFzZWxpbmUgc2V0IikKICAgICAgICBtZXJnZWQgPSBrcGlfYWZ0ZXJfYWRkaW5nX21pc3NpbmdfbWludXRlc19kZi5tZXJnZSh0aW1lc193X3Nwb3RzLCBsZWZ0X29uID0gJ21pbnV0ZScsIHJpZ2h0X29uID0gJ3RpbWVfdG9fZXhjbHVkZScsIGhvdyA9ICdsZWZ0JyApCiAgICAgICAgIyBtZXJnZWQudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z184X21lcmdlZC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgIGJhc2VsaW5lX2J5X21pbnV0ZSA9IG1lcmdlZFttZXJnZWRbJ3dfc3BvdCddIT0gMV0gICAgICAgIAogICAgICAgICMgYmFzZWxpbmVfYnlfbWludXRlLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfOF9iYXNlbGluZV9ieV9taW51dGUuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiMgIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAjICAgICAgICAjIFNURVAgOTogR2V0IEF2ZyBhbmQgU3RkIGJ5IG1pbnV0ZSwgcmVtb3ZlZCBvdXRzaWRlIG9mIDIgc3RkZGV2cwojICMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBHZXQgQXZncyBhbmQgU3RkRGV2cyBieSBtaW51dGUsIHJlbW92ZSBvdXRzaWRlIDIgc3RkZGV2cyIpCiAgICAgICAgCiAgICAgICAgYXZlcmFnZXMgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLm1lYW4oKSkKICAgICAgICBzdGQgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLnN0ZCgpKQogICAgICAgIAogICAgICAgIHN1bW1hcnkgPSBhdmVyYWdlcy5tZXJnZShzdGQsbGVmdF9vbj0naG91cl9taW4nLCByaWdodF9vbiA9ICdob3VyX21pbicpCiAgICAgICAgc3VtbWFyeS5jb2x1bW5zID0gWydhdmVyYWdlJywnc3RkX2RldiddCgojICAgICAgICAgc3VtbWFyeVsnMl9zdGRfdXAnXSA9IHN1bW1hcnlbJ2F2ZXJhZ2UnXSArIHN1bW1hcnlbJ3N0ZF9kZXYnXSAqIDIKIyAgICAgICAgIHN1bW1hcnlbJzJfc3RkX2Rvd24nXSA9IHN1bW1hcnlbJ2F2ZXJhZ2UnXSAtIHN1bW1hcnlbJ3N0ZF9kZXYnXSAqIDIKCiMgICAgICAgICBzdW1tYXJ5WyczX3N0ZF91cCddID0gc3VtbWFyeVsnYXZlcmFnZSddICsgc3VtbWFyeVsnc3RkX2RldiddICogMwojICAgICAgICAgc3VtbWFyeVsnM19zdGRfZG93biddID0gc3VtbWFyeVsnYXZlcmFnZSddIC0gc3VtbWFyeVsnc3RkX2RldiddICogMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBiYXNlbGluZV9ieV9taW51dGUgPSBiYXNlbGluZV9ieV9taW51dGUubWVyZ2Uoc3VtbWFyeSwgbGVmdF9vbj0gJ2hvdXJfbWluJywgcmlnaHRfaW5kZXg9VHJ1ZSwgaG93ID0gJ2xlZnQnKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCA9IGJhc2VsaW5lX2J5X21pbnV0ZQojICAgICAgICBiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCA9IGJhc2VsaW5lX2J5X21pbnV0ZVsoYmFzZWxpbmVfYnlfbWludXRlWydrcGknXTwgYmFzZWxpbmVfYnlfbWludXRlWycyX3N0ZF91cCddKSAmIChiYXNlbGluZV9ieV9taW51dGVbJ2twaSddID4gYmFzZWxpbmVfYnlfbWludXRlWycyX3N0ZF9kb3duJ10pXQoKIyAgICAgICAgYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z185X2Jhc2VsaW5lX2J5X21pbnV0ZV9jbGVhbmVkLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgCiAjICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYmVmb3JlIGJ5IG1pbnV0ZSBjbGVhbmluZyB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlKSkpCiAjICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYWZ0ZXIgYnkgbWludXRlIGNsZWFuaW5nICB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQpKSkKICMgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE51bWJlciBSZW1vdmVkICB7fSAnLmZvcm1hdChsZW4oYmFzZWxpbmVfYnlfbWludXRlKSAtIGxlbihiYXNlbGluZV9ieV9taW51dGVfY2xlYW5lZCkpKQoKICAgICAgICAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDEwOiBBZ2dyZWdhdGUgdG8gMzAgbWludXRlcywgcmVtb3ZlIDMwIG1pbnMgd2l0aCBzcG90cwojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQWdncmVnYXRlIGJhc2VsaW5lIHRvIDMwIG1pbnV0ZXMiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBhZ2dfZGYgPSBwZC5EYXRhRnJhbWUoYmFzZWxpbmVfYnlfbWludXRlX2NsZWFuZWQuZ3JvdXBieShwZC5Hcm91cGVyKGZyZXE9JzMwVCcsa2V5PSdtaW51dGUnKSlbJ2twaSddLnN1bSgpKQogICAgICAgIGFnZ19kZlsnMzBfbWluX2J1Y2tldCddID0gcGQudG9fZGF0ZXRpbWUoYWdnX2RmLmluZGV4KQogICAgICAgIGFnZ19kZi5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICAgICAgCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE51bWJlciBvZiAzMCBtaW51dGUgcGVyaW9kcyB3aXRoIHplcm9zIHJlbW92ZWQge30gJy5mb3JtYXQobGVuKGFnZ19kZlthZ2dfZGZbJ2twaSddPT0wXSkpKQogICAgICAgIAogICAgICAgIAogICAgICAgIGFnZ19kZiA9IGFnZ19kZlthZ2dfZGZbJ2twaSddPjBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICMgYWdnX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTBfYWdncmVnYXRlX3RvXzMwX21pbnV0ZV9wZXJpb2QuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGFnZ19kZl9iYXNlbGluZSA9ICBhZ2dfZGZbfmFnZ19kZlsnMzBfbWluX2J1Y2tldCddLmlzaW4odGhpcnR5X21pbl9yZW1vdmVzX2xpc3QpXSAKCiAgICAgICAgYWdnX2RmX2Jhc2VsaW5lID0gYWdnX2RmX2Jhc2VsaW5lLm1lcmdlKGJ5X2RheVtbJ21pbnV0ZScsJzMwX21pbl9zaGlmdF8xJywnMzBfbWluX3NoaWZ0XzInXV0sIGxlZnRfb24gPSAnMzBfbWluX2J1Y2tldCcsIHJpZ2h0X29uID0gJ21pbnV0ZScsIGhvdz0nbGVmdCcsIHN1ZmZpeGVzPSgnJywgJ19EUk9QJykpCiAgICAgICAgIyBhZ2dfZGZfYmFzZWxpbmUudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xMF9hZ2dyZWdhdGVfdG9fMzBfbWludXRlX3BlcmlvZF9ub19zcG90cy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgIAogICAgICAgIGxvZ2dlci5pbmZvKCcocGlwZWxpbmUucnVuKSBMZW5ndGggYmVmb3JlIGJ5IG1pbnV0ZSBjbGVhbmluZyB7fSAnLmZvcm1hdChsZW4oYWdnX2RmKSkpCiAgICAgICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIExlbmd0aCBhZnRlciBieSBtaW51dGUgY2xlYW5pbmcgIHt9ICcuZm9ybWF0KGxlbihhZ2dfZGZfYmFzZWxpbmUpKSkKICAgICAgICBsb2dnZXIuaW5mbygnKHBpcGVsaW5lLnJ1bikgTnVtYmVyIFJlbW92ZWQgIHt9ICcuZm9ybWF0KGxlbihhZ2dfZGYpIC0gbGVuKGFnZ19kZl9iYXNlbGluZSkpKQoKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDExOiBHZXQgQXZnIGFuZCBTdGQgYnkgMzAgbWludXRlLCByZW1vdmUgb3V0c2lkZSBvZiAyIHN0ZGRldnMKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbG9nZ2VyLmluZm8oIihwaXBlbGluZS5ydW4pIEdldCBBdmcgYW5kIFN0ZCBieSAzMCBtaW4sIHJlbW92ZSBvdXRzaWRlIDIgc3RkZGV2cyIpCiAgICAgICAgYWdnX2RmX2Jhc2VsaW5lWydob3VyX21pbiddID0gYWdnX2RmX2Jhc2VsaW5lWydtaW51dGUnXS5kdC5ob3VyICsgIHJvdW5kKChhZ2dfZGZfYmFzZWxpbmVbJ21pbnV0ZSddLmR0Lm1pbnV0ZS82MCksMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgCiAgICAgICAgYXZlcmFnZXNfMzAgPSBwZC5EYXRhRnJhbWUoYWdnX2RmX2Jhc2VsaW5lLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLm1lYW4oKSkKICAgICAgICBzdGRfMzAgPSBwZC5EYXRhRnJhbWUoYWdnX2RmX2Jhc2VsaW5lLmdyb3VwYnkoJ2hvdXJfbWluJylbJ2twaSddLnN0ZCgpKQoKICAgICAgICBzdW1tYXJ5XzMwID0gYXZlcmFnZXNfMzAubWVyZ2Uoc3RkXzMwLGxlZnRfb249J2hvdXJfbWluJywgcmlnaHRfb24gPSAnaG91cl9taW4nKQogICAgICAgIHN1bW1hcnlfMzAuY29sdW1ucyA9IFsnYXZlcmFnZScsJ3N0ZF9kZXYnXQoKICAgICAgICBzdW1tYXJ5XzMwWydob3VyX21pbiddID0gc3VtbWFyeV8zMC5pbmRleAoKICAgICAgICBzdW1tYXJ5XzMwWycyX3N0ZF91cCddID0gc3VtbWFyeV8zMFsnYXZlcmFnZSddICsgc3VtbWFyeV8zMFsnc3RkX2RldiddICogMgogICAgICAgIHN1bW1hcnlfMzBbJzJfc3RkX2Rvd24nXSA9IHN1bW1hcnlfMzBbJ2F2ZXJhZ2UnXSAtIHN1bW1hcnlfMzBbJ3N0ZF9kZXYnXSAqIDIKCiAgICAgICAgc3VtbWFyeV8zMFsnM19zdGRfdXAnXSA9IHN1bW1hcnlfMzBbJ2F2ZXJhZ2UnXSArIHN1bW1hcnlfMzBbJ3N0ZF9kZXYnXSAqIDMKICAgICAgICBzdW1tYXJ5XzMwWyczX3N0ZF9kb3duJ10gPSBzdW1tYXJ5XzMwWydhdmVyYWdlJ10gLSBzdW1tYXJ5XzMwWydzdGRfZGV2J10gKiAzCgogICAgICAgIGFnZ19kZl9iYXNlbGluZSA9IGFnZ19kZl9iYXNlbGluZS5tZXJnZShzdW1tYXJ5XzMwLCBsZWZ0X29uPSAnaG91cl9taW4nLCByaWdodF9pbmRleD1UcnVlLCBob3cgPSAnbGVmdCcpCiAgICAgICAgIAogICAgICAgIGFnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2Jhc2VsaW5lWyhhZ2dfZGZfYmFzZWxpbmVbJ2twaSddPCBhZ2dfZGZfYmFzZWxpbmVbJzNfc3RkX3VwJ10pICYgKGFnZ19kZl9iYXNlbGluZVsna3BpJ10gPiBhZ2dfZGZfYmFzZWxpbmVbJzNfc3RkX2Rvd24nXSldCiAgICAgICAgIyBhZ2dfZGZfY2xlYW5lZC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzExX2FnZ3JlZ2F0ZV90b18zMF9taW51dGVfcGVyaW9kX2NsZWFuZWQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgICAgICAgICMgU1RFUCAxMjogR2V0IFRpbWUgRmVhdHVyZXMgLS0gCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBHZXQgVGltZSBGZWF0dXJlcyBmb3IgTW9kZWwiKQogICAgICAgICMgR2V0IERvVyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnd2Vla2RheSddID0gYWdnX2RmX2NsZWFuZWRbJzMwX21pbl9idWNrZXQnXS5kdC5zdHJmdGltZSgnJUEnKQogICAgICAgIAogICAgICAgIGFnZ19kZl9jbGVhbmVkLnJlbmFtZShjb2x1bW5zPXsiaG91cl9taW5feCI6ICJob3VyX21pbiJ9LCBpbnBsYWNlID0gVHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgaG91cl9taW5fb25lX2hvdCA9IHBkLmdldF9kdW1taWVzKGFnZ19kZl9jbGVhbmVkWydob3VyX21pbiddLHByZWZpeCA9ICdIb3VyX01pbl8nLCBwcmVmaXhfc2VwPScnKQoKICAgICAgICBhZ2dfZGZfY2xlYW5lZCA9IGFnZ19kZl9jbGVhbmVkLmpvaW4oaG91cl9taW5fb25lX2hvdCkKCiAgICAgICAgd2Vla2RheV9vbmVfaG90ID0gcGQuZ2V0X2R1bW1pZXMoYWdnX2RmX2NsZWFuZWRbJ3dlZWtkYXknXSkKCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCd3ZWVrZGF5JyxheGlzPTEpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5qb2luKHdlZWtkYXlfb25lX2hvdCkKCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCdtaW5fc2xvdCcsIGF4aXM9MSwgZXJyb3JzID0gJ2lnbm9yZScpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5kcm9wKCczMF9taW5fYnVja2V0JywgYXhpcz0xKQoKICAgICAgICAjZ2V0IG1vc3QgcmVjZW50IGRheSB3ZSBoYXZlIGluIG91ciBiYXNlbGluZSBzZXQKICAgICAgICBsYXN0X2RheSA9IGFnZ19kZl9jbGVhbmVkWydtaW51dGUnXS5pbG9jWy0xXQoKICAgICAgICAjY2h1bmtpbmcgZGF0YSBmb3IgY2hhbmdpbmcgYmFzZWxpbmUgLSBlZmZlY3Qgc2ltaWxhciB0byBhIG1vbnRobHkgZHVtbXkKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTE4MCksJ2NodW5rXzEnLDApCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0xNTApLCdjaHVua18yJyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0xMjApLCdjaHVua18zJyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoYWdnX2RmX2NsZWFuZWRbJ21pbnV0ZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz05MCksJ2NodW5rXzQnLGFnZ19kZl9jbGVhbmVkWyczMF9kYXlfY2h1bmsnXSkKICAgICAgICBhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTYwKSwnY2h1bmtfNScsYWdnX2RmX2NsZWFuZWRbJzMwX2RheV9jaHVuayddKQogICAgICAgIGFnZ19kZl9jbGVhbmVkWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKGFnZ19kZl9jbGVhbmVkWydtaW51dGUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MzApLCdjaHVua182JyxhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCgogICAgICAgICNhZ2dfZGZfY2xlYW5lZFsnZGF5J10gPSBhZ2dfZGZfY2xlYW5lZFsnbWludXRlJ10uZHQudGltZSAKICAgICAgICAjYnlfZGF5WydkYXknXSA9IGJ5X2RheVsnbWludXRlJ10uZHQudGltZSAKCiAgICAgICAgI2FnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2NsZWFuZWQubWVyZ2UoYnlfZGF5W1snZGF5JywnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdkYXknLCBob3c9J2xlZnQnKQogICAgICAgIAogICAgICAgIHRpbWVfY2h1bmsgPSBwZC5nZXRfZHVtbWllcyhhZ2dfZGZfY2xlYW5lZFsnMzBfZGF5X2NodW5rJ10pCgogICAgICAgIGFnZ19kZl9jbGVhbmVkID0gYWdnX2RmX2NsZWFuZWQuZHJvcCgnMzBfZGF5X2NodW5rJyxheGlzPTEpCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZC5qb2luKHRpbWVfY2h1bmspCiAgICAgICAgCiAgICAgICAgIyBOb3Qga2VlcGluZyBIb3VyIDAuMCwgYW5kIFNhdHVyZGF5ICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgY29sdW1uc19mb3JfbW9kZWwgPSBbJ2twaScsCiAgICAgICAgJ0hvdXJfTWluXzAuNScsICdIb3VyX01pbl8xLjAnLCAnSG91cl9NaW5fMS41JywnSG91cl9NaW5fMi4wJywgJ0hvdXJfTWluXzIuNScsICdIb3VyX01pbl8zLjAnLCAnSG91cl9NaW5fMy41JywKICAgICAgICAnSG91cl9NaW5fNC4wJywgJ0hvdXJfTWluXzQuNScsICdIb3VyX01pbl81LjAnLCAnSG91cl9NaW5fNS41JywgJ0hvdXJfTWluXzYuMCcsICdIb3VyX01pbl82LjUnLCAnSG91cl9NaW5fNy4wJywgJ0hvdXJfTWluXzcuNScsCiAgICAgICAgJ0hvdXJfTWluXzguMCcsICdIb3VyX01pbl84LjUnLCAnSG91cl9NaW5fOS4wJywgJ0hvdXJfTWluXzkuNScsICdIb3VyX01pbl8xMC4wJywgJ0hvdXJfTWluXzEwLjUnLCAnSG91cl9NaW5fMTEuMCcsICdIb3VyX01pbl8xMS41JywKICAgICAgICAnSG91cl9NaW5fMTIuMCcsICdIb3VyX01pbl8xMi41JywgJ0hvdXJfTWluXzEzLjAnLCAnSG91cl9NaW5fMTMuNScsICdIb3VyX01pbl8xNC4wJywgJ0hvdXJfTWluXzE0LjUnLCAnSG91cl9NaW5fMTUuMCcsICdIb3VyX01pbl8xNS41JywKICAgICAgICAnSG91cl9NaW5fMTYuMCcsICdIb3VyX01pbl8xNi41JywgJ0hvdXJfTWluXzE3LjAnLCAnSG91cl9NaW5fMTcuNScsICdIb3VyX01pbl8xOC4wJywgJ0hvdXJfTWluXzE4LjUnLCAnSG91cl9NaW5fMTkuMCcsICdIb3VyX01pbl8xOS41JywKICAgICAgICAnSG91cl9NaW5fMjAuMCcsICdIb3VyX01pbl8yMC41JywgJ0hvdXJfTWluXzIxLjAnLCAnSG91cl9NaW5fMjEuNScsJ0hvdXJfTWluXzIyLjAnLCAnSG91cl9NaW5fMjIuNScsICdIb3VyX01pbl8yMy4wJywgJ0hvdXJfTWluXzIzLjUnLAogICAgICAgICdTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCAnRnJpZGF5JywKICAgICAgICAnY2h1bmtfMScsJ2NodW5rXzInLCdjaHVua18zJywnY2h1bmtfNCcsJ2NodW5rXzUnLCdjaHVua182JywKICAgICAgICAnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddCiAgICAgICAgCiAgICAgICAgbWlzc2luZ19jb2xzID0gbGlzdCAoIHNldChjb2x1bW5zX2Zvcl9tb2RlbCkgLSBzZXQoYWdnX2RmX2NsZWFuZWQuY29sdW1ucykgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBmb3IgaSBpbiBtaXNzaW5nX2NvbHM6CiAgICAgICAgICAgIGFnZ19kZl9jbGVhbmVkW2ldID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgYWdnX2RmX2NsZWFuZWQgPSBhZ2dfZGZfY2xlYW5lZFtjb2x1bW5zX2Zvcl9tb2RlbF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgIyBhZ2dfZGZfY2xlYW5lZC50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzEyX2Jhc2VsaW5lX3NldF9jbGVhbmVkLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpICAgICAKICAgICAgICAKICAgICAgICAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDEzOiBUcmFpbiBUZXN0IFNwbGl0CiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBUcmFpbiBUZXN0IFNwbGl0IikKCiAgICAgICAgIyBFeHRyYWN0IGZlYXR1cmUgYW5kIHRhcmdldCBhcnJheXMKICAgICAgICBYLCB5ID0gYWdnX2RmX2NsZWFuZWQuZHJvcCgna3BpJywgYXhpcz0xKSwgYWdnX2RmX2NsZWFuZWRbJ2twaSddICAKICAgICAgICAKICAgICAgICAjIFNwbGl0IHRoZSBkYXRhCiAgICAgICAgWF90cmFpbiwgWF90ZXN0LCB5X3RyYWluLCB5X3Rlc3QgPSB0cmFpbl90ZXN0X3NwbGl0KFgsIHksIHJhbmRvbV9zdGF0ZT0yMCwgdGVzdF9zaXplID0gMC4xMCkgICAgICAgCiAgICAgICAgCiAgICAgICAgIyBYX3RyYWluLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTNfWF90cmFpbi5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQogICAgICAgICMgWF90ZXN0LnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTNfWF90ZXN0LmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAoKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDE0OiBUcmFpbiBNb2RlbAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgVHJhaW4gTW9kZWwiKQoKICAgICAgICBkdHJhaW5fcmVnID0geGdiLkRNYXRyaXgoWF90cmFpbiwgeV90cmFpbikKICAgICAgICBkdGVzdF9yZWcgPSB4Z2IuRE1hdHJpeChYX3Rlc3QsIHlfdGVzdCkKICAgICAgICAKICAgICAgICAjIERlZmluZSBoeXBlcnBhcmFtZXRlcnMKICAgICAgICBwYXJhbXMgPSB7Im9iamVjdGl2ZSI6ICJyZWc6c3F1YXJlZGVycm9yIiwKICAgICAgICAgICAgICAgICAiYm9vc3RlciI6ICJnYnRyZWUiLAogICAgICAgICAgICAgICAgICJldGEiOiAwLjE1LAogICAgICAgICAgICAgICAgICJtYXhfZGVwdGgiIDogOCwKICAgICAgICAgICAgICAgICAnYWxwaGEnIDogMSwKICAgICAgICAgICAgICAgICAnbGFtYmRhJyA6IDAsCiAgICAgICAgICAgICAgICAgJ2dhbW1hJzogMSwKICAgICAgICAgICAgICAgICAnbnRocmVhZCcgOiA0LAogICAgICAgICAgICAgICAgICdzZWVkJyA6IDIwfQoKICAgICAgICBuID0gMjAKICAgICAgICBtb2RlbCA9IHhnYi50cmFpbigKICAgICAgICAgICBwYXJhbXM9cGFyYW1zLAogICAgICAgICAgIGR0cmFpbj1kdHJhaW5fcmVnLAogICAgICAgICAgIG51bV9ib29zdF9yb3VuZD1uCiAgICAgICAgKSAKIyAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAgICAgICAgIyBTVEVQIDE1OiBDaGVjayB0ZXN0IHNldAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQ2hlY2sgVGVzdCBTZXQiKQogICAgICAgIAogICAgICAgIHRyYWluX3ByZWRzID0gbW9kZWwucHJlZGljdChkdHJhaW5fcmVnKSAvIDEwCiAgICAgICAgcHJlZHMgPSBtb2RlbC5wcmVkaWN0KGR0ZXN0X3JlZykgLyAxMAoKICAgICAgICMgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIE1BUEUgb2YgVFJBSU4gc2V0ICB7fSAnLmZvcm1hdChtZWFuX2Fic29sdXRlX3BlcmNlbnRhZ2VfZXJyb3IoeV90cmFpbiwgdHJhaW5fcHJlZHMpKSkgICAgICAgIAogICAgICAgIyBsb2dnZXIuaW5mbygnKHBpcGVsaW5lLnJ1bikgTUFQRSBvZiBURVNUIHNldCAge30gJy5mb3JtYXQobWVhbl9hYnNvbHV0ZV9wZXJjZW50YWdlX2Vycm9yKHlfdGVzdCwgcHJlZHMpKSkKICAgICAgICMgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIFJNU0Ugb2YgVEVTVCBzZXQgIHt9ICcuZm9ybWF0KG1lYW5fYWJzb2x1dGVfcGVyY2VudGFnZV9lcnJvcih5X3Rlc3QsIHByZWRzKSkpCiAgICAgICAgdGVzdCA9IHlfdGVzdC5jb3B5KCkKICAgICAgICB0ZXN0WydwcmVkcyddID0gcHJlZHMKICAgICAgICAKICAgICAgICAjIHRlc3QudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xNV90ZXN0X3ByZWRzLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAogICAgICAgIAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojICAgICAgICAjIFNURVAgMTY6IENsZWFuIFNwb3QgRGF0YSB0byBDYWxjdWxhdGUgTGlmdCBPbgojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgQ2hlY2sgVGVzdCBTZXQiKQogICAgICAgIAogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5jb3B5KCkKCiAgICAgICAgIyAjZ2V0IHRpbWUgdmFyaWFibGVzIGR1bW1pZWQgb3V0CgogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3dlZWtkYXknXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5zdHJmdGltZSgnJUEnKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWydtaW51dGUnXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5yb3VuZCgnMzBtaW4nKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5tZXJnZShieV9kYXlbWydtaW51dGUnLCczMF9taW5fc2hpZnRfMScsJzMwX21pbl9zaGlmdF8yJ11dLCBsZWZ0X29uID0gJ21pbnV0ZScsIHJpZ2h0X29uID0gJ21pbnV0ZScsIGhvdz0nbGVmdCcsIHN1ZmZpeGVzPSgnJywgJ19EUk9QJykpCiAgICAgICAgCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbFsnaG91cl9taW4nXSA9IHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXS5kdC5ob3VyICsgIHJvdW5kKChzcG90X2RhdGFfZm9yX21vZGVsWydtaW51dGUnXS5kdC5taW51dGUvNjApLDMpCgogICAgICAgIGhvdXJfbWluX29uZV9ob3QgPSBwZC5nZXRfZHVtbWllcyhzcG90X2RhdGFfZm9yX21vZGVsWydob3VyX21pbiddLHByZWZpeCA9ICdIb3VyX01pbl8nLCBwcmVmaXhfc2VwPScnKQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5qb2luKGhvdXJfbWluX29uZV9ob3QpCgogICAgICAgIHdlZWtkYXlfb25lX2hvdCA9IHBkLmdldF9kdW1taWVzKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3dlZWtkYXknXSkKCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuZHJvcCgnd2Vla2RheScsYXhpcz0xKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X2RhdGFfZm9yX21vZGVsLmpvaW4od2Vla2RheV9vbmVfaG90KQoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbC5kcm9wKCdob3VyX21pbicsIGF4aXM9MSwgZXJyb3JzID0gJ2lnbm9yZScpCiAgICAgICAgI3Nwb3RfZGF0YV9mb3JfbW9kZWwgPSBzcG90X2RhdGFfZm9yX21vZGVsLmRyb3AoJzMwX21pbl9idWNrZXQnLCBheGlzPTEpIAogICAgICAgICAgICAgICAgCiAgICAgICAgI2J1aWxkaW5nIGluIGNodW5rcyAtIHNpbWlsYXIgdG8gbW9udGggZHVtbXkKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MTgwKSwnY2h1bmtfMScsMCkKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSA9IG5wLndoZXJlKHNwb3RfZGF0YV9mb3JfbW9kZWxbJ3N0YXJ0ZGF0ZXRpbWUnXSA+IGxhc3RfZGF5IC0gdGltZWRlbHRhKGRheXM9MTUwKSwnY2h1bmtfMicsc3BvdF9kYXRhX2Zvcl9tb2RlbFsnMzBfZGF5X2NodW5rJ10pCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbFsnMzBfZGF5X2NodW5rJ10gPSBucC53aGVyZShzcG90X2RhdGFfZm9yX21vZGVsWydzdGFydGRhdGV0aW1lJ10gPiBsYXN0X2RheSAtIHRpbWVkZWx0YShkYXlzPTEyMCksJ2NodW5rXzMnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz05MCksJ2NodW5rXzQnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz02MCksJ2NodW5rXzUnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddID0gbnAud2hlcmUoc3BvdF9kYXRhX2Zvcl9tb2RlbFsnc3RhcnRkYXRldGltZSddID4gbGFzdF9kYXkgLSB0aW1lZGVsdGEoZGF5cz0zMCksJ2NodW5rXzYnLHNwb3RfZGF0YV9mb3JfbW9kZWxbJzMwX2RheV9jaHVuayddKQogICAgICAgIHRpbWVfY2h1bmsgPSBwZC5nZXRfZHVtbWllcyhzcG90X2RhdGFfZm9yX21vZGVsWyczMF9kYXlfY2h1bmsnXSkKCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuZHJvcCgnMzBfZGF5X2NodW5rJyxheGlzPTEpCiAgICAgICAgc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwuam9pbih0aW1lX2NodW5rKQoKICAgICAgICAjc3BvdF9kYXRhX2Zvcl9tb2RlbFsnZGF5J10gPSBzcG90X2RhdGFfZm9yX21vZGVsWydzdGFydGRhdGV0aW1lJ10uZHQudGltZSAKICAgICAgICAjc3BvdF9kYXRhX2Zvcl9tb2RlbCA9IHNwb3RfZGF0YV9mb3JfbW9kZWwubWVyZ2UoYnlfZGF5W1snZGF5JywnMzBfbWluX3NoaWZ0XzEnLCczMF9taW5fc2hpZnRfMiddXSwgbGVmdF9vbiA9ICdkYXknLCByaWdodF9vbiA9ICdkYXknLCBob3c9J2xlZnQnKQogICAgICAgIAogICAgICAgICMgTm90IGtlZXBpbmcgSG91ciAwLjAsIGFuZCBTYXR1cmRheSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGNvbHVtbnNfZm9yX21vZGVsID0gWwogICAgICAgICdIb3VyX01pbl8wLjUnLCAnSG91cl9NaW5fMS4wJywgJ0hvdXJfTWluXzEuNScsJ0hvdXJfTWluXzIuMCcsICdIb3VyX01pbl8yLjUnLCAnSG91cl9NaW5fMy4wJywgJ0hvdXJfTWluXzMuNScsCiAgICAgICAgJ0hvdXJfTWluXzQuMCcsICdIb3VyX01pbl80LjUnLCAnSG91cl9NaW5fNS4wJywgJ0hvdXJfTWluXzUuNScsICdIb3VyX01pbl82LjAnLCAnSG91cl9NaW5fNi41JywgJ0hvdXJfTWluXzcuMCcsICdIb3VyX01pbl83LjUnLAogICAgICAgICdIb3VyX01pbl84LjAnLCAnSG91cl9NaW5fOC41JywgJ0hvdXJfTWluXzkuMCcsICdIb3VyX01pbl85LjUnLCAnSG91cl9NaW5fMTAuMCcsICdIb3VyX01pbl8xMC41JywgJ0hvdXJfTWluXzExLjAnLCAnSG91cl9NaW5fMTEuNScsCiAgICAgICAgJ0hvdXJfTWluXzEyLjAnLCAnSG91cl9NaW5fMTIuNScsICdIb3VyX01pbl8xMy4wJywgJ0hvdXJfTWluXzEzLjUnLCAnSG91cl9NaW5fMTQuMCcsICdIb3VyX01pbl8xNC41JywgJ0hvdXJfTWluXzE1LjAnLCAnSG91cl9NaW5fMTUuNScsCiAgICAgICAgJ0hvdXJfTWluXzE2LjAnLCAnSG91cl9NaW5fMTYuNScsICdIb3VyX01pbl8xNy4wJywgJ0hvdXJfTWluXzE3LjUnLCAnSG91cl9NaW5fMTguMCcsICdIb3VyX01pbl8xOC41JywgJ0hvdXJfTWluXzE5LjAnLCAnSG91cl9NaW5fMTkuNScsCiAgICAgICAgJ0hvdXJfTWluXzIwLjAnLCAnSG91cl9NaW5fMjAuNScsICdIb3VyX01pbl8yMS4wJywgJ0hvdXJfTWluXzIxLjUnLCdIb3VyX01pbl8yMi4wJywgJ0hvdXJfTWluXzIyLjUnLCAnSG91cl9NaW5fMjMuMCcsICdIb3VyX01pbl8yMy41JywKICAgICAgICAnU3VuZGF5JywnTW9uZGF5JywnVHVlc2RheScsJ1dlZG5lc2RheScsJ1RodXJzZGF5JywgJ0ZyaWRheScsCiAgICAgICAgJ2NodW5rXzEnLCdjaHVua18yJywnY2h1bmtfMycsJ2NodW5rXzQnLCdjaHVua181JywnY2h1bmtfNicsCiAgICAgICAgJzMwX21pbl9zaGlmdF8xJywnMzBfbWluX3NoaWZ0XzInXQogICAgICAgIAogICAgICAgIG1pc3NpbmdfY29scyA9IGxpc3QgKCBzZXQoY29sdW1uc19mb3JfbW9kZWwpIC0gc2V0KHNwb3RfZGF0YV9mb3JfbW9kZWwuY29sdW1ucykgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBmb3IgaSBpbiBtaXNzaW5nX2NvbHM6CiAgICAgICAgICAgIHNwb3RfZGF0YV9mb3JfbW9kZWxbaV0gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsID0gc3BvdF9kYXRhX2Zvcl9tb2RlbFtjb2x1bW5zX2Zvcl9tb2RlbF0KICAgICAgIAogICAgICAgIAogICAgICAgICMgc3BvdF9kYXRhX2Zvcl9tb2RlbC50b19jc3YocGF0aF9vcl9idWY9ImNsZWFuX3Nwb3RfZGF0YS5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCiAgICAgICAgCiMgICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgICAgICAgICMgU1RFUCAxNzogR2V0IEJhc2VsaW5lIFByZWRzIGFuZCBDYWxjdWxhdGUgTGlmdAojICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgTWFrZSBQcmVkcyBvbiBBY3R1YWwgU3BvdHMiKQoKICAgICAgICBzcG90c19kbWF0ID0geGdiLkRNYXRyaXgoc3BvdF9kYXRhX2Zvcl9tb2RlbCkKICAgICAgICAKICAgICAgICBiYXNlbGluZSA9IG1vZGVsLnByZWRpY3Qoc3BvdHNfZG1hdCkgLyAxMAoKICAgICAgICBzcG90X2RhdGFfZm9yX21vZGVsWydiYXNlbGluZSddID0gYmFzZWxpbmUKICAgICAgICAKICAgICAgICAjIHNwb3RfZGF0YV9mb3JfbW9kZWwudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xN19iYXNlbGluZV9wcmVkcy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Jhc2VsaW5lJ10gPSBiYXNlbGluZQoKICAgICAgICAjIFJhdyBsaWZ0ID0gcG9zdF9rcGkgLSBiYXNlbGluZQogICAgICAgIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydyYXdfbGlmdCddID0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ10gLSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXQoKICAgICAgICAjIGxpZnQgYWRqIHRvIG92ZXJsYXAgLS0gZ2l2ZSBwYXJ0aWFsIGNyZWRpdCBpZiB0d28gc3BvdHMgb3ZlcmxhcHBlZC4gCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSAqICgzIC8gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2NvdW50J10pCgogICAgICAgICNpZiBwb3N0IG9yIHByZSBrcGkgaXMgMCwgbWFrZSB0aGUgbGlmdCB6ZXJvCiAgICAgICAgI3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ109PTAsIDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICNzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSA9IG5wLndoZXJlKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwb3N0X2twaSddPT0wLCAwLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncmF3X2xpZnQnXSkKCiAgICAgICAgIyByZW1vdmUgc3BvdHMgd2hlcmUgcG9zdCBvciBwcmUga3BpIGlzIDAuLi50aGlzIGVsaW1pbmF0ZXMgdGhlIHNwb3RzIHRoYXQgZXNzZW50aWFsbHkgaGF2ZSBkYXRhIHF1YWxpdHkgaXNzdWVzCiAgICAgICAgI3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmID0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3Bvc3Rfa3BpJ10+MF0KICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZltzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncHJlX2twaSddPjBdCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5yZXNldF9pbmRleChkcm9wPUZhbHNlKQoKICAgICAgICAKICAgICAgICAjIGluZGljYXRlcyBpZiBwcmVfa3BpIGlzICsgMiBzdGQgZGV2cyBmcm9tIG1lYW4KICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXSA9IG5wLndoZXJlKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwcmVfa3BpJ10gPiBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXSArIDIgKiBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYmFzZWxpbmUnXS5zdGQoKSwgMSwgMCApCgogICAgICAgICNQb3N0IEtQSSAtIFByZSBLUEkuLi5qdXN0IGZvciBjb21wYXJpc29ucwogICAgICAgIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydQb3N0IC0gUHJlJ10gPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsncG9zdF9rcGknXSAtIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydwcmVfa3BpJ10KICAgICAgICAKICAgICAgICAjIElmIFByZSBpcyBzdWJzdGFudGlhbGx5IGhpZ2hlciB0aGFuIGJhc2VsaW5lLCB0aGVuIHVzZSBtZWRpYW4gbGlmdCBmb3IgdGhhdCBuZXR3b3JrICggT1IgUG9zdCAtIFByZSkKICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXT09MSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAjaWYgaGlnaF9wcmUgZmxhZyBpcyBvbiwgaW1wdXRlIHRoZSBtZWRpYW4gYWRqIGxpZnQgZm9yIHRoYXQgc3RhdGlvbi4KICAgICAgICBzdGF0aW9uX2xpc3RfaW5faGlnaF9wcmUgPSAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2hpZ2hfcHJlX2twaV9mbGFnJ109PTFdLnN0YXRpb24udW5pcXVlKCkKCiAgICAgICAgZm9yIGkgaW4gc3RhdGlvbl9saXN0X2luX2hpZ2hfcHJlOgogICAgICAgICAgICBtZWRfc3RhdGlvbl9hZGpfbGlmdCA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmW3Nwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydzdGF0aW9uJ109PWldLmFkal9saWZ0Lm1lZGlhbigpCgogICAgICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA9IG5wLndoZXJlKChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnc3RhdGlvbiddPT1pKSAmIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnaGlnaF9wcmVfa3BpX2ZsYWcnXT09MSksbWVkX3N0YXRpb25fYWRqX2xpZnQsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKSAgCgoKICAgICAgICAjc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSgoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXTwwKSAmIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA+IDApLDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKSAgCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSgoc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ1Bvc3QgLSBQcmUnXSA8IC0gc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3ByZV9rcGknXS5zdGQoKSApICxzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguMDI1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pICAKCiAgICAgICAgICNpZiBhZGouIGxpZnQgaXMgb3V0c2lkZSBvZiB0aGUgLjAyNSBvciAuOTc1IHBlcmNlbnRpbGVzLCBmb3JjZSBpdCB0byB0aGVtLiBUaGlzIGN1dHMgb3VyIHRhaWxzIGRvd24gc2lnbmlmaWNhbnRseSBhbmQgYXZvaWRzIGh1Z2UgbGlmdCBvbiBpbmRpdmlkdWFsIHNwb3RzCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA+IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLmFkal9saWZ0LnF1YW50aWxlKC45NzUpLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguOTc1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCiAgICAgICAgCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSA8IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLmFkal9saWZ0LnF1YW50aWxlKC4wMjUpLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5hZGpfbGlmdC5xdWFudGlsZSguMDI1KSwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAjICN0aWVyIGJ5IG5ldCByYXRlCiAgICAgICAgCiAgICAgICAgIyAjdW5kZXIgMTAwLi4uMC41MAogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSggKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDEwMCksIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKjAuMzMsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICMgI2JldHdlZW4gMTAwLTUwMC4uLjAuNzUKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoIChzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnbmV0X3JhdGUnXSAgPiAxMDApICYgKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDUwMCksIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKjAuNjYsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddKQogICAgICAgICMgIzUwMC0xMDAwLi4uMS4yNQogICAgICAgICMgIzEwMDAtMjAwMAogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10gPSBucC53aGVyZSggKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA+IDEwMDApICYgKHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA8IDIwMDApLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSoxLjMzLCBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnYWRqX2xpZnQnXSkKICAgICAgICAjICNPdmVyIDIwMDAsIDEuNTAKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddID0gbnAud2hlcmUoIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWyduZXRfcmF0ZSddICA+IDIwMDAsIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmWydhZGpfbGlmdCddICogMS42Niwgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2Fkal9saWZ0J10pCgoKICAgICAgICAKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTdfYmFzZWxpbmVfcHJlZHNfd193aW5kb3dzdGF0cy5jc3YiLCBlbmNvZGluZz0idXRmLTgiKSAKCgogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xN19iYXNlbGluZV9wcmVkc193X3dpbmRvd3N0YXRzX25vX3plcm9zLmNzdiIsIGVuY29kaW5nPSJ1dGYtOCIpIAoKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgIyBTVEVQIDE4OiBHZXQgUmVhZHkgZm9yIFNlY29uZCBTdGFnZSBNb2RlbAogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgICAgIGxvZ2dlci5pbmZvKCIocGlwZWxpbmUucnVuKSBTZWNvbmQgU3RhZ2UgTW9kZWwgUHJlcCIpCiAgICAgICAgZmVhdHVyZV9kYXRhc2V0X2RmID0gcGlwZWxpbmVfaGVscGVycy5mZWF0dXJlX3ByZXBhcmVfZGF0YShzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZiwgY291bnRyeV9jb2RlKQoKICAgICAgICBkZWYgY3JlYXRlX2ludGVyYWN0aW9ucyhkZix2YXIxLHZhcjIpOgogICAgICAgICAgICB2YXJpYWJsZXMgPSBkZltbdmFyMSx2YXIyXV0gCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDAsIHZhcmlhYmxlcy5jb2x1bW5zLnNpemUpOgogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoMCwgdmFyaWFibGVzLmNvbHVtbnMuc2l6ZSk6CiAgICAgICAgICAgICAgICAgICAgY29sMSA9IHN0cih2YXJpYWJsZXMuY29sdW1uc1tpXSkKICAgICAgICAgICAgICAgICAgICBjb2wyID0gc3RyKHZhcmlhYmxlcy5jb2x1bW5zW2pdKQogICAgICAgICAgICAgICAgICAgIGlmIGkgPD0gajoKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGNvbDEgKyAiKiIgKyBjb2wyCiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmxvY1s6LCBuYW1lXSA9IHZhcmlhYmxlc1tjb2wxXSAqIHZhcmlhYmxlc1tjb2wyXSAKICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGVfdmVyeWxvdyddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZSddIDwgMTAwLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlX2xvdyddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA+IDEwMCkgJiAoZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZSddIDwgNTAwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWyduZXRfcmF0ZV9tZWRpdW0nXSA9IG5wLndoZXJlKChmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlJ10gPiA1MDApICYgKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA8IDE1MDApLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ25ldF9yYXRlX2hpZ2gnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnbmV0X3JhdGUnXSA+IDE1MDAsIDEsMCkKCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5dGltZSddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ0RBWVRJTUUnLCAxLDApCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnZWFybHlmcmluZ2UnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5cGFydCddID09ICdFQVJMWSBGUklOR0UnLCAxLDApCiAgICAgICAgIyAjIGZlYXR1cmVfZGF0YXNldF9kZlsnbGF0ZW5pZ2h0J10gPSBucC53aGVyZShmZWF0dXJlX2RhdGFzZXRfZGZbJ2RheXBhcnQnXSA9PSAnTEFURU5JR0hUJywgMSwwKQogICAgICAgICMgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ292ZXJuaWdodCddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ09WRVJOSUdIVCcsIDEsMCkKICAgICAgICAjICMgZmVhdHVyZV9kYXRhc2V0X2RmWydwcmltZSddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ1BSSU1FJywgMSwwKQogICAgICAgICMgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ3dlZWtlbmRkYXknXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnZGF5cGFydCddID09ICdXRUVLRU5EIERBWScsIDEsMCkKICAgICAgICAjICMgZmVhdHVyZV9kYXRhc2V0X2RmWyd3ZWVrZW5kbW9ybmluZyddID0gbnAud2hlcmUoZmVhdHVyZV9kYXRhc2V0X2RmWydkYXlwYXJ0J10gPT0gJ1dFRUtFTkQgTU9STklORycsIDEsMCkKCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcF92ZXJ5bG93J10gPSBucC53aGVyZShmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMTAsIDEsMCkKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wX2xvdyddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDEwKSAmIChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMzApLCAxLDApCiAgICAgICAgIyBmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcF9tZWRpdW0nXSA9IG5wLndoZXJlKChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPiAzMCkgJiAoZmVhdHVyZV9kYXRhc2V0X2RmWydpbXByZXNzaW9ucyddIDw9IDkwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWydpbXBfaGlnaCddID0gbnAud2hlcmUoKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDkwKSAmIChmZWF0dXJlX2RhdGFzZXRfZGZbJ2ltcHJlc3Npb25zJ10gPD0gMjAwKSwgMSwwKQogICAgICAgICMgZmVhdHVyZV9kYXRhc2V0X2RmWydpbXBfdmVyeWhpZ2gnXSA9IG5wLndoZXJlKGZlYXR1cmVfZGF0YXNldF9kZlsnaW1wcmVzc2lvbnMnXSA+IDIwMCwgMSwwKQoKICAgICAgICAjIG5ldHMgPSBbJ25ldF9yYXRlX3Zlcnlsb3cnLCduZXRfcmF0ZV9sb3cnLCduZXRfcmF0ZV9tZWRpdW0nLCduZXRfcmF0ZV9oaWdoJ10KICAgICAgICAjIGltcHMgPSBbJ2ltcF92ZXJ5bG93JywnaW1wX2xvdycsJ2ltcF9tZWRpdW0nLCdpbXBfaGlnaCcsJ2ltcF92ZXJ5aGlnaCddCiAgICAgICAgIyBkYXlwYXJ0cyA9IFsnZGF5cGFydGRheXRpbWUnLAogICAgICAgICMgICAgICAgICAgICAgICAgICdkYXlwYXJ0ZWFybHlmcmluZ2UnLAogICAgICAgICMgICAgICAgICAgICAgICAgICdkYXlwYXJ0bGF0ZW5pZ2h0JywKICAgICAgICAjICAgICAgICAgICAgICAgICAnZGF5cGFydG92ZXJuaWdodCcsCiAgICAgICAgIyAgICAgICAgICAgICAgICAgJ2RheXBhcnRwcmltZScsCiAgICAgICAgIyAgICAgICAgICAgICAgICAgJ2RheXBhcnR3ZWVrZW5kZGF5JywKICAgICAgICAjICAgICAgICAgICAgICAgICAnZGF5cGFydHdlZWtlbmRtb3JuaW5nJ10KCiAgICAgICAgIyBmb3IgaSBpbiBpbXBzOgogICAgICAgICMgICAgIGZvciBqIGluIGRheXBhcnRzOgogICAgICAgICMgICAgICAgICBjcmVhdGVfaW50ZXJhY3Rpb25zKGZlYXR1cmVfZGF0YXNldF9kZixpLGopCgogICAgICAgICMgaW50X2R1cHMgPSBbJ2ltcF92ZXJ5bG93KmltcF92ZXJ5bG93JywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX2xvdyppbXBfbG93JywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX21lZGl1bSppbXBfbWVkaXVtJywKICAgICAgICAjICAgICAgICAgICAgICAnaW1wX2hpZ2gqaW1wX2hpZ2gnLAogICAgICAgICMgICAgICAgICAgICAgICdpbXBfdmVyeWhpZ2gqaW1wX3ZlcnloaWdoJ10KCiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGludF9kdXBzLGF4aXM9MSxpbnBsYWNlPVRydWUpICAgICAgICAgICAgICAgICAKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGltcHMsYXhpcz0xLGlucGxhY2U9VHJ1ZSkKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi5kcm9wKGRheXBhcnRzLGF4aXM9MSxpbnBsYWNlPVRydWUpCgoKCgogICAgICAgIAogICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIAogICAgICAgIGZlYXR1cmVfZGF0YXNldF9kZi5yZXNldF9pbmRleChkcm9wPVRydWUsIGlucGxhY2U9VHJ1ZSkKICAgICAgICAKICAgICAgICAjIHdyaXRlIGRlYnVnIGZpbGUKICAgICAgICAjIGZlYXR1cmVfZGF0YXNldF9kZi50b19jc3YocGF0aF9vcl9idWY9ImRlYnVnXzE4X2ZlYXR1cmVfZGF0YXNldC5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKICAgICAgICBleHAgPSByZS5jb21waWxlKCJhZGpfbGlmdHxec3RhdGlvbltBLVphLXpdK3xeaXNjaV9bMC05QS1aYS16XSt8XmJ1eV9jb2Rlc1swLTlBLVphLXpdK3xeaW1wX1tBLVphLXpdK3xeZGF5cGFydFtBLVphLXpdIikKICAgICAgICBuYW1lID0gZmVhdHVyZV9kYXRhc2V0X2RmLmNvbHVtbnMKICAgICAgICBuYW1lID0gW3ggZm9yIHggaW4gbmFtZSBpZiByZS5zZWFyY2goZXhwLCB4KV0KCiAgICAgICAgdHJhaW5pbmdfZGF0YSA9IGZlYXR1cmVfZGF0YXNldF9kZltuYW1lXQoKCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgCiAgICAgICAgIyB0cmFpbmluZ19kYXRhLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMThfdHJhaW5pbmdfZGF0YS5jc3YiLCBlbmNvZGluZz0idXRmLTgiKQoKCgogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICMgICAjIFNURVAgMTk6IFRyYWluIFNlY29uZCBTdGFnZSBNb2RlbAogICAgICMgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBsb2dnZXIuaW5mbygiKHBpcGVsaW5lLnJ1bikgVHJhaW4gc2Vjb25kIHN0YWdlIG1vZGVsIikKICAgICAgICAKICAgICAgICAjZm9yY2VzIGFsbCBjb2VmcyB0byBiZSBwb3NpdGl2ZSAodGhpcyBpcyBzdGF0aW9uLCBpc2NpLCBhbmQgYnV5IGNvZGVzKQoKICAgICAgICByZWc9bGluZWFyX21vZGVsLlJpZGdlKGZpdF9pbnRlcmNlcHQ9MCwgYWxwaGEgPSAxLCBzb2x2ZXIgPSAnbGJmZ3MnLCBwb3NpdGl2ZT0gVHJ1ZSwgcmFuZG9tX3N0YXRlID0gMjAgKQogICAgICAgCiAgICAgICAgcmVnLmZpdCh0cmFpbmluZ19kYXRhLmRyb3AoJ2Fkal9saWZ0JywgYXhpcyA9IDEpLCAodHJhaW5pbmdfZGF0YVsnYWRqX2xpZnQnXSkpCgogICAgICAgIHNlY29uZF9zdGFnZV9wcmVkcyA9IHJlZy5wcmVkaWN0KHRyYWluaW5nX2RhdGEuZHJvcCgnYWRqX2xpZnQnLGF4aXM9MSkpCiAgICAKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnc2Vjb25kX3N0YWdlX2xpZnQnXSA9IHNlY29uZF9zdGFnZV9wcmVkcwoKICAgICAgICAjY3JlYXRpbmcgYSBkZiBvZiB0aGUgY29lZnMgdG8gc2F2ZSBvZmYKICAgICAgICBjb2xfbmFtZXMgPSBwZC5EYXRhRnJhbWUodHJhaW5pbmdfZGF0YS5kcm9wKCdhZGpfbGlmdCcsYXhpcz0xKS5jb2x1bW5zLCBjb2x1bW5zID0gWydjb2xzJ10pCiAgICAgICAgY29sX25hbWVzWydjb2VmJ10gPSByZWcuY29lZl8KCiAgICAgICAgZHJvcHMgPSBbJ25ldF9yYXRfaW5kJywnaXNIb2xpZGF5JywnY291bnRzJ10KICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5kcm9wKGRyb3BzLCBheGlzPTEsIGlucGxhY2U9VHJ1ZSkKCiAgICAgICAgIyBBZGRpbmcgY29sdW1ucyB0byByZXN1bHQgZGF0YWZyYW1lIGZvciBwYXJ0aXRpb25pbmcgaW4gYXRoZW5hCiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2FkdmVydGlzZXJfbmFtZSddID0gY2xpZW50a2V5CiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ2twaV9pbmRleCddID0ga3BpX2luZGV4CiAgICAgICAgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGZbJ3lyJ10gPSBzdHIoZGF0ZXRpbWUuc3RycHRpbWUoc3RyKGVuZF9kYXRlKSwgJyVZLSVtLSVkICVIOiVNOiVTJykueWVhcikKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnbW8nXSA9IHN0cihkYXRldGltZS5zdHJwdGltZShzdHIoZW5kX2RhdGUpLCAnJVktJW0tJWQgJUg6JU06JVMnKS5tb250aCkKICAgICAgICBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZlsnZGQnXSA9IHN0cihkYXRldGltZS5zdHJwdGltZShzdHIoZW5kX2RhdGUpLCAnJVktJW0tJWQgJUg6JU06JVMnKS5kYXkpCiAgICAgCgogICAgICAgICMgUHJlcGFyaW5nIG91dHB1dCBkYXRhZnJhbWUgaW4gVFZPIGZvcm1hdAogICAgICAgIHR2b19mb3JtYXRfZGYgPSBzcG90X3BsdXNfbm9uc3RhdGlvbnNwb3RfcGx1c193aW5kb3dzdGF0c19kZi5kcm9wKGNvbHVtbnM9Wyd5cicsJ21vJywnZGQnXSkuY29weSgpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnZGF0ZSddID0gcGQudG9fZGF0ZXRpbWUodHZvX2Zvcm1hdF9kZlsnc3RhcnRkYXRldGltZXJvdW5kZWQnXSxmb3JtYXQ9JyVZLSVtLSVkICVIOiVNOiVTJykuYXN0eXBlKCdzdHInKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2V2ZW50X3RpbWVzdGFtcCddID0gdHZvX2Zvcm1hdF9kZi5hcHBseShsYW1iZGEgeDogc3RyKGRhdGV0aW1lLnN0cnB0aW1lKHBhcnNlX3RpbWVzdGFtcChzdHIoeFsnZGF0ZSddKSksICclWS0lbS0lZCAlSDolTTolUycpKSwgYXhpcz0xKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3lyJ10gPSB0dm9fZm9ybWF0X2RmWydldmVudF90aW1lc3RhbXAnXS5hcHBseShsYW1iZGEgeDp4WzA6NF0pCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbW8nXSA9IHR2b19mb3JtYXRfZGZbJ2V2ZW50X3RpbWVzdGFtcCddLmFwcGx5KGxhbWJkYSB4OnhbNTo3XSkKICAgICAgICB0dm9fZm9ybWF0X2RmWydkZCddID0gdHZvX2Zvcm1hdF9kZlsnZXZlbnRfdGltZXN0YW1wJ10uYXBwbHkobGFtYmRhIHg6eFs4OjEwXSkKCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnYWR2ZXJ0aXNlcl9uYW1lJ10gPSBjbGVhbl9zdHJpbmcoY2xpZW50a2V5KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Byb2R1Y3RfbmFtZSddID0gdHZvX2Zvcm1hdF9kZlsncHJvZHVjdF9uYW1lJ10uYXBwbHkoY2xlYW5fc3RyaW5nKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2NyZWF0aXZlX2lzY2knXSA9IHR2b19mb3JtYXRfZGZbJ2lzY2lfMjAnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnc3RhdGlvbl9uYW1lJ10gPSB0dm9fZm9ybWF0X2RmWydzdGF0aW9uJ10uYXBwbHkoY2xlYW5fc3RyaW5nKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2twaV9uYW1lJ10gPSBjbGVhbl9zdHJpbmcoa3BpX2Rlc2NyaXB0aW9uKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ21hcmtldF9uYW1lJ10gPSBjbGVhbl9zdHJpbmcobWFya2V0KQoKCiAgICAgICAgaWYgY3JlYXRpdmVfZGYuc2hhcGVbMF0gPT0gMDoKICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZiA9IHR2b19mb3JtYXRfZGYuYXNzaWduKHRpdGxlPXR2b19mb3JtYXRfZGZbJ2lzY2lfMjAnXSwgbmFtZT10dm9fZm9ybWF0X2RmWydpc2NpXzIwJ10pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3JlYXRpdmVfZGZbJ2xlbmd0aCddID0gY3JlYXRpdmVfZGZbJ2xlbmd0aCddLmFzdHlwZShpbnQpCiAgICAgICAgICAgIHR2b19mb3JtYXRfZGZbJ2xlbmd0aCddID0gdHZvX2Zvcm1hdF9kZlsnbGVuZ3RoJ10uYXN0eXBlKGludCkKICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZiA9IHR2b19mb3JtYXRfZGYubWVyZ2UoY3JlYXRpdmVfZGYsIG9uPVsnaXNjaV8yMCcsICdsZW5ndGgnXSwgaG93PSdsZWZ0JykKICAgICAgICAgICAgaWYgJ3RpdGxlJyBub3QgaW4gdHZvX2Zvcm1hdF9kZjoKICAgICAgICAgICAgICAgIHR2b19mb3JtYXRfZGZbJ3RpdGxlJ10gPSBucC5uYW4KICAgICAgICAgICAgaWYgJ25hbWUnIG5vdCBpbiB0dm9fZm9ybWF0X2RmOgogICAgICAgICAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbmFtZSddID0gbnAubmFuCiAgICAgICAgICAgIHR2b19mb3JtYXRfZGYgPSB0dm9fZm9ybWF0X2RmLmFzc2lnbih0aXRsZT1ucC53aGVyZSh0dm9fZm9ybWF0X2RmLnRpdGxlLmlzbmEoKSwgdHZvX2Zvcm1hdF9kZi5pc2NpXzIwLCB0dm9fZm9ybWF0X2RmLnRpdGxlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPW5wLndoZXJlKHR2b19mb3JtYXRfZGYubmFtZS5pc25hKCksIHR2b19mb3JtYXRfZGYuaXNjaV8yMCwgdHZvX2Zvcm1hdF9kZi5uYW1lKSkgICAKICAgICAgICAgICAgCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnY3JlYXRpdmVfbmFtZSddID0gdHZvX2Zvcm1hdF9kZlsndGl0bGUnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnY3JlYXRpdmVfZHVyYXRpb24nXSA9IHR2b19mb3JtYXRfZGZbJ2xlbmd0aCddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5faW50KSAgIAogICAgICAgIHR2b19mb3JtYXRfZGZbJ2twaV9pbmRleCddID0gdHZvX2Zvcm1hdF9kZlsna3BpX2luZGV4J10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbGlmdCddID0gdHZvX2Zvcm1hdF9kZlsnc2Vjb25kX3N0YWdlX2xpZnQnXS5hc3R5cGUoJ3N0cicpLmFwcGx5KGNsZWFuX2Zsb2F0KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2Jhc2VsaW5lJ10gPSB0dm9fZm9ybWF0X2RmWydiYXNlbGluZSddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5fZmxvYXQpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnbmV0X3JhdGUnXSA9IHR2b19mb3JtYXRfZGZbJ25ldF9yYXRlJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9mbG9hdCkKICAgICAgICB0dm9fZm9ybWF0X2RmWydpbXByZXNzaW9ucyddID0gdHZvX2Zvcm1hdF9kZlsnaW1wcmVzc2lvbnMnXS5hc3R5cGUoJ3N0cicpLmFwcGx5KGNsZWFuX2ludCkKICAgICAgICB0dm9fZm9ybWF0X2RmWydzZWNvbmRhcnlfaW1wcmVzc2lvbnMnXSA9IHR2b19mb3JtYXRfZGZbJ3NlY29uZGFyeV9pbXByZXNzaW9ucyddLmFzdHlwZSgnc3RyJykuYXBwbHkoY2xlYW5faW50KQogICAgICAgIHR2b19mb3JtYXRfZGZbJ2RheXBhcnQnXSA9IHR2b19mb3JtYXRfZGZbJ2RheXBhcnQnXS5hcHBseShjbGVhbl9zdHJpbmcpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsncHJvZ3JhbSddID0gdHZvX2Zvcm1hdF9kZlsncHJvZ3JhbSddLmFwcGx5KGNsZWFuX3N0cmluZykKICAgICAgICB0dm9fZm9ybWF0X2RmWydidXlfY29kZXMnXSA9IHR2b19mb3JtYXRfZGZbJ2J1eV9jb2RlcyddLmFwcGx5KGNsZWFuX3N0cmluZykKICAgICAgICB0dm9fZm9ybWF0X2RmWydwcmVfa3BpJ10gPSB0dm9fZm9ybWF0X2RmWydwcmVfa3BpJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9pbnQpCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsncG9zdF9rcGknXSA9IHR2b19mb3JtYXRfZGZbJ3Bvc3Rfa3BpJ10uYXN0eXBlKCdzdHInKS5hcHBseShjbGVhbl9pbnQpCiAgICAgICAgICAgIAogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Jvd19pZCddID0gW3N0cih1dWlkLnV1aWQ0KCkpIGZvciBpIGluIHJhbmdlKGxlbih0dm9fZm9ybWF0X2RmKSldCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnczNfc291cmNlX2ZpbGUnXSA9ICIiCiAgICAgICAgdHZvX2Zvcm1hdF9kZlsnaW5nZXN0X3RpbWVzdGFtcCddID0gc3RyKGRhdGV0aW1lLm5vdygpKQogICAgICAgIHR2b19mb3JtYXRfZGZbJ3Byb2Nlc3NpbmdfdGltZXN0YW1wJ10gPSBjbGVhbl9zdHJpbmcoc3RyKGRhdGV0aW1lLm5vdygpKSkKCiAgICAgICAgY29sdW1uX2xpc3QgPSBbJ2V2ZW50X3RpbWVzdGFtcCcsICdhZHZlcnRpc2VyX25hbWUnLCAncHJvZHVjdF9uYW1lJywgJ3N0YXRpb25fbmFtZScsCiAgICAgICAnY3JlYXRpdmVfaXNjaScsICdjcmVhdGl2ZV9uYW1lJywgJ2NyZWF0aXZlX2R1cmF0aW9uJywgJ2twaV9pbmRleCcsCiAgICAgICAna3BpX25hbWUnLCAnbGlmdCcsICdiYXNlbGluZScsICduZXRfcmF0ZScsICdpbXByZXNzaW9ucycsICdzZWNvbmRhcnlfaW1wcmVzc2lvbnMnLCdkYXlwYXJ0JywKICAgICAgICdwcm9ncmFtJywgJ21hcmtldF9uYW1lJywgJ2J1eV9jb2RlcycsICdwcmVfa3BpJywgJ3Bvc3Rfa3BpJywKICAgICAgICdwcm9jZXNzaW5nX3RpbWVzdGFtcCcsICdpbmdlc3RfdGltZXN0YW1wJywgJ3MzX3NvdXJjZV9maWxlJywgJ3lyJywKICAgICAgICdtbycsICdkZCcsICdyb3dfaWQnXQogICAgICAgIHR2b19mb3JtYXRfZGYgPSB0dm9fZm9ybWF0X2RmW2NvbHVtbl9saXN0XQogICAgCiAgICAgICAgICAgIAoKICAgICAgICAjIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmX3R2byA9IHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmX3R2bwogICAgICAgICMgc3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYudG9fY3N2KHBhdGhfb3JfYnVmPSJkZWJ1Z18xOV9maW5hbF9vdXRwdXQuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IiwgaW5kZXg9IEZhbHNlKQogICAgICAgICMgY29sX25hbWVzLnRvX2NzdihwYXRoX29yX2J1Zj0iZGVidWdfMTlfY29lZnMuY3N2IiwgZW5jb2Rpbmc9InV0Zi04IikKICAgICAgICAKICAgIAoKICAgIAogICAgCiAgICAgIyAgICMgd3JpdGUgb3V0cHV0IGZpbGVzCiAgICAgIyAgIGFnZ3JlZ2F0ZWRfbGlmdF9kYXRhLnRvX2NzdihvdXRwdXRfZmlsZW5hbWVfYWdncmVnYXRlLCBlbmNvZGluZz0idXRmLTgiKQoKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgIyBTVEVQIDE3OiBVUExPQUQgRklMRVMgVE8gUzMKICAgICAjICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAjICAgbG9nZ2VyLmluZm8oJyhwaXBlbGluZS5ydW4pIFVwbG9hZGluZyBQZXJmb3JtYW5jZSBSZXN1bHRzIEZpbGUgdG8gUzMnKQogICAgICMgICB1dGlscy51cGxvYWRfZmlsZV9zM19wZXJmb3JtYW5jZSggICBpbnB1dF9maWxlbmFtZT1vdXRwdXRfZmlsZW5hbWVfYWdncmVnYXRlLAogICAgICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfbmFtZT1jbGllbnRrZXksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9pbmRleD1rcGlfaW5kZXgsCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZT1zdHIoc3RhcnRfZGF0ZSksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXN0cihlbmRfZGF0ZSksCiAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaD1icmFuY2gKICAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgIHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlX3R2bzJfZm9ybWF0KGlucHV0X2ZpbGU9c3BvdF9wbHVzX25vbnN0YXRpb25zcG90X3BsdXNfd2luZG93c3RhdHNfZGYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X25hbWU9Y2xpZW50a2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtwaV9pbmRleD1rcGlfaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZT1zdHIoc3RhcnRfZGF0ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU9c3RyKGVuZF9kYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2g9YnJhbmNoKQogICAgICAgIAogICAgICAgIHV0aWxzLnVwbG9hZF9maWxlX3MzX3BlcmZvcm1hbmNlX3R2b19mb3JtYXQoaW5wdXRfZmlsZT10dm9fZm9ybWF0X2RmLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X25hbWU9Y2xpZW50a2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga3BpX2luZGV4PWtwaV9pbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9c3RyKHN0YXJ0X2RhdGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU9c3RyKGVuZF9kYXRlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaD1icmFuY2gpCiAgICAgICAgcmV0dXJuIHNwb3RfcGx1c19ub25zdGF0aW9uc3BvdF9wbHVzX3dpbmRvd3N0YXRzX2RmCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmVycm9yKGYiRVJST1I6IFBpcGVsaW5lLlJ1biBGYWlsZWQ6IExpbmU6IHtmb3JtYXQoZXhjX2luZm8oKVstMV0udGJfbGluZW5vKX06IHtlfSIpCiAgICAgICAgIyBzeXMuZXhpdCgxKQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIkVSUk9SOiBQaXBlbGluZS5SdW4gRmFpbGVkOiBMaW5lOiB7Zm9ybWF0KGV4Y19pbmZvKClbLTFdLnRiX2xpbmVubyl9OiB7ZX0iKQoK\\\\\\\"}\\\",\\\"sandboxService\\\":[],\\\"notebookContent\\\":\\\"{\\\\\\\"nbformat_minor\\\\\\\":2,\\\\\\\"metadata\\\\\\\":{},\\\\\\\"cells\\\\\\\":[{\\\\\\\"outputs\\\\\\\":[],\\\\\\\"metadata\\\\\\\":{\\\\\\\"id\\\\\\\":\\\\\\\"5308491_0.013167704862612872\\\\\\\"},\\\\\\\"execution_count\\\\\\\":3,\\\\\\\"source\\\\\\\":[\\\\\\\"from datetime import datetime, timedelta\\\\\\\\nimport json\\\\\\\\nimport logging\\\\\\\\nlogging.basicConfig()\\\\\\\\nlogger = logging.getLogger('TVO_INPUT')\\\\\\\\nlogger.setLevel(logging.INFO)\\\\\\\\n\\\\\\\\nimport boto3\\\\\\\\nimport pandas as pd\\\\\\\\nimport psycopg2\\\\\\\\nfrom io import BytesIO\\\\\\\\nimport base64\\\\\\\\n\\\\\\\\ndef get_redshift_secret():\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME\\\\\\\\n    # connects to AWS secrets manager to get credentials\\\\\\\\n    session = boto3.session.Session()\\\\\\\\n    \\\\\\\\n    client = session.client(\\\\\\\\n        service_name='secretsmanager', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\n\\\\\\\\n    try:\\\\\\\\n        get_secret_value_response = client.get_secret_value(SecretId=SECRET_NAME)\\\\\\\\n    except Exception as e:\\\\\\\\n        logger.error(\\\\\\\\\\\\\\\"ERROR in getting redshift secrets\\\\\\\\\\\\\\\")\\\\\\\\n        raise\\\\\\\\n    else:\\\\\\\\n        if 'SecretString' in get_secret_value_response:\\\\\\\\n            secret = get_secret_value_response['SecretString']\\\\\\\\n        else:\\\\\\\\n            decoded_binary_secret = base64.b64decode(\\\\\\\\n                get_secret_value_response['SecretBinary'])\\\\\\\\n    return json.loads(secret)\\\\\\\\n\\\\\\\\ndef get_redshift_connection():\\\\\\\\n    # creates data base connection and passes it back to caller\\\\\\\\n    try:\\\\\\\\n        secrets = get_redshift_secret()\\\\\\\\n        conn = psycopg2.connect(dbname=secrets['DATABASE'],\\\\\\\\n                                host=secrets['HOST'],\\\\\\\\n                                port=secrets['PORT'],\\\\\\\\n                                user=secrets['USER'],\\\\\\\\n                                password=secrets['PASSWORD'])\\\\\\\\n        return conn\\\\\\\\n\\\\\\\\n    except Exception as e:\\\\\\\\n        logger.error(f'Error getting redshift connection details: Exception: {str(e)}')\\\\\\\\n        raise\\\\\\\\n        \\\\\\\\ndef run_redshift_query(redshift_query):\\\\\\\\n    conn = get_redshift_connection()\\\\\\\\n    df = pd.read_sql_query(redshift_query, con=conn)\\\\\\\\n    return df\\\\\\\\n\\\\\\\\ndef run_athena_query(query):\\\\\\\\n    global REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\n    \\\\\\\\n    ATHENA_CLIENT = boto3.client('athena', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\n    S3 = boto3.client('s3', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\n    logger.info(f'Starting Athena query execution')\\\\\\\\n    logger.info(f'Athena query:\\\\\\\\\\\\\\\\n{query}')\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\n        QueryString=query,\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\n    )\\\\\\\\n    \\\\\\\\n    # Get the query execution ID\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\n\\\\\\\\n    # Wait for the query to complete\\\\\\\\n    while True:\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\n\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\n            break\\\\\\\\n\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\n        s3_response_object = S3.get_object(Bucket=QUERY_BUCKET, Key=f\\\\\\\\\\\\\\\"{ATHENA_STATUS_OUTPUT_LOCATION.split('/')[-2]}/{query_execution_id}.csv\\\\\\\\\\\\\\\")\\\\\\\\n        object_content = s3_response_object['Body'].read()\\\\\\\\n        results = pd.read_csv(BytesIO(object_content))\\\\\\\\n        logger.info(f'Athena query ran successfully')\\\\\\\\n        return results\\\\\\\\n    elif status == 'FAILED':\\\\\\\\n        raise Exception('Query from Athena failed')\\\\\\\\n\\\\\\\\ndef client_modification(row):\\\\\\\\n    if row.lower().strip() == 'bbb':\\\\\\\\n        return 'overstock'\\\\\\\\n    elif row.lower() == 'rexmd' or row.lower() == 'singlecare':\\\\\\\\n        return 'rxsense'\\\\\\\\n    else:\\\\\\\\n        return row.lower()\\\\\\\\n        \\\\\\\\ndef prepare_data(data, lookback_days, opt_penalty_station,\\\\\\\\n                   opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch):\\\\\\\\n    global ATHENA_DATABASE, ATHENA_TABLE\\\\\\\\n    \\\\\\\\n    input_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\n    \\\\\\\\n    redshift_query = \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\n        select distinct c.clientkey_map, k.tvo_kpi_index, c.tvo_pre_window_minutes, c.tvo_post_window_minutes, c.tvo_include_freespots, c.tvo_include_impressions, c.dataset_start_date, c.dataset_end_date\\\\\\\\n        from portal_global_settings.client_mappings c, portal_global_settings.kpi_mappings k\\\\\\\\n        where c.clientkey_map = k.clientkey_map\\\\\\\\n        order by clientkey_map, tvo_kpi_index\\\\\\\\n        \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\n    \\\\\\\\n    for end_date_string in data[\\\\\\\\\\\\\\\"end_dates\\\\\\\\\\\\\\\"]:\\\\\\\\n        \\\\\\\\n        # Getting redshift results\\\\\\\\n        start_date = \\\\\\\\\\\\\\\"default\\\\\\\\\\\\\\\"\\\\\\\\n        end_dt = datetime(year=int(end_date_string.split(\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\")[0]), month=int(end_date_string.split(\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\")[1]), day=int(end_date_string.split(\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\")[2]), hour=0)\\\\\\\\n        prev_day = end_dt - timedelta(1)\\\\\\\\n        end_date = f'{prev_day.year}-{str(\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\".format(prev_day.month))}-{str(\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\".format(prev_day.day))}'\\\\\\\\n        redshift_df = run_redshift_query(redshift_query)\\\\\\\\n        redshift_df = redshift_df.drop(columns=['dataset_start_date','dataset_end_date'])\\\\\\\\n        redshift_df[['opt_penalty_station', 'opt_penalty_daypart', 'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds', 'branch', 'start_date', 'end_date']] = pd.DataFrame([[opt_penalty_station, opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch, start_date, end_date]], index=redshift_df.index)\\\\\\\\n        redshift_df = redshift_df.rename(columns = {'clientkey_map':'clientkey',\\\\\\\\n                                                 'tvo_kpi_index':'kpi_index',\\\\\\\\n                                                'tvo_pre_window_minutes':'lookbefore_mins',\\\\\\\\n                                                'tvo_post_window_minutes':'lookafter_mins',\\\\\\\\n                                                'tvo_include_freespots':'include_freespots',\\\\\\\\n                                                'tvo_include_impressions':'include_impressions'\\\\\\\\n                                                })\\\\\\\\n\\\\\\\\n        \\\\\\\\n        # Querying athena to get list of clients active in the past week\\\\\\\\n        dt = (datetime.strptime(end_date_string, '%Y-%m-%d'))\\\\\\\\n        end_check_date = dt.strftime(\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\")\\\\\\\\n        dt_7 = dt - timedelta(days=lookback_days)\\\\\\\\n        start_check_date = dt_7.strftime(\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\")\\\\\\\\n\\\\\\\\n        athena_query = f\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\n        select advertiser, count(*) as row_count from \\\\\\\\n        (select distinct * from {ATHENA_DATABASE}.{ATHENA_TABLE})\\\\\\\\n        where cast(broadcast_date as date) between cast('{str(start_check_date)}' as date) and cast('{str(end_check_date)}' as date)\\\\\\\\n        group by advertiser\\\\\\\\n        \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\n        athena_df = run_athena_query(athena_query)\\\\\\\\n        active_client_list = athena_df[athena_df['row_count']>0]['advertiser'].to_list()\\\\\\\\n        active_client_list = [i.lower().strip() for i in active_client_list]\\\\\\\\n        active_list_df = pd.DataFrame({'client_orig':active_client_list})\\\\\\\\n        active_list_df['client_mod'] = active_list_df['client_orig'].apply(client_modification)\\\\\\\\n        \\\\\\\\n        # Merging client list with configurations from redshift\\\\\\\\n        final_df = redshift_df.set_index('clientkey').merge(active_list_df.set_index('client_mod'), left_on='clientkey', right_on='client_mod')\\\\\\\\n        final_df = final_df.rename(columns={'client_orig':'clientkey'})\\\\\\\\n        final_df = final_df.dropna()\\\\\\\\n        input_df = pd.concat([input_df,final_df])\\\\\\\\n    input_df = input_df.sort_values(['end_date','clientkey','kpi_index'])\\\\\\\\n    return input_df\\\\\\\\n\\\\\\\\ndef start_func(data, secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket,\\\\\\\\n                  athena_table, branch, lookback_days=7, opt_penalty_station=1,\\\\\\\\n                   opt_penalty_daypart=1, opt_penalty_bucket=1, opt_penalty_variance=1, opt_max_seconds=60):\\\\\\\\n     \\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME, conn, cursor, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\n    AWS_ACCESS_KEY_ID = aws_access_key_id\\\\\\\\n    AWS_SECRET_ACCESS_KEY = aws_secret_access_key\\\\\\\\n    REGION_NAME = region_name\\\\\\\\n    SECRET_NAME = secret_name\\\\\\\\n    ATHENA_DATABASE = athena_database\\\\\\\\n    ATHENA_TABLE = athena_table\\\\\\\\n    ATHENA_STATUS_OUTPUT_LOCATION = athena_status_output_location\\\\\\\\n    QUERY_BUCKET = query_bucket\\\\\\\\n    \\\\\\\\n    result_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\n    \\\\\\\\n    results = prepare_data(data[0], int(lookback_days), int(opt_penalty_station),\\\\\\\\n               int(opt_penalty_daypart), int(opt_penalty_bucket), int(opt_penalty_variance), int(opt_max_seconds), branch)\\\\\\\\n        \\\\\\\\n    return results\\\\\\\"],\\\\\\\"cell_type\\\\\\\":\\\\\\\"code\\\\\\\"}],\\\\\\\"nbformat\\\\\\\":4}\\\",\\\"secrets\\\":\\\"{\\\\\\\"reserv1\\\\\\\":null,\\\\\\\"reserv2\\\\\\\":null,\\\\\\\"reserv3\\\\\\\":null,\\\\\\\"reserv4\\\\\\\":null,\\\\\\\"reserv5\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":null,\\\\\\\"isActive\\\\\\\":0,\\\\\\\"lastUpdatedDate\\\\\\\":null,\\\\\\\"active\\\\\\\":1,\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":2162688,\\\\\\\"type\\\\\\\":\\\\\\\"210\\\\\\\",\\\\\\\"status\\\\\\\":1,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"settings\\\\\\\":\\\\\\\"[{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"AWS\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"ACCESS_KEY_ID_BDB\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"SECRET_KEY_BDB\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"REGION\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"NAME\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"PROD\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"QUERY\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"RESULTS\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"SOURCE\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"BDB\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ATHENA\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"DATABASE\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ATTRIBUTION\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"CLIENT\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"UPLOADS_BUCKET\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"REDSHIFT\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"MTA_SECRET_NAME\\\\\\\\\\\\\\\"]},{\\\\\\\\\\\\\\\"secretkey\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"WURFL\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"secretDetails\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"BUCKET\\\\\\\\\\\\\\\"]}]\\\\\\\"}\\\",\\\"dataSource\\\":[],\\\"notebook\\\":\\\"{\\\\\\\"migrationId\\\\\\\":null,\\\\\\\"id\\\\\\\":5308500,\\\\\\\"projectId\\\\\\\":4751365,\\\\\\\"spaceKey\\\\\\\":\\\\\\\"1111\\\\\\\",\\\\\\\"notebookName\\\\\\\":\\\\\\\"tvo2_input_backfill\\\\\\\",\\\\\\\"data\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"datasets\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"uncheckeddatasets\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"5308491_0.013167704862612872\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"from datetime import datetime, timedelta\\\\\\\\\\\\\\\\nimport json\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\nlogging.basicConfig()\\\\\\\\\\\\\\\\nlogger = logging.getLogger('TVO_INPUT')\\\\\\\\\\\\\\\\nlogger.setLevel(logging.INFO)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\nimport pandas as pd\\\\\\\\\\\\\\\\nimport psycopg2\\\\\\\\\\\\\\\\nfrom io import BytesIO\\\\\\\\\\\\\\\\nimport base64\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef get_redshift_secret():\\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME\\\\\\\\\\\\\\\\n    # connects to AWS secrets manager to get credentials\\\\\\\\\\\\\\\\n    session = boto3.session.Session()\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    client = session.client(\\\\\\\\\\\\\\\\n        service_name='secretsmanager', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\n        get_secret_value_response = client.get_secret_value(SecretId=SECRET_NAME)\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\n        logger.error(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ERROR in getting redshift secrets\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\n        if 'SecretString' in get_secret_value_response:\\\\\\\\\\\\\\\\n            secret = get_secret_value_response['SecretString']\\\\\\\\\\\\\\\\n        else:\\\\\\\\\\\\\\\\n            decoded_binary_secret = base64.b64decode(\\\\\\\\\\\\\\\\n                get_secret_value_response['SecretBinary'])\\\\\\\\\\\\\\\\n    return json.loads(secret)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef get_redshift_connection():\\\\\\\\\\\\\\\\n    # creates data base connection and passes it back to caller\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\n        secrets = get_redshift_secret()\\\\\\\\\\\\\\\\n        conn = psycopg2.connect(dbname=secrets['DATABASE'],\\\\\\\\\\\\\\\\n                                host=secrets['HOST'],\\\\\\\\\\\\\\\\n                                port=secrets['PORT'],\\\\\\\\\\\\\\\\n                                user=secrets['USER'],\\\\\\\\\\\\\\\\n                                password=secrets['PASSWORD'])\\\\\\\\\\\\\\\\n        return conn\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\n        logger.error(f'Error getting redshift connection details: Exception: {str(e)}')\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\ndef run_redshift_query(redshift_query):\\\\\\\\\\\\\\\\n    conn = get_redshift_connection()\\\\\\\\\\\\\\\\n    df = pd.read_sql_query(redshift_query, con=conn)\\\\\\\\\\\\\\\\n    return df\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef run_athena_query(query):\\\\\\\\\\\\\\\\n    global REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    ATHENA_CLIENT = boto3.client('athena', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\n    S3 = boto3.client('s3', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\n    logger.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\n    logger.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\n        s3_response_object = S3.get_object(Bucket=QUERY_BUCKET, Key=f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{ATHENA_STATUS_OUTPUT_LOCATION.split('/')[-2]}/{query_execution_id}.csv\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\n        object_content = s3_response_object['Body'].read()\\\\\\\\\\\\\\\\n        results = pd.read_csv(BytesIO(object_content))\\\\\\\\\\\\\\\\n        logger.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\n        return results\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed')\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef client_modification(row):\\\\\\\\\\\\\\\\n    if row.lower().strip() == 'bbb':\\\\\\\\\\\\\\\\n        return 'overstock'\\\\\\\\\\\\\\\\n    elif row.lower() == 'rexmd' or row.lower() == 'singlecare':\\\\\\\\\\\\\\\\n        return 'rxsense'\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\n        return row.lower()\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\ndef prepare_data(data, lookback_days, opt_penalty_station,\\\\\\\\\\\\\\\\n                   opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch):\\\\\\\\\\\\\\\\n    global ATHENA_DATABASE, ATHENA_TABLE\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    input_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    redshift_query = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n        select distinct c.clientkey_map, k.tvo_kpi_index, c.tvo_pre_window_minutes, c.tvo_post_window_minutes, c.tvo_include_freespots, c.tvo_include_impressions, c.dataset_start_date, c.dataset_end_date\\\\\\\\\\\\\\\\n        from portal_global_settings.client_mappings c, portal_global_settings.kpi_mappings k\\\\\\\\\\\\\\\\n        where c.clientkey_map = k.clientkey_map\\\\\\\\\\\\\\\\n        order by clientkey_map, tvo_kpi_index\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    for end_date_string in data[\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"end_dates\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"]:\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n        # Getting redshift results\\\\\\\\\\\\\\\\n        start_date = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"default\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n        end_dt = datetime(year=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[0]), month=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[1]), day=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[2]), hour=0)\\\\\\\\\\\\\\\\n        prev_day = end_dt - timedelta(1)\\\\\\\\\\\\\\\\n        end_date = f'{prev_day.year}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.month))}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.day))}'\\\\\\\\\\\\\\\\n        redshift_df = run_redshift_query(redshift_query)\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.drop(columns=['dataset_start_date','dataset_end_date'])\\\\\\\\\\\\\\\\n        redshift_df[['opt_penalty_station', 'opt_penalty_daypart', 'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds', 'branch', 'start_date', 'end_date']] = pd.DataFrame([[opt_penalty_station, opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch, start_date, end_date]], index=redshift_df.index)\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.rename(columns = {'clientkey_map':'clientkey',\\\\\\\\\\\\\\\\n                                                 'tvo_kpi_index':'kpi_index',\\\\\\\\\\\\\\\\n                                                'tvo_pre_window_minutes':'lookbefore_mins',\\\\\\\\\\\\\\\\n                                                'tvo_post_window_minutes':'lookafter_mins',\\\\\\\\\\\\\\\\n                                                'tvo_include_freespots':'include_freespots',\\\\\\\\\\\\\\\\n                                                'tvo_include_impressions':'include_impressions'\\\\\\\\\\\\\\\\n                                                })\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n        # Querying athena to get list of clients active in the past week\\\\\\\\\\\\\\\\n        dt = (datetime.strptime(end_date_string, '%Y-%m-%d'))\\\\\\\\\\\\\\\\n        end_check_date = dt.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\n        dt_7 = dt - timedelta(days=lookback_days)\\\\\\\\\\\\\\\\n        start_check_date = dt_7.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\n        athena_query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n        select advertiser, count(*) as row_count from \\\\\\\\\\\\\\\\n        (select distinct * from {ATHENA_DATABASE}.{ATHENA_TABLE})\\\\\\\\\\\\\\\\n        where cast(broadcast_date as date) between cast('{str(start_check_date)}' as date) and cast('{str(end_check_date)}' as date)\\\\\\\\\\\\\\\\n        group by advertiser\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\n        athena_df = run_athena_query(athena_query)\\\\\\\\\\\\\\\\n        active_client_list = athena_df[athena_df['row_count']>0]['advertiser'].to_list()\\\\\\\\\\\\\\\\n        active_client_list = [i.lower().strip() for i in active_client_list]\\\\\\\\\\\\\\\\n        active_list_df = pd.DataFrame({'client_orig':active_client_list})\\\\\\\\\\\\\\\\n        active_list_df['client_mod'] = active_list_df['client_orig'].apply(client_modification)\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n        # Merging client list with configurations from redshift\\\\\\\\\\\\\\\\n        final_df = redshift_df.set_index('clientkey').merge(active_list_df.set_index('client_mod'), left_on='clientkey', right_on='client_mod')\\\\\\\\\\\\\\\\n        final_df = final_df.rename(columns={'client_orig':'clientkey'})\\\\\\\\\\\\\\\\n        final_df = final_df.dropna()\\\\\\\\\\\\\\\\n        input_df = pd.concat([input_df,final_df])\\\\\\\\\\\\\\\\n    input_df = input_df.sort_values(['end_date','clientkey','kpi_index'])\\\\\\\\\\\\\\\\n    return input_df\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\ndef start_func(data, secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket,\\\\\\\\\\\\\\\\n                  athena_table, branch, lookback_days=7, opt_penalty_station=1,\\\\\\\\\\\\\\\\n                   opt_penalty_daypart=1, opt_penalty_bucket=1, opt_penalty_variance=1, opt_max_seconds=60):\\\\\\\\\\\\\\\\n     \\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME, conn, cursor, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\n    AWS_ACCESS_KEY_ID = aws_access_key_id\\\\\\\\\\\\\\\\n    AWS_SECRET_ACCESS_KEY = aws_secret_access_key\\\\\\\\\\\\\\\\n    REGION_NAME = region_name\\\\\\\\\\\\\\\\n    SECRET_NAME = secret_name\\\\\\\\\\\\\\\\n    ATHENA_DATABASE = athena_database\\\\\\\\\\\\\\\\n    ATHENA_TABLE = athena_table\\\\\\\\\\\\\\\\n    ATHENA_STATUS_OUTPUT_LOCATION = athena_status_output_location\\\\\\\\\\\\\\\\n    QUERY_BUCKET = query_bucket\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    result_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\n    results = prepare_data(data[0], int(lookback_days), int(opt_penalty_station),\\\\\\\\\\\\\\\\n               int(opt_penalty_daypart), int(opt_penalty_bucket), int(opt_penalty_variance), int(opt_max_seconds), branch)\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"count\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"mode\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"preview\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"interrupt\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"warning\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"outputArray\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"lineNumber\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"laodmodel\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"pre_cell_id\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"is_pre_cell\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"succORerr\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"expand\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"outputexpand\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"readonly\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"markDowns\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"loader\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"image\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"error\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"result\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"algorithms\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"semicolon\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"cputimes\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"showcputime\\\\\\\\\\\\\\\":false,\\\\\\\\\\\\\\\"secret\\\\\\\\\\\\\\\":[]}],\\\\\\\\\\\\\\\"kernalID\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"4ca79944-9bbc-47ee-ba50-ef03c873d912\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Algorithms\\\\\\\\\\\\\\\":[],\\\\\\\\\\\\\\\"isScheduled\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"filename\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tvo2_input_backfill.ipynb\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"last_modified_date\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-11-21T15:09:19.000+00:00\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"description\\\\\\\":null,\\\\\\\"createdDate\\\\\\\":1700493597045,\\\\\\\"lastUpdatedDate\\\\\\\":1700581565071,\\\\\\\"createdBy\\\\\\\":4030470,\\\\\\\"updatedBy\\\\\\\":4030470,\\\\\\\"status\\\\\\\":1,\\\\\\\"committedBy\\\\\\\":4030470,\\\\\\\"lastcommittedDate\\\\\\\":1700493597045,\\\\\\\"isShared\\\\\\\":null,\\\\\\\"customComponentscript\\\\\\\":\\\\\\\"{\\\\\\\\\\\\\\\"DSLAB_content\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"[{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"5308491_0.013167704862612872\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"from datetime import datetime, timedelta\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport json\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogging.basicConfig()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogger = logging.getLogger('TVO_INPUT')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogger.setLevel(logging.INFO)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport pandas as pd\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport psycopg2\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nfrom io import BytesIO\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport base64\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_redshift_secret():\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # connects to AWS secrets manager to get credentials\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    session = boto3.session.Session()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    client = session.client(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        service_name='secretsmanager', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        get_secret_value_response = client.get_secret_value(SecretId=SECRET_NAME)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.error(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ERROR in getting redshift secrets\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if 'SecretString' in get_secret_value_response:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            secret = get_secret_value_response['SecretString']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            decoded_binary_secret = base64.b64decode(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                get_secret_value_response['SecretBinary'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return json.loads(secret)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_redshift_connection():\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # creates data base connection and passes it back to caller\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        secrets = get_redshift_secret()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        conn = psycopg2.connect(dbname=secrets['DATABASE'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                host=secrets['HOST'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                port=secrets['PORT'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                user=secrets['USER'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                password=secrets['PASSWORD'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return conn\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.error(f'Error getting redshift connection details: Exception: {str(e)}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_redshift_query(redshift_query):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    conn = get_redshift_connection()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    df = pd.read_sql_query(redshift_query, con=conn)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return df\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_athena_query(query):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_CLIENT = boto3.client('athena', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    S3 = boto3.client('s3', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logger.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logger.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        s3_response_object = S3.get_object(Bucket=QUERY_BUCKET, Key=f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{ATHENA_STATUS_OUTPUT_LOCATION.split('/')[-2]}/{query_execution_id}.csv\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        object_content = s3_response_object['Body'].read()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        results = pd.read_csv(BytesIO(object_content))\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef client_modification(row):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if row.lower().strip() == 'bbb':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return 'overstock'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif row.lower() == 'rexmd' or row.lower() == 'singlecare':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return 'rxsense'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return row.lower()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef prepare_data(data, lookback_days, opt_penalty_station,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                   opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global ATHENA_DATABASE, ATHENA_TABLE\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    redshift_query = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        select distinct c.clientkey_map, k.tvo_kpi_index, c.tvo_pre_window_minutes, c.tvo_post_window_minutes, c.tvo_include_freespots, c.tvo_include_impressions, c.dataset_start_date, c.dataset_end_date\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        from portal_global_settings.client_mappings c, portal_global_settings.kpi_mappings k\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        where c.clientkey_map = k.clientkey_map\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        order by clientkey_map, tvo_kpi_index\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    for end_date_string in data[\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"end_dates\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"]:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Getting redshift results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        start_date = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"default\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_dt = datetime(year=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[0]), month=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[1]), day=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[2]), hour=0)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        prev_day = end_dt - timedelta(1)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_date = f'{prev_day.year}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.month))}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.day))}'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = run_redshift_query(redshift_query)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.drop(columns=['dataset_start_date','dataset_end_date'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df[['opt_penalty_station', 'opt_penalty_daypart', 'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds', 'branch', 'start_date', 'end_date']] = pd.DataFrame([[opt_penalty_station, opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch, start_date, end_date]], index=redshift_df.index)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.rename(columns = {'clientkey_map':'clientkey',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                 'tvo_kpi_index':'kpi_index',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_pre_window_minutes':'lookbefore_mins',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_post_window_minutes':'lookafter_mins',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_include_freespots':'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_include_impressions':'include_impressions'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                })\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Querying athena to get list of clients active in the past week\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        dt = (datetime.strptime(end_date_string, '%Y-%m-%d'))\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_check_date = dt.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        dt_7 = dt - timedelta(days=lookback_days)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        start_check_date = dt_7.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        athena_query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        select advertiser, count(*) as row_count from \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        (select distinct * from {ATHENA_DATABASE}.{ATHENA_TABLE})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        where cast(broadcast_date as date) between cast('{str(start_check_date)}' as date) and cast('{str(end_check_date)}' as date)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        group by advertiser\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        athena_df = run_athena_query(athena_query)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_client_list = athena_df[athena_df['row_count']>0]['advertiser'].to_list()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_client_list = [i.lower().strip() for i in active_client_list]\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_list_df = pd.DataFrame({'client_orig':active_client_list})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_list_df['client_mod'] = active_list_df['client_orig'].apply(client_modification)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Merging client list with configurations from redshift\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = redshift_df.set_index('clientkey').merge(active_list_df.set_index('client_mod'), left_on='clientkey', right_on='client_mod')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = final_df.rename(columns={'client_orig':'clientkey'})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = final_df.dropna()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        input_df = pd.concat([input_df,final_df])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_df = input_df.sort_values(['end_date','clientkey','kpi_index'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return input_df\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef start_func(data, secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                  athena_table, branch, lookback_days=7, opt_penalty_station=1,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                   opt_penalty_daypart=1, opt_penalty_bucket=1, opt_penalty_variance=1, opt_max_seconds=60):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n     \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME, conn, cursor, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    AWS_ACCESS_KEY_ID = aws_access_key_id\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    AWS_SECRET_ACCESS_KEY = aws_secret_access_key\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    REGION_NAME = region_name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    SECRET_NAME = secret_name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_DATABASE = athena_database\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_TABLE = athena_table\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_STATUS_OUTPUT_LOCATION = athena_status_output_location\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    QUERY_BUCKET = query_bucket\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    result_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results = prepare_data(data[0], int(lookback_days), int(opt_penalty_station),\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n               int(opt_penalty_daypart), int(opt_penalty_bucket), int(opt_penalty_variance), int(opt_max_seconds), branch)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"count\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"error\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"code\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true}]\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pipeline_content\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"from datetime import datetime, timedelta\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport json\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport logging\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogging.basicConfig()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogger = logging.getLogger('TVO_INPUT')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nlogger.setLevel(logging.INFO)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport boto3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport pandas as pd\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport psycopg2\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nfrom io import BytesIO\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport base64\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_redshift_secret():\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # connects to AWS secrets manager to get credentials\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    session = boto3.session.Session()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    client = session.client(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        service_name='secretsmanager', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        get_secret_value_response = client.get_secret_value(SecretId=SECRET_NAME)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.error(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ERROR in getting redshift secrets\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if 'SecretString' in get_secret_value_response:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            secret = get_secret_value_response['SecretString']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            decoded_binary_secret = base64.b64decode(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                get_secret_value_response['SecretBinary'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return json.loads(secret)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef get_redshift_connection():\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # creates data base connection and passes it back to caller\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    try:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        secrets = get_redshift_secret()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        conn = psycopg2.connect(dbname=secrets['DATABASE'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                host=secrets['HOST'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                port=secrets['PORT'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                user=secrets['USER'],\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                password=secrets['PASSWORD'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return conn\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    except Exception as e:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.error(f'Error getting redshift connection details: Exception: {str(e)}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_redshift_query(redshift_query):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    conn = get_redshift_connection()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    df = pd.read_sql_query(redshift_query, con=conn)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return df\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef run_athena_query(query):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global REGION_NAME, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_CLIENT = boto3.client('athena', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    S3 = boto3.client('s3', region_name=REGION_NAME, aws_access_key_id=AWS_ACCESS_KEY_ID, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logger.info(f'Starting Athena query execution')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    logger.info(f'Athena query:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n{query}')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    response = ATHENA_CLIENT.start_query_execution(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryString=query,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        QueryExecutionContext={'Database': ATHENA_DATABASE},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        ResultConfiguration={'OutputLocation': ATHENA_STATUS_OUTPUT_LOCATION},\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        WorkGroup='juice_data'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    )\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Get the query execution ID\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    query_execution_id = response['QueryExecutionId']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Wait for the query to complete\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    while True:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        query_status = ATHENA_CLIENT.get_query_execution(QueryExecutionId=query_execution_id)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        status = query_status['QueryExecution']['Status']['State']\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        if status in ['SUCCEEDED', 'FAILED', 'CANCELLED']:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n            break\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    # Retrieve and return the query results if the query succeeded\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if status == 'SUCCEEDED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        s3_response_object = S3.get_object(Bucket=QUERY_BUCKET, Key=f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{ATHENA_STATUS_OUTPUT_LOCATION.split('/')[-2]}/{query_execution_id}.csv\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        object_content = s3_response_object['Body'].read()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        results = pd.read_csv(BytesIO(object_content))\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        logger.info(f'Athena query ran successfully')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif status == 'FAILED':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        raise Exception('Query from Athena failed')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef client_modification(row):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    if row.lower().strip() == 'bbb':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return 'overstock'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    elif row.lower() == 'rexmd' or row.lower() == 'singlecare':\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return 'rxsense'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    else:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        return row.lower()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef prepare_data(data, lookback_days, opt_penalty_station,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                   opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global ATHENA_DATABASE, ATHENA_TABLE\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    redshift_query = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        select distinct c.clientkey_map, k.tvo_kpi_index, c.tvo_pre_window_minutes, c.tvo_post_window_minutes, c.tvo_include_freespots, c.tvo_include_impressions, c.dataset_start_date, c.dataset_end_date\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        from portal_global_settings.client_mappings c, portal_global_settings.kpi_mappings k\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        where c.clientkey_map = k.clientkey_map\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        order by clientkey_map, tvo_kpi_index\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    for end_date_string in data[\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"end_dates\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"]:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Getting redshift results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        start_date = \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"default\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_dt = datetime(year=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[0]), month=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[1]), day=int(end_date_string.split(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"-\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")[2]), hour=0)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        prev_day = end_dt - timedelta(1)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_date = f'{prev_day.year}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.month))}-{str(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"{:02d}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\".format(prev_day.day))}'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = run_redshift_query(redshift_query)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.drop(columns=['dataset_start_date','dataset_end_date'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df[['opt_penalty_station', 'opt_penalty_daypart', 'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds', 'branch', 'start_date', 'end_date']] = pd.DataFrame([[opt_penalty_station, opt_penalty_daypart, opt_penalty_bucket, opt_penalty_variance, opt_max_seconds, branch, start_date, end_date]], index=redshift_df.index)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        redshift_df = redshift_df.rename(columns = {'clientkey_map':'clientkey',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                 'tvo_kpi_index':'kpi_index',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_pre_window_minutes':'lookbefore_mins',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_post_window_minutes':'lookafter_mins',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_include_freespots':'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                'tvo_include_impressions':'include_impressions'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                                                })\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Querying athena to get list of clients active in the past week\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        dt = (datetime.strptime(end_date_string, '%Y-%m-%d'))\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        end_check_date = dt.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        dt_7 = dt - timedelta(days=lookback_days)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        start_check_date = dt_7.strftime(\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"%Y-%m-%d\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\")\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        athena_query = f\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        select advertiser, count(*) as row_count from \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        (select distinct * from {ATHENA_DATABASE}.{ATHENA_TABLE})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        where cast(broadcast_date as date) between cast('{str(start_check_date)}' as date) and cast('{str(end_check_date)}' as date)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        group by advertiser\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        athena_df = run_athena_query(athena_query)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_client_list = athena_df[athena_df['row_count']>0]['advertiser'].to_list()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_client_list = [i.lower().strip() for i in active_client_list]\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_list_df = pd.DataFrame({'client_orig':active_client_list})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        active_list_df['client_mod'] = active_list_df['client_orig'].apply(client_modification)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        # Merging client list with configurations from redshift\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = redshift_df.set_index('clientkey').merge(active_list_df.set_index('client_mod'), left_on='clientkey', right_on='client_mod')\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = final_df.rename(columns={'client_orig':'clientkey'})\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        final_df = final_df.dropna()\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        input_df = pd.concat([input_df,final_df])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    input_df = input_df.sort_values(['end_date','clientkey','kpi_index'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return input_df\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ndef start_func(data, secret_name, region_name, athena_database, aws_access_key_id,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                aws_secret_access_key, athena_status_output_location, query_bucket,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                  athena_table, branch, lookback_days=7, opt_penalty_station=1,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                   opt_penalty_daypart=1, opt_penalty_bucket=1, opt_penalty_variance=1, opt_max_seconds=60):\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n     \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    global AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, REGION_NAME, SECRET_NAME, conn, cursor, ATHENA_DATABASE, ATHENA_TABLE, ATHENA_STATUS_OUTPUT_LOCATION, QUERY_BUCKET\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    AWS_ACCESS_KEY_ID = aws_access_key_id\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    AWS_SECRET_ACCESS_KEY = aws_secret_access_key\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    REGION_NAME = region_name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    SECRET_NAME = secret_name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_DATABASE = athena_database\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_TABLE = athena_table\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    ATHENA_STATUS_OUTPUT_LOCATION = athena_status_output_location\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    QUERY_BUCKET = query_bucket\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    result_df = pd.DataFrame(columns=['kpi_index', 'lookbefore_mins', 'lookafter_mins', 'include_freespots',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'include_impressions', 'opt_penalty_station', 'opt_penalty_daypart',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'opt_penalty_bucket', 'opt_penalty_variance', 'opt_max_seconds',\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n       'branch', 'start_date', 'end_date', 'clientkey'])\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    results = prepare_data(data[0], int(lookback_days), int(opt_penalty_station),\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n               int(opt_penalty_daypart), int(opt_penalty_bucket), int(opt_penalty_variance), int(opt_max_seconds), branch)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n        \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n    return results\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"externalLibraries\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"[{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"psycopg2==2.9.3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"boto3==1.21.5\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true},{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"psycopg2==2.9.3\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"ischecked\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\":true}]\\\\\\\\\\\\\\\"}\\\\\\\",\\\\\\\"type\\\\\\\":2,\\\\\\\"isScheduled\\\\\\\":null,\\\\\\\"isImported\\\\\\\":1,\\\\\\\"path\\\\\\\":null,\\\\\\\"uuid\\\\\\\":\\\\\\\"11111700493597054\\\\\\\"}\\\",\\\"preparation\\\":[]}}\"},\"sandboxService\":[],\"dataSource\":[],\"preparation\":[]}","logDestinationType":"","updatedBy":"User","isDatacatlog":false,"updatedOn":"2023-11-22T09:28:30.797Z[Etc/UTC]","spaceKey":"1111","createdFrom":1,"createdBy":"User","eDetails":[{"partitions":3,"isFailover":false,"isMapped":false,"displayName":"TVO2_backfill_event_1","deletedOn":"N/A","eventType":"kafkaEvent","isActive":true,"createdOn":"2023-11-20T09:48:10.22Z[Etc/UTC]","pipelineId":"dp_17004736553674710","actualPartitions":3,"maxOutput":1,"eventDuration":"","usedOutput":0,"isDeleted":false,"createdBy":"User","eventName":"TVO2_backfill_event_1_1700473690169_4980","isShared":false},{"partitions":3,"isFailover":false,"isMapped":false,"displayName":"TVO2_backfill_event_2","deletedOn":"N/A","eventType":"kafkaEvent","isActive":true,"createdOn":"2023-11-20T09:51:57.696Z[Etc/UTC]","pipelineId":"dp_17004736553674710","actualPartitions":3,"maxOutput":1,"eventDuration":"","usedOutput":0,"isDeleted":false,"createdBy":"User","eventName":"TVO2_backfill_event_2_1700473917659_1717","isShared":false},{"partitions":3,"isFailover":false,"isMapped":false,"displayName":"TVO2_backfill_event_3","deletedOn":"N/A","eventType":"kafkaEvent","isActive":true,"createdOn":"2023-11-20T09:53:39.769Z[Etc/UTC]","pipelineId":"dp_17004736553674710","actualPartitions":3,"maxOutput":1,"eventDuration":"","usedOutput":0,"isDeleted":false,"createdBy":"User","eventName":"TVO2_backfill_event_3_1700474019724_9806","isShared":false},{"partitions":3,"isFailover":false,"isMapped":false,"displayName":"TVO2_backfill_event_4","deletedOn":"N/A","eventType":"kafkaEvent","isActive":true,"createdOn":"2023-11-20T10:00:10.014Z[Etc/UTC]","pipelineId":"dp_17004736553674710","actualPartitions":3,"maxOutput":1,"eventDuration":"","usedOutput":0,"isDeleted":false,"createdBy":"User","eventName":"TVO2_backfill_event_4_1700474409971_6256","isShared":false},{"partitions":1,"isFailover":false,"isMapped":false,"displayName":"TVO2_backfill_event_5","deletedOn":"N/A","eventType":"kafkaEvent","isActive":true,"createdOn":"2023-11-22T09:27:45.922Z[Etc/UTC]","pipelineId":"dp_17004736553674710","actualPartitions":1,"maxOutput":1,"eventDuration":"","usedOutput":0,"isDeleted":false,"createdBy":"User","eventName":"TVO2_backfill_event_5_1700645265885_9735","isShared":false}],"metaDataVersion":"1.0","isScanned":0,"workFlowJson":{"ui.event":"[{\"displayName\":\"TVO2_backfill_event_1\",\"eventName\":\"TVO2_backfill_event_1_1700473690169_4980\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:48:10.22Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":3,\"eventType\":\"kafkaEvent\",\"isDeleted\":false},{\"displayName\":\"TVO2_backfill_event_2\",\"eventName\":\"TVO2_backfill_event_2_1700473917659_1717\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:51:57.696Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":3,\"eventType\":\"kafkaEvent\",\"isDeleted\":false},{\"displayName\":\"TVO2_backfill_event_3\",\"eventName\":\"TVO2_backfill_event_3_1700474019724_9806\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:53:39.769Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":3,\"eventType\":\"kafkaEvent\",\"isDeleted\":false},{\"displayName\":\"TVO2_backfill_event_4\",\"eventName\":\"TVO2_backfill_event_4_1700474409971_6256\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T10:00:10.014Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":3,\"eventType\":\"kafkaEvent\",\"isDeleted\":false},{\"displayName\":\"TVO2_backfill_event_5\",\"eventName\":\"TVO2_backfill_event_5_1700645265885_9735\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-22T09:27:45.922Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":1,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":1,\"eventType\":\"kafkaEvent\",\"isDeleted\":false}]","ui.flowchart":"{\"operators\":{\"b9fc-ed9b-476a-afb4-a011\":{\"top\":40,\"left\":320,\"type\":{\"componentId\":\"comp_16188590124008978\",\"name\":\"API Ingestion\",\"deploymentType\":\"docker\",\"imageName\":\"580240783317.dkr.ecr.us-west-2.amazonaws.com/apidatareader\",\"version\":\"8.5.0\",\"isExposed\":false,\"componentType\":\"system\",\"componentGroup\":\"Consumers\",\"componentUIMetaData\":{\"invocationTypes\":[{\"label\":\"Real-Time\",\"key\":\"realtime\"}],\"connector\":{\"endpoint\":{\"in\":0,\"out\":1}},\"icon\":\"assets/images/component-icons/api_server_ingestion_2.svg\",\"properties\":[{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"value\":\"Webhook\",\"key\":\"webhook\"},{\"value\":\"API Ingestion\",\"key\":\"apiIngestion\"}],\"label\":\"Ingestion Type\",\"key\":\"ingestionType\",\"order\":1,\"required\":true},{\"dynamicOption\":{\"request\":{\"path\":\"api/v1/apiingestion/getCredentials\",\"method\":\"get\",\"url\":\"\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"textbox\",\"cssClass\":\"col-sm-6\",\"readOnly\":true,\"label\":\"Ingestion Id\",\"value\":\"\",\"key\":\"ingestionId\",\"required\":true,\"order\":2},{\"controlType\":\"button\",\"hidden\":false,\"cssClass\":\"col-sm-1\",\"label\":\"Copy Ingestion Id\",\"key\":\"ingestionIdCopy\",\"order\":3},{\"controlType\":\"textbox\",\"cssClass\":\"col-sm-9\",\"readOnly\":true,\"label\":\"Ingestion Secret\",\"value\":\"\",\"key\":\"ingestionSecret\",\"required\":true,\"order\":4},{\"controlType\":\"button\",\"hidden\":false,\"cssClass\":\"col-sm-1\",\"label\":\"Copy Ingestion Secret\",\"key\":\"ingestionSecretCopy\",\"order\":5},{\"controlType\":\"textbox\",\"hidden\":true,\"cssClass\":\"col-sm-9\",\"readOnly\":true,\"label\":\"Component Instance Id URL\",\"value\":\"\",\"key\":\"componentInstanceIdURL\",\"order\":6},{\"controlType\":\"button\",\"hidden\":true,\"cssClass\":\"col-sm-1\",\"label\":\"Copy Link\",\"key\":\"copyLink\",\"isAPIServerIngestion\":true,\"order\":7}]},\"createdDate\":\"2021-04-19T19:03:32.4Z[Etc/UTC]\",\"updatedDate\":\"2021-05-28T13:01:33.779Z[Etc/UTC]\",\"createdBy\":\"User\",\"updatedBy\":\"user\",\"isActive\":true,\"isTestEnabled\":false,\"UiId\":\"b9fc-ed9b-476a-afb4-a011\",\"invocationMethodType\":\"realtime\",\"componentInstanceId\":\"comp1700473681691_inst_7360\",\"gUid\":\"1700473681691_1895\",\"action\":\"stop\",\"alertAction\":\"\"},\"properties\":{\"title\":\"API Ingestion\",\"inputs\":{},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"a812-240d-417c-801d-f28c\":{\"top\":140,\"left\":420,\"type\":{\"displayName\":\"TVO2_backfill_event_1\",\"eventName\":\"TVO2_backfill_event_1_1700473690169_4980\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:48:10.22Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"actualPartitions\":3,\"eventType\":\"kafkaEvent\",\"isDeleted\":false,\"type\":\"Event\",\"componentUIMetaData\":{\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"operatorId\":\"a812-240d-417c-801d-f28c\"},\"UiId\":\"a812-240d-417c-801d-f28c\"},\"properties\":{\"title\":\"TVO2_backfill_event_1\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"9087-5ed6-4c6f-8cea-316c\":{\"top\":140,\"left\":620,\"type\":{\"displayName\":\"TVO2_backfill_event_2\",\"eventName\":\"TVO2_backfill_event_2_1700473917659_1717\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:51:57.696Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"eventType\":\"kafkaEvent\",\"isDeleted\":false,\"type\":\"Event\",\"componentUIMetaData\":{\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"operatorId\":\"9087-5ed6-4c6f-8cea-316c\"},\"UiId\":\"9087-5ed6-4c6f-8cea-316c\"},\"properties\":{\"title\":\"TVO2_backfill_event_2\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"2d8f-21e7-4c78-8f76-c047\":{\"top\":40,\"left\":720,\"type\":{\"componentId\":\"comp_15464936690991417\",\"name\":\"load_balancer\",\"deploymentType\":\"docker\",\"imageName\":\"580240783317.dkr.ecr.us-west-2.amazonaws.com/custom_python_script\",\"version\":\"8.5.0\",\"isExposed\":false,\"componentType\":\"system\",\"componentGroup\":\"Scripting\",\"componentUIMetaData\":{\"invocationTypes\":[{\"label\":\"Real-Time\",\"key\":\"realtime\"},{\"label\":\"Batch\",\"key\":\"batch\"}],\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"icon\":\"assets/images/component-icons/custom_python_script.svg\",\"properties\":[{\"queryMode\":\"text/x-python\",\"indentUnit\":4,\"controlType\":\"queryeditor\",\"cssClass\":\"col-sm-12\",\"tooltip\":\"Enter the python script.\",\"label\":\"Script\",\"value\":\"\",\"required\":true,\"key\":\"script\",\"order\":5},{\"controlType\":\"textbox\",\"cssClass\":\"col-sm-3\",\"label\":\"Component Name\",\"value\":\"\",\"required\":true,\"key\":\"componentName\",\"order\":1},{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[],\"tooltip\":\"Select a start function name from the python script.\",\"label\":\"Start Function\",\"isPython\":true,\"required\":true,\"key\":\"startFunName\",\"order\":2},{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"value\":\"Data Frame\",\"key\":\"DataFrame\"},{\"value\":\"List\",\"key\":\"List\"}],\"disabled\":false,\"label\":\"In Event DataType\",\"required\":false,\"key\":\"funInputType\",\"order\":3},{\"isMulti\":true,\"controlType\":\"iterable\",\"cssClass\":\"col-sm-9\",\"addButton\":{\"label\":\"Add New Column\"},\"label\":\"Input Data\",\"properties\":[[{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"Tooltip\":\"Enter parameter name provided in the function as key.\",\"label\":\"Key\",\"key\":\"key\",\"order\":1},{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"tooltip\":\"Enter value of the given parameter passed in the function.\",\"label\":\"Value\",\"key\":\"value\",\"order\":2}]],\"key\":\"keyValueInputs\",\"isIterable\":true,\"order\":6},{\"cssClass\":\"col-sm-6\",\"controlType\":\"textbox\",\"label\":\"External Libraries [*Library name seperated by comma (,)]\",\"key\":\"libraryList\",\"order\":4}]},\"createdDate\":\"2019-01-08T10:02:30.033Z[Etc/UTC]\",\"updatedDate\":\"2023-03-27T12:02:22.567Z[Etc/UTC]\",\"createdBy\":\"User\",\"updatedBy\":\"user\",\"isActive\":true,\"isTestEnabled\":true,\"availableComparisons\":{\"compareData\":\"Compare Data\",\"compareColumnCount\":\"Compare Number of columns\",\"compareRowCount\":\"Compare number of Rows\",\"compareSchema\":\"Check Data matches Schema\"},\"UiId\":\"2d8f-21e7-4c78-8f76-c047\",\"invocationMethodType\":\"batch\",\"componentInstanceId\":\"comp1700473989110_inst_8626\",\"gUid\":\"1700473989110_9251\",\"action\":\"stop\",\"alertAction\":\"\"},\"properties\":{\"title\":\"load_balancer\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"c8db-fedb-4ae9-83d9-7501\":{\"top\":140,\"left\":800,\"type\":{\"displayName\":\"TVO2_backfill_event_3\",\"eventName\":\"TVO2_backfill_event_3_1700474019724_9806\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-20T09:53:39.769Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":3,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"eventType\":\"kafkaEvent\",\"isDeleted\":false,\"type\":\"Event\",\"componentUIMetaData\":{\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"operatorId\":\"c8db-fedb-4ae9-83d9-7501\"},\"UiId\":\"c8db-fedb-4ae9-83d9-7501\"},\"properties\":{\"title\":\"TVO2_backfill_event_3\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"0786-f76e-4c9e-a7b7-1db8\":{\"top\":40,\"left\":900,\"type\":{\"componentId\":\"comp_16449201586344539\",\"name\":\"tvo2_backfill\",\"deploymentType\":\"docker\",\"imageName\":\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dslab_model_runner\",\"version\":\"w8.5.2\",\"isExposed\":false,\"componentType\":\"system\",\"componentGroup\":\"Machine Learning\",\"componentUIMetaData\":{\"invocationTypes\":[{\"label\":\"Real-Time\",\"key\":\"realtime\"},{\"label\":\"Batch\",\"key\":\"batch\"}],\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"icon\":\"assets/images/component-icons/bdb-notebook1.svg\",\"properties\":[{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"isContainsNestedControl\":true,\"controlSet\":[{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the project name created in DS Lab module.\",\"label\":\"Project Name\",\"key\":\"dsLabProjectId\",\"required\":true,\"order\":6},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the saved model name\",\"label\":\"Model Name\",\"key\":\"dsLabModelId\",\"required\":true,\"order\":8}],\"value\":\"Model Runner\",\"key\":\"dsLabModelRunner\"},{\"isContainsNestedControl\":true,\"controlSet\":[{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"value\":\"Data Frame\",\"key\":\"dataFrame\"},{\"value\":\"List\",\"key\":\"List\"}],\"label\":\"Function Input Type\",\"key\":\"dsLabFunInputType\",\"required\":true,\"order\":2},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"label\":\"Project Name\",\"key\":\"dsLabProjectId\",\"required\":true,\"order\":3,\"tooltip\":\"Select the project name created in DS Lab module.\"},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\",\"url\":\"\"},\"response\":{\"binding\":{}}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the script name exported from the selected project.\",\"label\":\"Script Name\",\"key\":\"dsLabScriptId\",\"required\":true,\"order\":4},{\"controlType\":\"textbox\",\"cssClass\":\"col-sm-3\",\"readOnly\":false,\"label\":\"External Library\",\"key\":\"dsLabExternalLibrary\",\"order\":5,\"tooltip\":\"Comma saperated library names.\"},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\",\"url\":\"\"},\"response\":{\"binding\":{}}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[],\"tooltip\":\"Select the start function name from the script.\",\"label\":\"Start Function\",\"required\":true,\"key\":\"dsLabFunctionName\",\"order\":6},{\"controlType\":\"textareabox\",\"cssClass\":\"col-sm-12\",\"readOnly\":true,\"label\":\"Script\",\"rows\":8,\"value\":\"\",\"key\":\"dsLabScript\",\"required\":true,\"order\":7},{\"isMulti\":true,\"controlType\":\"iterable\",\"cssClass\":\"col-sm-12\",\"addButton\":{\"label\":\"Add New Column\"},\"label\":\"Input Data\",\"properties\":[[{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"label\":\"Key\",\"key\":\"key\",\"order\":1},{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"label\":\"Value\",\"key\":\"value\",\"order\":2}]],\"key\":\"dsLabInputData\",\"isIterable\":true,\"order\":8}],\"value\":\"Script Runner\",\"key\":\"dsLabScriptRunner\"}],\"isContainsNestedControl\":true,\"label\":\"Execution Type\",\"key\":\"dsLabExecutionType\",\"required\":true,\"order\":1}]},\"createdDate\":\"2022-02-15T10:15:58.635Z[Etc/UTC]\",\"updatedDate\":\"2023-03-24T11:40:28.292Z[Etc/UTC]\",\"createdBy\":\"User\",\"updatedBy\":\"user\",\"isActive\":true,\"isTestEnabled\":true,\"availableComparisons\":{\"compareData\":\"Compare Data\",\"compareColumnCount\":\"Compare Number of columns\",\"compareRowCount\":\"Compare number of Rows\",\"compareSchema\":\"Check Data matches Schema\"},\"UiId\":\"0786-f76e-4c9e-a7b7-1db8\",\"invocationMethodType\":\"realtime\",\"gUid\":\"1700474350629_4451\",\"action\":\"stop\",\"componentInstanceId\":\"comp1700477854606_inst_1830\",\"alertAction\":\"\"},\"properties\":{\"title\":\"tvo2_backfill\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"73f8-cf2a-473a-bf30-0d0b\":{\"top\":40,\"left\":520,\"type\":{\"componentId\":\"comp_16449201586344539\",\"name\":\"tvo2_backfill_input\",\"deploymentType\":\"docker\",\"imageName\":\"580240783317.dkr.ecr.us-west-2.amazonaws.com/dslab_model_runner\",\"version\":\"w8.5.2\",\"isExposed\":false,\"componentType\":\"system\",\"componentGroup\":\"Machine Learning\",\"componentUIMetaData\":{\"invocationTypes\":[{\"label\":\"Real-Time\",\"key\":\"realtime\"},{\"label\":\"Batch\",\"key\":\"batch\"}],\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"icon\":\"assets/images/component-icons/bdb-notebook1.svg\",\"properties\":[{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"isContainsNestedControl\":true,\"controlSet\":[{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the project name created in DS Lab module.\",\"label\":\"Project Name\",\"key\":\"dsLabProjectId\",\"required\":true,\"order\":6},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the saved model name\",\"label\":\"Model Name\",\"key\":\"dsLabModelId\",\"required\":true,\"order\":8}],\"value\":\"Model Runner\",\"key\":\"dsLabModelRunner\"},{\"isContainsNestedControl\":true,\"controlSet\":[{\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[{\"value\":\"Data Frame\",\"key\":\"dataFrame\"},{\"value\":\"List\",\"key\":\"List\"}],\"label\":\"Function Input Type\",\"key\":\"dsLabFunInputType\",\"required\":true,\"order\":2},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\"},\"response\":{}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"label\":\"Project Name\",\"key\":\"dsLabProjectId\",\"required\":true,\"order\":3,\"tooltip\":\"Select the project name created in DS Lab module.\"},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\",\"url\":\"\"},\"response\":{\"binding\":{}}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-6\",\"tooltip\":\"Select the script name exported from the selected project.\",\"label\":\"Script Name\",\"key\":\"dsLabScriptId\",\"required\":true,\"order\":4},{\"controlType\":\"textbox\",\"cssClass\":\"col-sm-3\",\"readOnly\":false,\"label\":\"External Library\",\"key\":\"dsLabExternalLibrary\",\"order\":5,\"tooltip\":\"Comma saperated library names.\"},{\"dynamicOption\":{\"request\":{\"path\":\"/cxf/bizviz/pluginService\",\"method\":\"post\",\"url\":\"\"},\"response\":{\"binding\":{}}},\"isDynamic\":true,\"controlType\":\"dropdown\",\"cssClass\":\"col-sm-3\",\"options\":[],\"tooltip\":\"Select the start function name from the script.\",\"label\":\"Start Function\",\"required\":true,\"key\":\"dsLabFunctionName\",\"order\":6},{\"controlType\":\"textareabox\",\"cssClass\":\"col-sm-12\",\"readOnly\":true,\"label\":\"Script\",\"rows\":8,\"value\":\"\",\"key\":\"dsLabScript\",\"required\":true,\"order\":7},{\"isMulti\":true,\"controlType\":\"iterable\",\"cssClass\":\"col-sm-12\",\"addButton\":{\"label\":\"Add New Column\"},\"label\":\"Input Data\",\"properties\":[[{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"label\":\"Key\",\"key\":\"key\",\"order\":1},{\"cssClass\":\"col-sm-3\",\"controlType\":\"textbox\",\"label\":\"Value\",\"key\":\"value\",\"order\":2}]],\"key\":\"dsLabInputData\",\"isIterable\":true,\"order\":8}],\"value\":\"Script Runner\",\"key\":\"dsLabScriptRunner\"}],\"isContainsNestedControl\":true,\"label\":\"Execution Type\",\"key\":\"dsLabExecutionType\",\"required\":true,\"order\":1}]},\"createdDate\":\"2022-02-15T10:15:58.635Z[Etc/UTC]\",\"updatedDate\":\"2023-03-24T11:40:28.292Z[Etc/UTC]\",\"createdBy\":\"User\",\"updatedBy\":\"user\",\"isActive\":true,\"isTestEnabled\":true,\"availableComparisons\":{\"compareData\":\"Compare Data\",\"compareColumnCount\":\"Compare Number of columns\",\"compareRowCount\":\"Compare number of Rows\",\"compareSchema\":\"Check Data matches Schema\"},\"UiId\":\"73f8-cf2a-473a-bf30-0d0b\",\"invocationMethodType\":\"batch\",\"gUid\":\"1700473896753_3666\",\"action\":\"stop\",\"componentInstanceId\":\"comp1700477948777_inst_6559\",\"alertAction\":\"\"},\"properties\":{\"title\":\"tvo2_backfill_input\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}},\"8a1d-43cf-4d11-a85d-0f2b\":{\"top\":140,\"left\":1000,\"type\":{\"displayName\":\"TVO2_backfill_event_5\",\"eventName\":\"TVO2_backfill_event_5_1700645265885_9735\",\"pipelineId\":\"dp_17004736553674710\",\"createdOn\":\"2023-11-22T09:27:45.922Z[Etc/UTC]\",\"createdBy\":\"User\",\"deletedOn\":\"N/A\",\"isActive\":true,\"isShared\":false,\"isFailover\":false,\"partitions\":1,\"maxOutput\":1,\"usedOutput\":0,\"eventDuration\":\"\",\"isMapped\":false,\"eventType\":\"kafkaEvent\",\"isDeleted\":false,\"type\":\"Event\",\"componentUIMetaData\":{\"connector\":{\"endpoint\":{\"in\":1,\"out\":1}},\"operatorId\":\"8a1d-43cf-4d11-a85d-0f2b\"},\"UiId\":\"8a1d-43cf-4d11-a85d-0f2b\"},\"properties\":{\"title\":\"TVO2_backfill_event_5\",\"inputs\":{\"input_0\":{\"label\":\"I_1\"}},\"outputs\":{\"output_0\":{\"label\":\"O_1\"}}}}},\"links\":{\"0\":{\"fromOperator\":\"b9fc-ed9b-476a-afb4-a011\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"a812-240d-417c-801d-f28c\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"1\":{\"fromOperator\":\"0786-f76e-4c9e-a7b7-1db8\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"8a1d-43cf-4d11-a85d-0f2b\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"3\":{\"fromOperator\":\"9087-5ed6-4c6f-8cea-316c\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"2d8f-21e7-4c78-8f76-c047\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"4\":{\"fromOperator\":\"2d8f-21e7-4c78-8f76-c047\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"c8db-fedb-4ae9-83d9-7501\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"7\":{\"fromOperator\":\"c8db-fedb-4ae9-83d9-7501\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"0786-f76e-4c9e-a7b7-1db8\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"9\":{\"fromOperator\":\"a812-240d-417c-801d-f28c\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"73f8-cf2a-473a-bf30-0d0b\",\"toConnector\":\"input_0\",\"toSubConnector\":0},\"10\":{\"fromOperator\":\"73f8-cf2a-473a-bf30-0d0b\",\"fromConnector\":\"output_0\",\"fromSubConnector\":0,\"toOperator\":\"9087-5ed6-4c6f-8cea-316c\",\"toConnector\":\"input_0\",\"toSubConnector\":0}},\"operatorTypes\":{}}","currentPipeline":"{\"pipelineId\":\"dp_17004736553674710\",\"components\":[{\"UiId\":\"73f8-cf2a-473a-bf30-0d0b\",\"action\":\"stop\",\"invocationMethodType\":\"batch\",\"componentInstanceId\":\"comp1700477948777_inst_6559\",\"gUid\":\"1700473896753_3666\"},{\"UiId\":\"0786-f76e-4c9e-a7b7-1db8\",\"action\":\"stop\",\"invocationMethodType\":\"realtime\",\"componentInstanceId\":\"comp1700477854606_inst_1830\",\"gUid\":\"1700474350629_4451\"},{\"UiId\":\"2d8f-21e7-4c78-8f76-c047\",\"action\":\"stop\",\"invocationMethodType\":\"batch\",\"componentInstanceId\":\"comp1700473989110_inst_8626\",\"gUid\":\"1700473989110_9251\"},{\"UiId\":\"b9fc-ed9b-476a-afb4-a011\",\"action\":\"stop\",\"invocationMethodType\":\"realtime\",\"componentInstanceId\":\"comp1700473681691_inst_7360\",\"gUid\":\"1700473681691_1895\"}],\"pipelineDefinition\":{\"name\":\"TVO2_backfill\",\"desc\":\"\"},\"enableLogs\":false,\"logDestinationType\":\"\",\"logType\":\"\",\"resourceLimit\":\"low\"}","com.pipeline":"W3siaWQiOiJiOWZjLWVkOWItNDc2YS1hZmI0LWEwMTEiLCJkYXRhIjp7InVpSnNvbiI6eyJpZCI6ImI5ZmMtZWQ5Yi00NzZhLWFmYjQtYTAxMSIsInRpdGxlIjoiQVBJIEluZ2VzdGlvbiIsImRhdGEiOnsidG9wIjoxMjAsImxlZnQiOjQwMCwidHlwZSI6eyJjb21wb25lbnRJZCI6ImNvbXBfMTYxODg1OTAxMjQwMDg5NzgiLCJuYW1lIjoiQVBJIEluZ2VzdGlvbiIsImRlcGxveW1lbnRUeXBlIjoiZG9ja2VyIiwiaW1hZ2VOYW1lIjoiNTgwMjQwNzgzMzE3LmRrci5lY3IudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vYXBpZGF0YXJlYWRlciIsInZlcnNpb24iOiI4LjUuMCIsImlzRXhwb3NlZCI6ZmFsc2UsImNvbXBvbmVudFR5cGUiOiJzeXN0ZW0iLCJjb21wb25lbnRHcm91cCI6IkNvbnN1bWVycyIsImNvbXBvbmVudFVJTWV0YURhdGEiOnsiaW52b2NhdGlvblR5cGVzIjpbeyJsYWJlbCI6IlJlYWwtVGltZSIsImtleSI6InJlYWx0aW1lIn1dLCJjb25uZWN0b3IiOnsiZW5kcG9pbnQiOnsiaW4iOjAsIm91dCI6MX19LCJpY29uIjoiYXNzZXRzL2ltYWdlcy9jb21wb25lbnQtaWNvbnMvYXBpX3NlcnZlcl9pbmdlc3Rpb25fMi5zdmciLCJwcm9wZXJ0aWVzIjpbeyJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOlt7InZhbHVlIjoiV2ViaG9vayIsImtleSI6IndlYmhvb2sifSx7InZhbHVlIjoiQVBJIEluZ2VzdGlvbiIsImtleSI6ImFwaUluZ2VzdGlvbiJ9XSwibGFiZWwiOiJJbmdlc3Rpb24gVHlwZSIsImtleSI6ImluZ2VzdGlvblR5cGUiLCJvcmRlciI6MSwicmVxdWlyZWQiOnRydWV9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiJhcGkvdjEvYXBpaW5nZXN0aW9uL2dldENyZWRlbnRpYWxzIiwibWV0aG9kIjoiZ2V0In0sInJlc3BvbnNlIjp7fX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiY3NzQ2xhc3MiOiJjb2wtc20tNiIsInJlYWRPbmx5Ijp0cnVlLCJsYWJlbCI6IkluZ2VzdGlvbiBJZCIsInZhbHVlIjoiIiwia2V5IjoiaW5nZXN0aW9uSWQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjJ9LHsiY29udHJvbFR5cGUiOiJidXR0b24iLCJoaWRkZW4iOmZhbHNlLCJjc3NDbGFzcyI6ImNvbC1zbS0xIiwibGFiZWwiOiJDb3B5IEluZ2VzdGlvbiBJZCIsImtleSI6ImluZ2VzdGlvbklkQ29weSIsIm9yZGVyIjozfSx7ImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImNzc0NsYXNzIjoiY29sLXNtLTkiLCJyZWFkT25seSI6dHJ1ZSwibGFiZWwiOiJJbmdlc3Rpb24gU2VjcmV0IiwidmFsdWUiOiIiLCJrZXkiOiJpbmdlc3Rpb25TZWNyZXQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjR9LHsiY29udHJvbFR5cGUiOiJidXR0b24iLCJoaWRkZW4iOmZhbHNlLCJjc3NDbGFzcyI6ImNvbC1zbS0xIiwibGFiZWwiOiJDb3B5IEluZ2VzdGlvbiBTZWNyZXQiLCJrZXkiOiJpbmdlc3Rpb25TZWNyZXRDb3B5Iiwib3JkZXIiOjV9LHsiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaGlkZGVuIjp0cnVlLCJjc3NDbGFzcyI6ImNvbC1zbS05IiwicmVhZE9ubHkiOnRydWUsImxhYmVsIjoiQ29tcG9uZW50IEluc3RhbmNlIElkIFVSTCIsInZhbHVlIjoiIiwia2V5IjoiY29tcG9uZW50SW5zdGFuY2VJZFVSTCIsIm9yZGVyIjo2fSx7ImNvbnRyb2xUeXBlIjoiYnV0dG9uIiwiaGlkZGVuIjp0cnVlLCJjc3NDbGFzcyI6ImNvbC1zbS0xIiwibGFiZWwiOiJDb3B5IExpbmsiLCJrZXkiOiJjb3B5TGluayIsImlzQVBJU2VydmVySW5nZXN0aW9uIjp0cnVlLCJvcmRlciI6N31dfSwiY3JlYXRlZERhdGUiOiIyMDIxLTA0LTE5VDE5OjAzOjMyLjRaW0V0Yy9VVENdIiwidXBkYXRlZERhdGUiOiIyMDIxLTA1LTI4VDEzOjAxOjMzLjc3OVpbRXRjL1VUQ10iLCJjcmVhdGVkQnkiOiJVc2VyIiwidXBkYXRlZEJ5IjoidXNlciIsImlzQWN0aXZlIjp0cnVlLCJpc1Rlc3RFbmFibGVkIjpmYWxzZSwiVWlJZCI6ImI5ZmMtZWQ5Yi00NzZhLWFmYjQtYTAxMSIsImNvbXBvbmVudEluc3RhbmNlSWQiOiJjb21wMTcwMDQ3MzY4MTY5MV9pbnN0XzczNjAiLCJnVWlkIjoiMTcwMDQ3MzY4MTY5MV8xODk1IiwiYWN0aW9uIjoic3RvcCJ9LCJwcm9wZXJ0aWVzIjp7InRpdGxlIjoiQVBJIEluZ2VzdGlvbiIsImlucHV0cyI6e30sIm91dHB1dHMiOnsib3V0cHV0XzAiOnsibGFiZWwiOiJPXzEifX19fSwibWlzYyI6eyJpbnB1dENvbXBvbmVudHMiOltdLCJvdXRwdXRDb21wb25lbnRzIjpbXX19LCJkYXRhIjp7ImNvbXBvbmVudElkIjoiY29tcF8xNjE4ODU5MDEyNDAwODk3OCIsIlVpSWQiOiJiOWZjLWVkOWItNDc2YS1hZmI0LWEwMTEiLCJkaXNwbGF5TmFtZSI6IkFQSSBJbmdlc3Rpb24iLCJkZXBsb3ltZW50VHlwZSI6ImRvY2tlciIsImNvbnRhaW5lckltYWdlTmFtZSI6IjU4MDI0MDc4MzMxNy5ka3IuZWNyLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tL2FwaWRhdGFyZWFkZXIiLCJjb250YWluZXJJbWFnZVZlcnNpb24iOiI4LjUuMCIsImNvbXBvbmVudFR5cGUiOiJzeXN0ZW0iLCJpbnZvY2F0aW9uTWV0aG9kVHlwZSI6InJlYWx0aW1lIiwiY29tcG9uZW50RGVzYyI6IiIsInByZUNvbmRpdGlvbkNoZWNrIjoiTm9uZSIsImlzU2NoZWR1bGVkIjpmYWxzZSwiY3JvbkV4cHJlc3Npb24iOiIiLCJpbWFnZVB1bGxTZWNyZXRSZWZzIjpbXSwiYWN0aW9uIjoic3RvcCIsImlzRGVwbG95Ijp0cnVlLCJpbkV2ZW50IjoiIiwib25TdWNjZXNzIjoiIiwiYWxlcnRBY3Rpb24iOiIiLCJvbkZhaWx1cmUiOiIiLCJiYXRjaFdpbmRvdyI6IiIsIm91dEV2ZW50IjpbIlRWTzJfYmFja2ZpbGxfZXZlbnRfMV8xNzAwNDczNjkwMTY5XzQ5ODAiXSwiY29tcG9uZW50TWV0YURhdGEiOnsiaW5nZXN0aW9uSWQiOiIxNzZlYzY0Yy01YTJkLTRmMDAtOTA0MS1kOGUxYjA2MWQxNjIiLCJpbmdlc3Rpb25TZWNyZXQiOiJFVDR4eDNZUXA2MlVDbHR3N1FxblRjemNJYm5DT2tWYzFrdDZKUmdzNk1iM3VMS1RZZzlFcEdVdElqRWJpIiwiaW5nZXN0aW9uVHlwZSI6ImFwaUluZ2VzdGlvbiJ9LCJpc0R5bmFtaWNBbGxvY2F0aW9uRW5hYmxlZCI6ZmFsc2UsImNvbXBvbmVudEluc3RhbmNlSWQiOiJjb21wMTcwMDQ3MzY4MTY5MV9pbnN0XzczNjAiLCJnVWlkIjoiMTcwMDQ3MzY4MTY5MV8xODk1In19fSx7ImlkIjoiMmQ4Zi0yMWU3LTRjNzgtOGY3Ni1jMDQ3IiwiZGF0YSI6eyJ1aUpzb24iOnsiaWQiOiIyZDhmLTIxZTctNGM3OC04Zjc2LWMwNDciLCJ0aXRsZSI6ImxvYWRfYmFsYW5jZXIiLCJkYXRhIjp7InRvcCI6NDAsImxlZnQiOjcyMCwidHlwZSI6eyJjb21wb25lbnRJZCI6ImNvbXBfMTU0NjQ5MzY2OTA5OTE0MTciLCJuYW1lIjoibG9hZF9iYWxhbmNlciIsImRlcGxveW1lbnRUeXBlIjoiZG9ja2VyIiwiaW1hZ2VOYW1lIjoiNTgwMjQwNzgzMzE3LmRrci5lY3IudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vY3VzdG9tX3B5dGhvbl9zY3JpcHQiLCJ2ZXJzaW9uIjoiOC41LjAiLCJpc0V4cG9zZWQiOmZhbHNlLCJjb21wb25lbnRUeXBlIjoic3lzdGVtIiwiY29tcG9uZW50R3JvdXAiOiJTY3JpcHRpbmciLCJjb21wb25lbnRVSU1ldGFEYXRhIjp7Imludm9jYXRpb25UeXBlcyI6W3sibGFiZWwiOiJSZWFsLVRpbWUiLCJrZXkiOiJyZWFsdGltZSJ9LHsibGFiZWwiOiJCYXRjaCIsImtleSI6ImJhdGNoIn1dLCJjb25uZWN0b3IiOnsiZW5kcG9pbnQiOnsiaW4iOjEsIm91dCI6MX19LCJpY29uIjoiYXNzZXRzL2ltYWdlcy9jb21wb25lbnQtaWNvbnMvY3VzdG9tX3B5dGhvbl9zY3JpcHQuc3ZnIiwicHJvcGVydGllcyI6W3sicXVlcnlNb2RlIjoidGV4dC94LXB5dGhvbiIsImluZGVudFVuaXQiOjQsImNvbnRyb2xUeXBlIjoicXVlcnllZGl0b3IiLCJjc3NDbGFzcyI6ImNvbC1zbS0xMiIsInRvb2x0aXAiOiJFbnRlciB0aGUgcHl0aG9uIHNjcmlwdC4iLCJsYWJlbCI6IlNjcmlwdCIsInZhbHVlIjoiZGVmIGZ1bmMoZGYpOlxuICAgIHJldHVybiBkZiIsInJlcXVpcmVkIjp0cnVlLCJrZXkiOiJzY3JpcHQiLCJvcmRlciI6NSwic2hvd1F1ZXJ5RWRpdG9yIjp0cnVlLCJzaG93UHVsbFNjcmlwdCI6dHJ1ZSwic2hvd1ZhbGlkYXRlQnV0dG9uIjp0cnVlLCJzY3JpcHRWYWxpZCI6ZmFsc2UsInNob3dQdXNoU2NyaXB0Ijp0cnVlLCJxdWVyeVR5cGUiOiJQeXRob24ifSx7ImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJsYWJlbCI6IkNvbXBvbmVudCBOYW1lIiwidmFsdWUiOiJ0dm8yX2xvYWRfYmFsYW5jZXIiLCJyZXF1aXJlZCI6dHJ1ZSwia2V5IjoiY29tcG9uZW50TmFtZSIsIm9yZGVyIjoxfSx7ImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W3sia2V5IjoiZnVuYyIsInZhbHVlIjoiZnVuYyJ9XSwidG9vbHRpcCI6IlNlbGVjdCBhIHN0YXJ0IGZ1bmN0aW9uIG5hbWUgZnJvbSB0aGUgcHl0aG9uIHNjcmlwdC4iLCJsYWJlbCI6IlN0YXJ0IEZ1bmN0aW9uIiwiaXNQeXRob24iOnRydWUsInJlcXVpcmVkIjp0cnVlLCJrZXkiOiJzdGFydEZ1bk5hbWUiLCJvcmRlciI6MiwidmFsdWUiOiJmdW5jIn0seyJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOlt7InZhbHVlIjoiRGF0YSBGcmFtZSIsImtleSI6IkRhdGFGcmFtZSJ9LHsidmFsdWUiOiJMaXN0Iiwia2V5IjoiTGlzdCJ9XSwiZGlzYWJsZWQiOmZhbHNlLCJsYWJlbCI6IkluIEV2ZW50IERhdGFUeXBlIGZvciBkZiIsInJlcXVpcmVkIjpmYWxzZSwia2V5IjoiZnVuSW5wdXRUeXBlIiwib3JkZXIiOjMsInZhbHVlIjoiRGF0YUZyYW1lIn0seyJpc011bHRpIjp0cnVlLCJjb250cm9sVHlwZSI6Iml0ZXJhYmxlIiwiY3NzQ2xhc3MiOiJjb2wtc20tOSIsImFkZEJ1dHRvbiI6eyJsYWJlbCI6IkFkZCBOZXcgQ29sdW1uIn0sImxhYmVsIjoiSW5wdXQgRGF0YSIsInByb3BlcnRpZXMiOltbeyJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwidG9vbHRpcCI6IkVudGVyIHZhbHVlIG9mIHRoZSBnaXZlbiBwYXJhbWV0ZXIgcGFzc2VkIGluIHRoZSBmdW5jdGlvbi4iLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV1dLCJrZXkiOiJrZXlWYWx1ZUlucHV0cyIsImlzSXRlcmFibGUiOnRydWUsIm9yZGVyIjo2fSx7ImNzc0NsYXNzIjoiY29sLXNtLTYiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJsYWJlbCI6IkV4dGVybmFsIExpYnJhcmllcyBbKkxpYnJhcnkgbmFtZSBzZXBlcmF0ZWQgYnkgY29tbWEgKCwpXSIsImtleSI6ImxpYnJhcnlMaXN0Iiwib3JkZXIiOjQsInZhbHVlIjoiIn1dfSwiY3JlYXRlZERhdGUiOiIyMDE5LTAxLTA4VDEwOjAyOjMwLjAzM1pbRXRjL1VUQ10iLCJ1cGRhdGVkRGF0ZSI6IjIwMjMtMDMtMjdUMTI6MDI6MjIuNTY3WltFdGMvVVRDXSIsImNyZWF0ZWRCeSI6IlVzZXIiLCJ1cGRhdGVkQnkiOiJ1c2VyIiwiaXNBY3RpdmUiOnRydWUsImlzVGVzdEVuYWJsZWQiOnRydWUsImF2YWlsYWJsZUNvbXBhcmlzb25zIjp7ImNvbXBhcmVEYXRhIjoiQ29tcGFyZSBEYXRhIiwiY29tcGFyZUNvbHVtbkNvdW50IjoiQ29tcGFyZSBOdW1iZXIgb2YgY29sdW1ucyIsImNvbXBhcmVSb3dDb3VudCI6IkNvbXBhcmUgbnVtYmVyIG9mIFJvd3MiLCJjb21wYXJlU2NoZW1hIjoiQ2hlY2sgRGF0YSBtYXRjaGVzIFNjaGVtYSJ9LCJVaUlkIjoiMmQ4Zi0yMWU3LTRjNzgtOGY3Ni1jMDQ3IiwiaW52b2NhdGlvbk1ldGhvZFR5cGUiOiJiYXRjaCIsImNvbXBvbmVudEluc3RhbmNlSWQiOiJjb21wMTcwMDQ3Mzk4OTExMF9pbnN0Xzg2MjYiLCJnVWlkIjoiMTcwMDQ3Mzk4OTExMF85MjUxIiwiYWN0aW9uIjoic3RvcCIsImFsZXJ0QWN0aW9uIjoiIn0sInByb3BlcnRpZXMiOnsidGl0bGUiOiJsb2FkX2JhbGFuY2VyIiwiaW5wdXRzIjp7ImlucHV0XzAiOnsibGFiZWwiOiJJXzEifX0sIm91dHB1dHMiOnsib3V0cHV0XzAiOnsibGFiZWwiOiJPXzEifX19fSwibWlzYyI6eyJpbnB1dENvbXBvbmVudHMiOlt7ImtleSI6IjkwODctNWVkNi00YzZmLThjZWEtMzE2YyIsInZhbHVlIjoiVFZPMl9iYWNrZmlsbF9ldmVudF8yIn1dLCJvdXRwdXRDb21wb25lbnRzIjpbeyJrZXkiOiJjOGRiLWZlZGItNGFlOS04M2Q5LTc1MDEiLCJ2YWx1ZSI6IlRWTzJfYmFja2ZpbGxfZXZlbnRfMyJ9XX19LCJkYXRhIjp7ImNvbXBvbmVudElkIjoiY29tcF8xNTQ2NDkzNjY5MDk5MTQxNyIsIlVpSWQiOiIyZDhmLTIxZTctNGM3OC04Zjc2LWMwNDciLCJjb21wb25lbnRJbnN0YW5jZUlkIjoiY29tcDE3MDA0NzM5ODkxMTBfaW5zdF84NjI2IiwiZGlzcGxheU5hbWUiOiJsb2FkX2JhbGFuY2VyIiwiZGVwbG95bWVudFR5cGUiOiJkb2NrZXIiLCJjb250YWluZXJJbWFnZU5hbWUiOiI1ODAyNDA3ODMzMTcuZGtyLmVjci51cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9jdXN0b21fcHl0aG9uX3NjcmlwdCIsImNvbnRhaW5lckltYWdlVmVyc2lvbiI6IjguNS4wIiwiY29tcG9uZW50VHlwZSI6InN5c3RlbSIsImludm9jYXRpb25NZXRob2RUeXBlIjoiYmF0Y2giLCJjb21wb25lbnREZXNjIjoiIiwicHJlQ29uZGl0aW9uQ2hlY2siOiJOb25lIiwiaXNTY2hlZHVsZWQiOmZhbHNlLCJjcm9uRXhwcmVzc2lvbiI6IiIsImltYWdlUHVsbFNlY3JldFJlZnMiOltdLCJhY3Rpb24iOiJzdG9wIiwiaXNEZXBsb3kiOnRydWUsImluRXZlbnQiOiJUVk8yX2JhY2tmaWxsX2V2ZW50XzJfMTcwMDQ3MzkxNzY1OV8xNzE3Iiwib25TdWNjZXNzIjoiIiwiYWxlcnRBY3Rpb24iOiIiLCJvbkZhaWx1cmUiOiIiLCJiYXRjaFdpbmRvdyI6IjEiLCJvdXRFdmVudCI6WyJUVk8yX2JhY2tmaWxsX2V2ZW50XzNfMTcwMDQ3NDAxOTcyNF85ODA2Il0sImNvbXBvbmVudE1ldGFEYXRhIjp7ImNvbXBvbmVudE5hbWUiOiJ0dm8yX2xvYWRfYmFsYW5jZXIiLCJzY3JpcHQiOiJkZWYgZnVuYyhkZik6XG4gICAgcmV0dXJuIGRmIiwic3RhcnRGdW5OYW1lIjoiZnVuYyIsImZ1bklucHV0VHlwZSI6IkRhdGFGcmFtZSIsImlucHV0RGF0YSI6IltdIiwibGlicmFyeUxpc3QiOltdfSwiaXNEeW5hbWljQWxsb2NhdGlvbkVuYWJsZWQiOmZhbHNlLCJncmFjZVBlcmlvZCI6IjYwIiwiZ1VpZCI6IjE3MDA0NzM5ODkxMTBfOTI1MSJ9fX0seyJpZCI6IjA3ODYtZjc2ZS00YzllLWE3YjctMWRiOCIsImRhdGEiOnsidWlKc29uIjp7ImlkIjoiMDc4Ni1mNzZlLTRjOWUtYTdiNy0xZGI4IiwidGl0bGUiOiJ0dm8yX2JhY2tmaWxsIiwiZGF0YSI6eyJ0b3AiOjQwLCJsZWZ0Ijo5MDAsInR5cGUiOnsiY29tcG9uZW50SWQiOiJjb21wXzE2NDQ5MjAxNTg2MzQ0NTM5IiwibmFtZSI6InR2bzJfYmFja2ZpbGwiLCJkZXBsb3ltZW50VHlwZSI6ImRvY2tlciIsImltYWdlTmFtZSI6IjU4MDI0MDc4MzMxNy5ka3IuZWNyLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tL2RzbGFiX21vZGVsX3J1bm5lciIsInZlcnNpb24iOiJ3OC41LjIiLCJpc0V4cG9zZWQiOmZhbHNlLCJjb21wb25lbnRUeXBlIjoic3lzdGVtIiwiY29tcG9uZW50R3JvdXAiOiJNYWNoaW5lIExlYXJuaW5nIiwiY29tcG9uZW50VUlNZXRhRGF0YSI6eyJpbnZvY2F0aW9uVHlwZXMiOlt7ImxhYmVsIjoiUmVhbC1UaW1lIiwia2V5IjoicmVhbHRpbWUifSx7ImxhYmVsIjoiQmF0Y2giLCJrZXkiOiJiYXRjaCJ9XSwiY29ubmVjdG9yIjp7ImVuZHBvaW50Ijp7ImluIjoxLCJvdXQiOjF9fSwiaWNvbiI6ImFzc2V0cy9pbWFnZXMvY29tcG9uZW50LWljb25zL2JkYi1ub3RlYm9vazEuc3ZnIiwicHJvcGVydGllcyI6W3siY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJvcHRpb25zIjpbeyJpc0NvbnRhaW5zTmVzdGVkQ29udHJvbCI6dHJ1ZSwiY29udHJvbFNldCI6W3siZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCJ9LCJyZXNwb25zZSI6e319LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS02IiwidG9vbHRpcCI6IlNlbGVjdCB0aGUgcHJvamVjdCBuYW1lIGNyZWF0ZWQgaW4gRFMgTGFiIG1vZHVsZS4iLCJsYWJlbCI6IlByb2plY3QgTmFtZSIsImtleSI6ImRzTGFiUHJvamVjdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo2fSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QifSwicmVzcG9uc2UiOnt9fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tNiIsInRvb2x0aXAiOiJTZWxlY3QgdGhlIHNhdmVkIG1vZGVsIG5hbWUiLCJsYWJlbCI6Ik1vZGVsIE5hbWUiLCJrZXkiOiJkc0xhYk1vZGVsSWQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjh9XSwidmFsdWUiOiJNb2RlbCBSdW5uZXIiLCJrZXkiOiJkc0xhYk1vZGVsUnVubmVyIn0seyJpc0NvbnRhaW5zTmVzdGVkQ29udHJvbCI6dHJ1ZSwiY29udHJvbFNldCI6W3siY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJvcHRpb25zIjpbeyJ2YWx1ZSI6IkRhdGEgRnJhbWUiLCJrZXkiOiJkYXRhRnJhbWUifSx7InZhbHVlIjoiTGlzdCIsImtleSI6Ikxpc3QifV0sImxhYmVsIjoiRnVuY3Rpb24gSW5wdXQgVHlwZSIsImtleSI6ImRzTGFiRnVuSW5wdXRUeXBlIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjoyLCJ2YWx1ZSI6Ikxpc3QifSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QiLCJib2R5Ijp7Im1ldGhvZCI6IlBPU1QiLCJkYXRhIjp7fX19LCJyZXNwb25zZSI6eyJiaW5kaW5nIjpbeyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ1ODc1NCwibmFtZSI6IlBpeGVsIFJhdyBEYXRhIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ1ODc1NSwibmFtZSI6Ik1UQSBQcm9jZXNzIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6MzIxMTI2NCwibmFtZSI6IkFsZXJ0cyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6MzIxMTI2NSwibmFtZSI6IkRhdGEgY29tcGFyaXNvbnMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjYsIm5hbWUiOiJwaXhlbCBjb21wYXJpc2lvbiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkyOCwibmFtZSI6InRlc3Rwcm9qZWN0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTI5LCJuYW1lIjoiSk1QaXhlbFByb2Nlc3NpbmciLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MzEsIm5hbWUiOiJNVEFKb2JzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTMyLCJuYW1lIjoiZGVtbyBnaXQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MzQsIm5hbWUiOiJEZXYgU2NyYXRjaFBhZCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0MiwibmFtZSI6IkNhc3VhbCBQcmVjaXNpb24gQWRzZXJ2ZXIgYW5kIFNwZW5kIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ0LCJuYW1lIjoiUGl4ZWwgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0NiwibmFtZSI6Ik1heG1pbmQgRGF0YWJhc2UgUmVmcmVzaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0NywibmFtZSI6IkV4dHJlbWUgUmVhY2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDgsIm5hbWUiOiJFeHRyZW1lIFJlYWNoIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1MywibmFtZSI6Ik9wdGltaXplciIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1NSwibmFtZSI6InRlc3RleHBvcnQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTYsIm5hbWUiOiJNZWRpYSBPY2VhbiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1NywibmFtZSI6IlRWTyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1OSwibmFtZSI6ImFkc2VydmVyIHZhbGlkYXRpb24iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjIsIm5hbWUiOiJNVEEgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2MywibmFtZSI6Ik1lZGlhIE9jZWFuIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NCwibmFtZSI6Ik9wdGltaXplciBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjUsIm5hbWUiOiJQaXhlbCBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY2LCJuYW1lIjoiUGl4ZWwgUHJvY2VzcyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ2MjAyODgsIm5hbWUiOiJFeHRyZW1lIFJlYWNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzYwLCJuYW1lIjoibmV3dGVzdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2NSwibmFtZSI6IlRWTzIwIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzY4LCJuYW1lIjoiVFZPIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM3MCwibmFtZSI6Ik9wdGltaXplciB2MiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk1NCwibmFtZSI6Ik9wdGltaXplclRlc3RKaWFxaSIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk1NSwibmFtZSI6Ik9wdGltaXplclRlc3RKb2VsIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTYxLCJuYW1lIjoiVFZPMjAgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTY2LCJuYW1lIjoid3VyZmxzYW5pdHl0ZXN0MSIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfV19fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tNiIsImxhYmVsIjoiUHJvamVjdCBOYW1lIiwia2V5IjoiZHNMYWJQcm9qZWN0SWQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjMsInRvb2x0aXAiOiJTZWxlY3QgdGhlIHByb2plY3QgbmFtZSBjcmVhdGVkIGluIERTIExhYiBtb2R1bGUuIiwidmFsdWUiOiI0NzUxMzY1In0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0IiwiYm9keSI6eyJtZXRob2QiOiJQT1NUIiwiZGF0YSI6eyJwcm9qZWN0SWQiOiI0NzUxMzY1In19fSwicmVzcG9uc2UiOnsiYmluZGluZyI6W3siaWQiOjUzMDg0OTgsInByb2plY3RJZCI6NDc1MTM2NSwic3BhY2VLZXkiOiIxMTExIiwibm90ZWJvb2tOYW1lIjoiaW5wdXRfdHZvMiIsInR5cGUiOjF9LHsiaWQiOjUzMDg0OTksInByb2plY3RJZCI6NDc1MTM2NSwic3BhY2VLZXkiOiIxMTExIiwibm90ZWJvb2tOYW1lIjoidHZvMl9kcml2ZXIiLCJ0eXBlIjoxfSx7ImlkIjo1MzA4NTAwLCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6InR2bzJfaW5wdXRfYmFja2ZpbGwiLCJ0eXBlIjoxfV19fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tNiIsInRvb2x0aXAiOiJTZWxlY3QgdGhlIHNjcmlwdCBuYW1lIGV4cG9ydGVkIGZyb20gdGhlIHNlbGVjdGVkIHByb2plY3QuIiwibGFiZWwiOiJTY3JpcHQgTmFtZSIsImtleSI6ImRzTGFiU2NyaXB0SWQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjQsInZhbHVlIjoiNTMwODUwMCJ9LHsiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsInJlYWRPbmx5IjpmYWxzZSwibGFiZWwiOiJFeHRlcm5hbCBMaWJyYXJ5Iiwia2V5IjoiZHNMYWJFeHRlcm5hbExpYnJhcnkiLCJvcmRlciI6NSwidG9vbHRpcCI6IkNvbW1hIHNhcGVyYXRlZCBsaWJyYXJ5IG5hbWVzLiIsInZhbHVlIjoicHN5Y29wZzI9PTIuOS4zLGJvdG8zPT0xLjIxLjUscHN5Y29wZzI9PTIuOS4zIn0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0IiwiYm9keSI6eyJtZXRob2QiOiJQT1NUIiwiZGF0YSI6eyJpZCI6IjUzMDg1MDAifX19LCJyZXNwb25zZSI6eyJiaW5kaW5nIjp7fX19LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W10sInRvb2x0aXAiOiJTZWxlY3QgdGhlIHN0YXJ0IGZ1bmN0aW9uIG5hbWUgZnJvbSB0aGUgc2NyaXB0LiIsImxhYmVsIjoiU3RhcnQgRnVuY3Rpb24iLCJyZXF1aXJlZCI6dHJ1ZSwia2V5IjoiZHNMYWJGdW5jdGlvbk5hbWUiLCJvcmRlciI6NiwidmFsdWUiOiJzdGFydF9mdW5jIn0seyJjb250cm9sVHlwZSI6InRleHRhcmVhYm94IiwiY3NzQ2xhc3MiOiJjb2wtc20tMTIiLCJyZWFkT25seSI6dHJ1ZSwibGFiZWwiOiJTY3JpcHQiLCJyb3dzIjo4LCJ2YWx1ZSI6ImZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGFcbmltcG9ydCBqc29uXG5pbXBvcnQgbG9nZ2luZ1xubG9nZ2luZy5iYXNpY0NvbmZpZygpXG5sb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcignVFZPX0lOUFVUJylcbmxvZ2dlci5zZXRMZXZlbChsb2dnaW5nLklORk8pXG5cbmltcG9ydCBib3RvM1xuaW1wb3J0IHBhbmRhcyBhcyBwZFxuaW1wb3J0IHBzeWNvcGcyXG5mcm9tIGlvIGltcG9ydCBCeXRlc0lPXG5pbXBvcnQgYmFzZTY0XG5cbmRlZiBnZXRfcmVkc2hpZnRfc2VjcmV0KCk6XG4gICAgZ2xvYmFsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIFJFR0lPTl9OQU1FLCBTRUNSRVRfTkFNRVxuICAgICMgY29ubmVjdHMgdG8gQVdTIHNlY3JldHMgbWFuYWdlciB0byBnZXQgY3JlZGVudGlhbHNcbiAgICBzZXNzaW9uID0gYm90bzMuc2Vzc2lvbi5TZXNzaW9uKClcbiAgICBcbiAgICBjbGllbnQgPSBzZXNzaW9uLmNsaWVudChcbiAgICAgICAgc2VydmljZV9uYW1lPSdzZWNyZXRzbWFuYWdlcicsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcblxuICAgIHRyeTpcbiAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZSA9IGNsaWVudC5nZXRfc2VjcmV0X3ZhbHVlKFNlY3JldElkPVNFQ1JFVF9OQU1FKVxuICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiRVJST1IgaW4gZ2V0dGluZyByZWRzaGlmdCBzZWNyZXRzXCIpXG4gICAgICAgIHJhaXNlXG4gICAgZWxzZTpcbiAgICAgICAgaWYgJ1NlY3JldFN0cmluZycgaW4gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZTpcbiAgICAgICAgICAgIHNlY3JldCA9IGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2VbJ1NlY3JldFN0cmluZyddXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBkZWNvZGVkX2JpbmFyeV9zZWNyZXQgPSBiYXNlNjQuYjY0ZGVjb2RlKFxuICAgICAgICAgICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2VbJ1NlY3JldEJpbmFyeSddKVxuICAgIHJldHVybiBqc29uLmxvYWRzKHNlY3JldClcblxuZGVmIGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKCk6XG4gICAgIyBjcmVhdGVzIGRhdGEgYmFzZSBjb25uZWN0aW9uIGFuZCBwYXNzZXMgaXQgYmFjayB0byBjYWxsZXJcbiAgICB0cnk6XG4gICAgICAgIHNlY3JldHMgPSBnZXRfcmVkc2hpZnRfc2VjcmV0KClcbiAgICAgICAgY29ubiA9IHBzeWNvcGcyLmNvbm5lY3QoZGJuYW1lPXNlY3JldHNbJ0RBVEFCQVNFJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q9c2VjcmV0c1snSE9TVCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0PXNlY3JldHNbJ1BPUlQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj1zZWNyZXRzWydVU0VSJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXNlY3JldHNbJ1BBU1NXT1JEJ10pXG4gICAgICAgIHJldHVybiBjb25uXG5cbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIGdldHRpbmcgcmVkc2hpZnQgY29ubmVjdGlvbiBkZXRhaWxzOiBFeGNlcHRpb246IHtzdHIoZSl9JylcbiAgICAgICAgcmFpc2VcbiAgICAgICAgXG5kZWYgcnVuX3JlZHNoaWZ0X3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5KTpcbiAgICBjb25uID0gZ2V0X3JlZHNoaWZ0X2Nvbm5lY3Rpb24oKVxuICAgIGRmID0gcGQucmVhZF9zcWxfcXVlcnkocmVkc2hpZnRfcXVlcnksIGNvbj1jb25uKVxuICAgIHJldHVybiBkZlxuXG5kZWYgcnVuX2F0aGVuYV9xdWVyeShxdWVyeSk6XG4gICAgZ2xvYmFsIFJFR0lPTl9OQU1FLCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRSwgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04sIFFVRVJZX0JVQ0tFVFxuICAgIFxuICAgIEFUSEVOQV9DTElFTlQgPSBib3RvMy5jbGllbnQoJ2F0aGVuYScsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcbiAgICBTMyA9IGJvdG8zLmNsaWVudCgnczMnLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG4gICAgbG9nZ2VyLmluZm8oZidTdGFydGluZyBBdGhlbmEgcXVlcnkgZXhlY3V0aW9uJylcbiAgICBsb2dnZXIuaW5mbyhmJ0F0aGVuYSBxdWVyeTpcXG57cXVlcnl9JylcbiAgICByZXNwb25zZSA9IEFUSEVOQV9DTElFTlQuc3RhcnRfcXVlcnlfZXhlY3V0aW9uKFxuICAgICAgICBRdWVyeVN0cmluZz1xdWVyeSxcbiAgICAgICAgUXVlcnlFeGVjdXRpb25Db250ZXh0PXsnRGF0YWJhc2UnOiBBVEhFTkFfREFUQUJBU0V9LFxuICAgICAgICBSZXN1bHRDb25maWd1cmF0aW9uPXsnT3V0cHV0TG9jYXRpb24nOiBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTn0sXG4gICAgICAgIFdvcmtHcm91cD0nanVpY2VfZGF0YSdcbiAgICApXG4gICAgXG4gICAgIyBHZXQgdGhlIHF1ZXJ5IGV4ZWN1dGlvbiBJRFxuICAgIHF1ZXJ5X2V4ZWN1dGlvbl9pZCA9IHJlc3BvbnNlWydRdWVyeUV4ZWN1dGlvbklkJ11cblxuICAgICMgV2FpdCBmb3IgdGhlIHF1ZXJ5IHRvIGNvbXBsZXRlXG4gICAgd2hpbGUgVHJ1ZTpcbiAgICAgICAgcXVlcnlfc3RhdHVzID0gQVRIRU5BX0NMSUVOVC5nZXRfcXVlcnlfZXhlY3V0aW9uKFF1ZXJ5RXhlY3V0aW9uSWQ9cXVlcnlfZXhlY3V0aW9uX2lkKVxuICAgICAgICBzdGF0dXMgPSBxdWVyeV9zdGF0dXNbJ1F1ZXJ5RXhlY3V0aW9uJ11bJ1N0YXR1cyddWydTdGF0ZSddXG5cbiAgICAgICAgaWYgc3RhdHVzIGluIFsnU1VDQ0VFREVEJywgJ0ZBSUxFRCcsICdDQU5DRUxMRUQnXTpcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAjIFJldHJpZXZlIGFuZCByZXR1cm4gdGhlIHF1ZXJ5IHJlc3VsdHMgaWYgdGhlIHF1ZXJ5IHN1Y2NlZWRlZFxuICAgIGlmIHN0YXR1cyA9PSAnU1VDQ0VFREVEJzpcbiAgICAgICAgczNfcmVzcG9uc2Vfb2JqZWN0ID0gUzMuZ2V0X29iamVjdChCdWNrZXQ9UVVFUllfQlVDS0VULCBLZXk9Zlwie0FUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLnNwbGl0KCcvJylbLTJdfS97cXVlcnlfZXhlY3V0aW9uX2lkfS5jc3ZcIilcbiAgICAgICAgb2JqZWN0X2NvbnRlbnQgPSBzM19yZXNwb25zZV9vYmplY3RbJ0JvZHknXS5yZWFkKClcbiAgICAgICAgcmVzdWx0cyA9IHBkLnJlYWRfY3N2KEJ5dGVzSU8ob2JqZWN0X2NvbnRlbnQpKVxuICAgICAgICBsb2dnZXIuaW5mbyhmJ0F0aGVuYSBxdWVyeSByYW4gc3VjY2Vzc2Z1bGx5JylcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNcbiAgICBlbGlmIHN0YXR1cyA9PSAnRkFJTEVEJzpcbiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCdRdWVyeSBmcm9tIEF0aGVuYSBmYWlsZWQnKVxuXG5kZWYgY2xpZW50X21vZGlmaWNhdGlvbihyb3cpOlxuICAgIGlmIHJvdy5sb3dlcigpLnN0cmlwKCkgPT0gJ2JiYic6XG4gICAgICAgIHJldHVybiAnb3ZlcnN0b2NrJ1xuICAgIGVsaWYgcm93Lmxvd2VyKCkgPT0gJ3JleG1kJyBvciByb3cubG93ZXIoKSA9PSAnc2luZ2xlY2FyZSc6XG4gICAgICAgIHJldHVybiAncnhzZW5zZSdcbiAgICBlbHNlOlxuICAgICAgICByZXR1cm4gcm93Lmxvd2VyKClcbiAgICAgICAgXG5kZWYgcHJlcGFyZV9kYXRhKGRhdGEsIGxvb2tiYWNrX2RheXMsIG9wdF9wZW5hbHR5X3N0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gpOlxuICAgIGdsb2JhbCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRVxuICAgIFxuICAgIGlucHV0X2RmID0gcGQuRGF0YUZyYW1lKGNvbHVtbnM9WydrcGlfaW5kZXgnLCAnbG9va2JlZm9yZV9taW5zJywgJ2xvb2thZnRlcl9taW5zJywgJ2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucycsICdvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLFxuICAgICAgICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJyxcbiAgICAgICAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnLCAnY2xpZW50a2V5J10pXG4gICAgXG4gICAgcmVkc2hpZnRfcXVlcnkgPSBcIlwiXCJcbiAgICAgICAgc2VsZWN0IGRpc3RpbmN0IGMuY2xpZW50a2V5X21hcCwgay50dm9fa3BpX2luZGV4LCBjLnR2b19wcmVfd2luZG93X21pbnV0ZXMsIGMudHZvX3Bvc3Rfd2luZG93X21pbnV0ZXMsIGMudHZvX2luY2x1ZGVfZnJlZXNwb3RzLCBjLnR2b19pbmNsdWRlX2ltcHJlc3Npb25zLCBjLmRhdGFzZXRfc3RhcnRfZGF0ZSwgYy5kYXRhc2V0X2VuZF9kYXRlXG4gICAgICAgIGZyb20gcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5jbGllbnRfbWFwcGluZ3MgYywgcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5rcGlfbWFwcGluZ3Mga1xuICAgICAgICB3aGVyZSBjLmNsaWVudGtleV9tYXAgPSBrLmNsaWVudGtleV9tYXBcbiAgICAgICAgb3JkZXIgYnkgY2xpZW50a2V5X21hcCwgdHZvX2twaV9pbmRleFxuICAgICAgICBcIlwiXCJcbiAgICBcbiAgICBmb3IgZW5kX2RhdGVfc3RyaW5nIGluIGRhdGFbXCJlbmRfZGF0ZXNcIl06XG4gICAgICAgIFxuICAgICAgICAjIEdldHRpbmcgcmVkc2hpZnQgcmVzdWx0c1xuICAgICAgICBzdGFydF9kYXRlID0gXCJkZWZhdWx0XCJcbiAgICAgICAgZW5kX2R0ID0gZGF0ZXRpbWUoeWVhcj1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVswXSksIG1vbnRoPWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzFdKSwgZGF5PWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzJdKSwgaG91cj0wKVxuICAgICAgICBwcmV2X2RheSA9IGVuZF9kdCAtIHRpbWVkZWx0YSgxKVxuICAgICAgICBlbmRfZGF0ZSA9IGYne3ByZXZfZGF5LnllYXJ9LXtzdHIoXCJ7OjAyZH1cIi5mb3JtYXQocHJldl9kYXkubW9udGgpKX0te3N0cihcIns6MDJkfVwiLmZvcm1hdChwcmV2X2RheS5kYXkpKX0nXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcnVuX3JlZHNoaWZ0X3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5KVxuICAgICAgICByZWRzaGlmdF9kZiA9IHJlZHNoaWZ0X2RmLmRyb3AoY29sdW1ucz1bJ2RhdGFzZXRfc3RhcnRfZGF0ZScsJ2RhdGFzZXRfZW5kX2RhdGUnXSlcbiAgICAgICAgcmVkc2hpZnRfZGZbWydvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLCAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZSddXSA9IHBkLkRhdGFGcmFtZShbW29wdF9wZW5hbHR5X3N0YXRpb24sIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoLCBzdGFydF9kYXRlLCBlbmRfZGF0ZV1dLCBpbmRleD1yZWRzaGlmdF9kZi5pbmRleClcbiAgICAgICAgcmVkc2hpZnRfZGYgPSByZWRzaGlmdF9kZi5yZW5hbWUoY29sdW1ucyA9IHsnY2xpZW50a2V5X21hcCc6J2NsaWVudGtleScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19rcGlfaW5kZXgnOidrcGlfaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19wcmVfd2luZG93X21pbnV0ZXMnOidsb29rYmVmb3JlX21pbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19wb3N0X3dpbmRvd19taW51dGVzJzonbG9va2FmdGVyX21pbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19pbmNsdWRlX2ZyZWVzcG90cyc6J2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9faW5jbHVkZV9pbXByZXNzaW9ucyc6J2luY2x1ZGVfaW1wcmVzc2lvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgIFxuICAgICAgICAjIFF1ZXJ5aW5nIGF0aGVuYSB0byBnZXQgbGlzdCBvZiBjbGllbnRzIGFjdGl2ZSBpbiB0aGUgcGFzdCB3ZWVrXG4gICAgICAgIGR0ID0gKGRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlX3N0cmluZywgJyVZLSVtLSVkJykpXG4gICAgICAgIGVuZF9jaGVja19kYXRlID0gZHQuc3RyZnRpbWUoXCIlWS0lbS0lZFwiKVxuICAgICAgICBkdF83ID0gZHQgLSB0aW1lZGVsdGEoZGF5cz1sb29rYmFja19kYXlzKVxuICAgICAgICBzdGFydF9jaGVja19kYXRlID0gZHRfNy5zdHJmdGltZShcIiVZLSVtLSVkXCIpXG5cbiAgICAgICAgYXRoZW5hX3F1ZXJ5ID0gZlwiXCJcIlxuICAgICAgICBzZWxlY3QgYWR2ZXJ0aXNlciwgY291bnQoKikgYXMgcm93X2NvdW50IGZyb20gXG4gICAgICAgIChzZWxlY3QgZGlzdGluY3QgKiBmcm9tIHtBVEhFTkFfREFUQUJBU0V9LntBVEhFTkFfVEFCTEV9KVxuICAgICAgICB3aGVyZSBjYXN0KGJyb2FkY2FzdF9kYXRlIGFzIGRhdGUpIGJldHdlZW4gY2FzdCgne3N0cihzdGFydF9jaGVja19kYXRlKX0nIGFzIGRhdGUpIGFuZCBjYXN0KCd7c3RyKGVuZF9jaGVja19kYXRlKX0nIGFzIGRhdGUpXG4gICAgICAgIGdyb3VwIGJ5IGFkdmVydGlzZXJcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIGF0aGVuYV9kZiA9IHJ1bl9hdGhlbmFfcXVlcnkoYXRoZW5hX3F1ZXJ5KVxuICAgICAgICBhY3RpdmVfY2xpZW50X2xpc3QgPSBhdGhlbmFfZGZbYXRoZW5hX2RmWydyb3dfY291bnQnXT4wXVsnYWR2ZXJ0aXNlciddLnRvX2xpc3QoKVxuICAgICAgICBhY3RpdmVfY2xpZW50X2xpc3QgPSBbaS5sb3dlcigpLnN0cmlwKCkgZm9yIGkgaW4gYWN0aXZlX2NsaWVudF9saXN0XVxuICAgICAgICBhY3RpdmVfbGlzdF9kZiA9IHBkLkRhdGFGcmFtZSh7J2NsaWVudF9vcmlnJzphY3RpdmVfY2xpZW50X2xpc3R9KVxuICAgICAgICBhY3RpdmVfbGlzdF9kZlsnY2xpZW50X21vZCddID0gYWN0aXZlX2xpc3RfZGZbJ2NsaWVudF9vcmlnJ10uYXBwbHkoY2xpZW50X21vZGlmaWNhdGlvbilcbiAgICAgICAgXG4gICAgICAgICMgTWVyZ2luZyBjbGllbnQgbGlzdCB3aXRoIGNvbmZpZ3VyYXRpb25zIGZyb20gcmVkc2hpZnRcbiAgICAgICAgZmluYWxfZGYgPSByZWRzaGlmdF9kZi5zZXRfaW5kZXgoJ2NsaWVudGtleScpLm1lcmdlKGFjdGl2ZV9saXN0X2RmLnNldF9pbmRleCgnY2xpZW50X21vZCcpLCBsZWZ0X29uPSdjbGllbnRrZXknLCByaWdodF9vbj0nY2xpZW50X21vZCcpXG4gICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYucmVuYW1lKGNvbHVtbnM9eydjbGllbnRfb3JpZyc6J2NsaWVudGtleSd9KVxuICAgICAgICBmaW5hbF9kZiA9IGZpbmFsX2RmLmRyb3BuYSgpXG4gICAgICAgIGlucHV0X2RmID0gcGQuY29uY2F0KFtpbnB1dF9kZixmaW5hbF9kZl0pXG4gICAgaW5wdXRfZGYgPSBpbnB1dF9kZi5zb3J0X3ZhbHVlcyhbJ2VuZF9kYXRlJywnY2xpZW50a2V5Jywna3BpX2luZGV4J10pXG4gICAgcmV0dXJuIGlucHV0X2RmXG5cbmRlZiBzdGFydF9mdW5jKGRhdGEsIHNlY3JldF9uYW1lLCByZWdpb25fbmFtZSwgYXRoZW5hX2RhdGFiYXNlLCBhd3NfYWNjZXNzX2tleV9pZCxcbiAgICAgICAgICAgICAgICBhd3Nfc2VjcmV0X2FjY2Vzc19rZXksIGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uLCBxdWVyeV9idWNrZXQsXG4gICAgICAgICAgICAgICAgICBhdGhlbmFfdGFibGUsIGJyYW5jaCwgbG9va2JhY2tfZGF5cz03LCBvcHRfcGVuYWx0eV9zdGF0aW9uPTEsXG4gICAgICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfZGF5cGFydD0xLCBvcHRfcGVuYWx0eV9idWNrZXQ9MSwgb3B0X3BlbmFsdHlfdmFyaWFuY2U9MSwgb3B0X21heF9zZWNvbmRzPTYwKTpcbiAgICAgXG4gICAgZ2xvYmFsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIFJFR0lPTl9OQU1FLCBTRUNSRVRfTkFNRSwgY29ubiwgY3Vyc29yLCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRSwgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04sIFFVRVJZX0JVQ0tFVFxuICAgIEFXU19BQ0NFU1NfS0VZX0lEID0gYXdzX2FjY2Vzc19rZXlfaWRcbiAgICBBV1NfU0VDUkVUX0FDQ0VTU19LRVkgPSBhd3Nfc2VjcmV0X2FjY2Vzc19rZXlcbiAgICBSRUdJT05fTkFNRSA9IHJlZ2lvbl9uYW1lXG4gICAgU0VDUkVUX05BTUUgPSBzZWNyZXRfbmFtZVxuICAgIEFUSEVOQV9EQVRBQkFTRSA9IGF0aGVuYV9kYXRhYmFzZVxuICAgIEFUSEVOQV9UQUJMRSA9IGF0aGVuYV90YWJsZVxuICAgIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb25cbiAgICBRVUVSWV9CVUNLRVQgPSBxdWVyeV9idWNrZXRcbiAgICBcbiAgICByZXN1bHRfZGYgPSBwZC5EYXRhRnJhbWUoY29sdW1ucz1bJ2twaV9pbmRleCcsICdsb29rYmVmb3JlX21pbnMnLCAnbG9va2FmdGVyX21pbnMnLCAnaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJywgJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsXG4gICAgICAgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLFxuICAgICAgICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZScsICdjbGllbnRrZXknXSlcbiAgICBcbiAgICByZXN1bHRzID0gcHJlcGFyZV9kYXRhKGRhdGFbMF0sIGludChsb29rYmFja19kYXlzKSwgaW50KG9wdF9wZW5hbHR5X3N0YXRpb24pLFxuICAgICAgICAgICAgICAgaW50KG9wdF9wZW5hbHR5X2RheXBhcnQpLCBpbnQob3B0X3BlbmFsdHlfYnVja2V0KSwgaW50KG9wdF9wZW5hbHR5X3ZhcmlhbmNlKSwgaW50KG9wdF9tYXhfc2Vjb25kcyksIGJyYW5jaClcbiAgICAgICAgXG4gICAgcmV0dXJuIHJlc3VsdHMiLCJrZXkiOiJkc0xhYlNjcmlwdCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6N30seyJpc011bHRpIjp0cnVlLCJjb250cm9sVHlwZSI6Iml0ZXJhYmxlIiwiY3NzQ2xhc3MiOiJjb2wtc20tMTIiLCJhZGRCdXR0b24iOnsibGFiZWwiOiJBZGQgTmV3IENvbHVtbiJ9LCJsYWJlbCI6IklucHV0IERhdGEiLCJwcm9wZXJ0aWVzIjpbW3sia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7ImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6InMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoidHZvMiIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6InNlY3JldF9uYW1lIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5SRURTSElGVF9NVEFfU0VDUkVUX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJyZWdpb25fbmFtZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUkVHSU9OX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhdGhlbmFfZGF0YWJhc2UiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFUSEVOQV9EQVRBQkFTRSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF3c19hY2Nlc3Nfa2V5X2lkIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BV1NfQUNDRVNTX0tFWV9JRF9CREIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhd3Nfc2VjcmV0X2FjY2Vzc19rZXkiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFXU19TRUNSRVRfS0VZX0JEQiIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5RVUVSWV9SRVNVTFRTIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoicXVlcnlfYnVja2V0Iiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5QUk9EX0JVQ0tFVCIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dXSwia2V5IjoiZHNMYWJJbnB1dERhdGEiLCJpc0l0ZXJhYmxlIjp0cnVlLCJvcmRlciI6OH1dLCJ2YWx1ZSI6IlNjcmlwdCBSdW5uZXIiLCJrZXkiOiJkc0xhYlNjcmlwdFJ1bm5lciJ9XSwiaXNDb250YWluc05lc3RlZENvbnRyb2wiOnRydWUsImxhYmVsIjoiRXhlY3V0aW9uIFR5cGUiLCJrZXkiOiJkc0xhYkV4ZWN1dGlvblR5cGUiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjEsInZhbHVlIjoiZHNMYWJTY3JpcHRSdW5uZXIifSx7ImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W3sidmFsdWUiOiJEYXRhIEZyYW1lIiwia2V5IjoiZGF0YUZyYW1lIn0seyJ2YWx1ZSI6Ikxpc3QiLCJrZXkiOiJMaXN0In1dLCJsYWJlbCI6IkZ1bmN0aW9uIElucHV0IFR5cGUiLCJrZXkiOiJkc0xhYkZ1bklucHV0VHlwZSIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6MiwidmFsdWUiOiJMaXN0In0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0IiwiYm9keSI6eyJtZXRob2QiOiJQT1NUIiwiZGF0YSI6e319fSwicmVzcG9uc2UiOnsiYmluZGluZyI6W3sicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTQsIm5hbWUiOiJQaXhlbCBSYXcgRGF0YSBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTUsIm5hbWUiOiJNVEEgUHJvY2VzcyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjQsIm5hbWUiOiJBbGVydHMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjUsIm5hbWUiOiJEYXRhIGNvbXBhcmlzb25zIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY2LCJuYW1lIjoicGl4ZWwgY29tcGFyaXNpb24iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MjgsIm5hbWUiOiJ0ZXN0cHJvamVjdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkyOSwibmFtZSI6IkpNUGl4ZWxQcm9jZXNzaW5nIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTMxLCJuYW1lIjoiTVRBSm9icyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzMiwibmFtZSI6ImRlbW8gZ2l0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTM0LCJuYW1lIjoiRGV2IFNjcmF0Y2hQYWQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDIsIm5hbWUiOiJDYXN1YWwgUHJlY2lzaW9uIEFkc2VydmVyIGFuZCBTcGVuZCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0NCwibmFtZSI6IlBpeGVsIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDYsIm5hbWUiOiJNYXhtaW5kIERhdGFiYXNlIFJlZnJlc2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDcsIm5hbWUiOiJFeHRyZW1lIFJlYWNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTMsIm5hbWUiOiJPcHRpbWl6ZXIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTUsIm5hbWUiOiJ0ZXN0ZXhwb3J0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU2LCJuYW1lIjoiTWVkaWEgT2NlYW4iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTcsIm5hbWUiOiJUVk8iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTksIm5hbWUiOiJhZHNlcnZlciB2YWxpZGF0aW9uIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTYyLCJuYW1lIjoiTVRBIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjMsIm5hbWUiOiJNZWRpYSBPY2VhbiBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjQsIm5hbWUiOiJPcHRpbWl6ZXIgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY1LCJuYW1lIjoiUGl4ZWwgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NiwibmFtZSI6IlBpeGVsIFByb2Nlc3MgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NjIwMjg4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2MCwibmFtZSI6Im5ld3Rlc3QiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjUsIm5hbWUiOiJUVk8yMCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2OCwibmFtZSI6IlRWTyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNzAsIm5hbWUiOiJPcHRpbWl6ZXIgdjIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTQsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0SmlhcWkiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTUsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0Sm9lbCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2MSwibmFtZSI6IlRWTzIwIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2NiwibmFtZSI6Ind1cmZsc2FuaXR5dGVzdDEiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJsYWJlbCI6IlByb2plY3QgTmFtZSIsImtleSI6ImRzTGFiUHJvamVjdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjozLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBwcm9qZWN0IG5hbWUgY3JlYXRlZCBpbiBEUyBMYWIgbW9kdWxlLiIsInZhbHVlIjoiNDc1MTM2NSJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsicHJvamVjdElkIjoiNDc1MTM2NSJ9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOlt7ImlkIjo1MzA4NDk4LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6ImlucHV0X3R2bzIiLCJ0eXBlIjoxfSx7ImlkIjo1MzA4NDk5LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6InR2bzJfZHJpdmVyIiwidHlwZSI6MX0seyJpZCI6NTMwODUwMCwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJ0dm8yX2lucHV0X2JhY2tmaWxsIiwidHlwZSI6MX1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzY3JpcHQgbmFtZSBleHBvcnRlZCBmcm9tIHRoZSBzZWxlY3RlZCBwcm9qZWN0LiIsImxhYmVsIjoiU2NyaXB0IE5hbWUiLCJrZXkiOiJkc0xhYlNjcmlwdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo0LCJ2YWx1ZSI6IjUzMDg1MDAifSx7ImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJyZWFkT25seSI6ZmFsc2UsImxhYmVsIjoiRXh0ZXJuYWwgTGlicmFyeSIsImtleSI6ImRzTGFiRXh0ZXJuYWxMaWJyYXJ5Iiwib3JkZXIiOjUsInRvb2x0aXAiOiJDb21tYSBzYXBlcmF0ZWQgbGlicmFyeSBuYW1lcy4iLCJ2YWx1ZSI6InBzeWNvcGcyPT0yLjkuMyxib3RvMz09MS4yMS41LHBzeWNvcGcyPT0yLjkuMyJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsiaWQiOiI1MzA4NTAwIn19fSwicmVzcG9uc2UiOnsiYmluZGluZyI6e319fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOltdLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzdGFydCBmdW5jdGlvbiBuYW1lIGZyb20gdGhlIHNjcmlwdC4iLCJsYWJlbCI6IlN0YXJ0IEZ1bmN0aW9uIiwicmVxdWlyZWQiOnRydWUsImtleSI6ImRzTGFiRnVuY3Rpb25OYW1lIiwib3JkZXIiOjYsInZhbHVlIjoic3RhcnRfZnVuYyJ9LHsiY29udHJvbFR5cGUiOiJ0ZXh0YXJlYWJveCIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwicmVhZE9ubHkiOnRydWUsImxhYmVsIjoiU2NyaXB0Iiwicm93cyI6OCwidmFsdWUiOiJmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhXG5pbXBvcnQganNvblxuaW1wb3J0IGxvZ2dpbmdcbmxvZ2dpbmcuYmFzaWNDb25maWcoKVxubG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoJ1RWT19JTlBVVCcpXG5sb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5JTkZPKVxuXG5pbXBvcnQgYm90bzNcbmltcG9ydCBwYW5kYXMgYXMgcGRcbmltcG9ydCBwc3ljb3BnMlxuZnJvbSBpbyBpbXBvcnQgQnl0ZXNJT1xuaW1wb3J0IGJhc2U2NFxuXG5kZWYgZ2V0X3JlZHNoaWZ0X3NlY3JldCgpOlxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUVcbiAgICAjIGNvbm5lY3RzIHRvIEFXUyBzZWNyZXRzIG1hbmFnZXIgdG8gZ2V0IGNyZWRlbnRpYWxzXG4gICAgc2Vzc2lvbiA9IGJvdG8zLnNlc3Npb24uU2Vzc2lvbigpXG4gICAgXG4gICAgY2xpZW50ID0gc2Vzc2lvbi5jbGllbnQoXG4gICAgICAgIHNlcnZpY2VfbmFtZT0nc2VjcmV0c21hbmFnZXInLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG5cbiAgICB0cnk6XG4gICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2UgPSBjbGllbnQuZ2V0X3NlY3JldF92YWx1ZShTZWNyZXRJZD1TRUNSRVRfTkFNRSlcbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGluIGdldHRpbmcgcmVkc2hpZnQgc2VjcmV0c1wiKVxuICAgICAgICByYWlzZVxuICAgIGVsc2U6XG4gICAgICAgIGlmICdTZWNyZXRTdHJpbmcnIGluIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2U6XG4gICAgICAgICAgICBzZWNyZXQgPSBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRTdHJpbmcnXVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgZGVjb2RlZF9iaW5hcnlfc2VjcmV0ID0gYmFzZTY0LmI2NGRlY29kZShcbiAgICAgICAgICAgICAgICBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRCaW5hcnknXSlcbiAgICByZXR1cm4ganNvbi5sb2FkcyhzZWNyZXQpXG5cbmRlZiBnZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpOlxuICAgICMgY3JlYXRlcyBkYXRhIGJhc2UgY29ubmVjdGlvbiBhbmQgcGFzc2VzIGl0IGJhY2sgdG8gY2FsbGVyXG4gICAgdHJ5OlxuICAgICAgICBzZWNyZXRzID0gZ2V0X3JlZHNoaWZ0X3NlY3JldCgpXG4gICAgICAgIGNvbm4gPSBwc3ljb3BnMi5jb25uZWN0KGRibmFtZT1zZWNyZXRzWydEQVRBQkFTRSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0PXNlY3JldHNbJ0hPU1QnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydD1zZWNyZXRzWydQT1JUJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9c2VjcmV0c1snVVNFUiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1zZWNyZXRzWydQQVNTV09SRCddKVxuICAgICAgICByZXR1cm4gY29ublxuXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICBsb2dnZXIuZXJyb3IoZidFcnJvciBnZXR0aW5nIHJlZHNoaWZ0IGNvbm5lY3Rpb24gZGV0YWlsczogRXhjZXB0aW9uOiB7c3RyKGUpfScpXG4gICAgICAgIHJhaXNlXG4gICAgICAgIFxuZGVmIHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSk6XG4gICAgY29ubiA9IGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKClcbiAgICBkZiA9IHBkLnJlYWRfc3FsX3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5LCBjb249Y29ubilcbiAgICByZXR1cm4gZGZcblxuZGVmIHJ1bl9hdGhlbmFfcXVlcnkocXVlcnkpOlxuICAgIGdsb2JhbCBSRUdJT05fTkFNRSwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBcbiAgICBBVEhFTkFfQ0xJRU5UID0gYm90bzMuY2xpZW50KCdhdGhlbmEnLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG4gICAgUzMgPSBib3RvMy5jbGllbnQoJ3MzJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuICAgIGxvZ2dlci5pbmZvKGYnU3RhcnRpbmcgQXRoZW5hIHF1ZXJ5IGV4ZWN1dGlvbicpXG4gICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnk6XFxue3F1ZXJ5fScpXG4gICAgcmVzcG9uc2UgPSBBVEhFTkFfQ0xJRU5ULnN0YXJ0X3F1ZXJ5X2V4ZWN1dGlvbihcbiAgICAgICAgUXVlcnlTdHJpbmc9cXVlcnksXG4gICAgICAgIFF1ZXJ5RXhlY3V0aW9uQ29udGV4dD17J0RhdGFiYXNlJzogQVRIRU5BX0RBVEFCQVNFfSxcbiAgICAgICAgUmVzdWx0Q29uZmlndXJhdGlvbj17J091dHB1dExvY2F0aW9uJzogQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT059LFxuICAgICAgICBXb3JrR3JvdXA9J2p1aWNlX2RhdGEnXG4gICAgKVxuICAgIFxuICAgICMgR2V0IHRoZSBxdWVyeSBleGVjdXRpb24gSURcbiAgICBxdWVyeV9leGVjdXRpb25faWQgPSByZXNwb25zZVsnUXVlcnlFeGVjdXRpb25JZCddXG5cbiAgICAjIFdhaXQgZm9yIHRoZSBxdWVyeSB0byBjb21wbGV0ZVxuICAgIHdoaWxlIFRydWU6XG4gICAgICAgIHF1ZXJ5X3N0YXR1cyA9IEFUSEVOQV9DTElFTlQuZ2V0X3F1ZXJ5X2V4ZWN1dGlvbihRdWVyeUV4ZWN1dGlvbklkPXF1ZXJ5X2V4ZWN1dGlvbl9pZClcbiAgICAgICAgc3RhdHVzID0gcXVlcnlfc3RhdHVzWydRdWVyeUV4ZWN1dGlvbiddWydTdGF0dXMnXVsnU3RhdGUnXVxuXG4gICAgICAgIGlmIHN0YXR1cyBpbiBbJ1NVQ0NFRURFRCcsICdGQUlMRUQnLCAnQ0FOQ0VMTEVEJ106XG4gICAgICAgICAgICBicmVha1xuXG4gICAgIyBSZXRyaWV2ZSBhbmQgcmV0dXJuIHRoZSBxdWVyeSByZXN1bHRzIGlmIHRoZSBxdWVyeSBzdWNjZWVkZWRcbiAgICBpZiBzdGF0dXMgPT0gJ1NVQ0NFRURFRCc6XG4gICAgICAgIHMzX3Jlc3BvbnNlX29iamVjdCA9IFMzLmdldF9vYmplY3QoQnVja2V0PVFVRVJZX0JVQ0tFVCwgS2V5PWZcIntBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTi5zcGxpdCgnLycpWy0yXX0ve3F1ZXJ5X2V4ZWN1dGlvbl9pZH0uY3N2XCIpXG4gICAgICAgIG9iamVjdF9jb250ZW50ID0gczNfcmVzcG9uc2Vfb2JqZWN0WydCb2R5J10ucmVhZCgpXG4gICAgICAgIHJlc3VsdHMgPSBwZC5yZWFkX2NzdihCeXRlc0lPKG9iamVjdF9jb250ZW50KSlcbiAgICAgICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnkgcmFuIHN1Y2Nlc3NmdWxseScpXG4gICAgICAgIHJldHVybiByZXN1bHRzXG4gICAgZWxpZiBzdGF0dXMgPT0gJ0ZBSUxFRCc6XG4gICAgICAgIHJhaXNlIEV4Y2VwdGlvbignUXVlcnkgZnJvbSBBdGhlbmEgZmFpbGVkJylcblxuZGVmIGNsaWVudF9tb2RpZmljYXRpb24ocm93KTpcbiAgICBpZiByb3cubG93ZXIoKS5zdHJpcCgpID09ICdiYmInOlxuICAgICAgICByZXR1cm4gJ292ZXJzdG9jaydcbiAgICBlbGlmIHJvdy5sb3dlcigpID09ICdyZXhtZCcgb3Igcm93Lmxvd2VyKCkgPT0gJ3NpbmdsZWNhcmUnOlxuICAgICAgICByZXR1cm4gJ3J4c2Vuc2UnXG4gICAgZWxzZTpcbiAgICAgICAgcmV0dXJuIHJvdy5sb3dlcigpXG4gICAgICAgIFxuZGVmIHByZXBhcmVfZGF0YShkYXRhLCBsb29rYmFja19kYXlzLCBvcHRfcGVuYWx0eV9zdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoKTpcbiAgICBnbG9iYWwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEVcbiAgICBcbiAgICBpbnB1dF9kZiA9IHBkLkRhdGFGcmFtZShjb2x1bW5zPVsna3BpX2luZGV4JywgJ2xvb2tiZWZvcmVfbWlucycsICdsb29rYWZ0ZXJfbWlucycsICdpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgJ2luY2x1ZGVfaW1wcmVzc2lvbnMnLCAnb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JyxcbiAgICAgICAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsXG4gICAgICAgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJywgJ2NsaWVudGtleSddKVxuICAgIFxuICAgIHJlZHNoaWZ0X3F1ZXJ5ID0gXCJcIlwiXG4gICAgICAgIHNlbGVjdCBkaXN0aW5jdCBjLmNsaWVudGtleV9tYXAsIGsudHZvX2twaV9pbmRleCwgYy50dm9fcHJlX3dpbmRvd19taW51dGVzLCBjLnR2b19wb3N0X3dpbmRvd19taW51dGVzLCBjLnR2b19pbmNsdWRlX2ZyZWVzcG90cywgYy50dm9faW5jbHVkZV9pbXByZXNzaW9ucywgYy5kYXRhc2V0X3N0YXJ0X2RhdGUsIGMuZGF0YXNldF9lbmRfZGF0ZVxuICAgICAgICBmcm9tIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzIGMsIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3Mua3BpX21hcHBpbmdzIGtcbiAgICAgICAgd2hlcmUgYy5jbGllbnRrZXlfbWFwID0gay5jbGllbnRrZXlfbWFwXG4gICAgICAgIG9yZGVyIGJ5IGNsaWVudGtleV9tYXAsIHR2b19rcGlfaW5kZXhcbiAgICAgICAgXCJcIlwiXG4gICAgXG4gICAgZm9yIGVuZF9kYXRlX3N0cmluZyBpbiBkYXRhW1wiZW5kX2RhdGVzXCJdOlxuICAgICAgICBcbiAgICAgICAgIyBHZXR0aW5nIHJlZHNoaWZ0IHJlc3VsdHNcbiAgICAgICAgc3RhcnRfZGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMF0pLCBtb250aD1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsxXSksIGRheT1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsyXSksIGhvdXI9MClcbiAgICAgICAgcHJldl9kYXkgPSBlbmRfZHQgLSB0aW1lZGVsdGEoMSlcbiAgICAgICAgZW5kX2RhdGUgPSBmJ3twcmV2X2RheS55ZWFyfS17c3RyKFwiezowMmR9XCIuZm9ybWF0KHByZXZfZGF5Lm1vbnRoKSl9LXtzdHIoXCJ7OjAyZH1cIi5mb3JtYXQocHJldl9kYXkuZGF5KSl9J1xuICAgICAgICByZWRzaGlmdF9kZiA9IHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSlcbiAgICAgICAgcmVkc2hpZnRfZGYgPSByZWRzaGlmdF9kZi5kcm9wKGNvbHVtbnM9WydkYXRhc2V0X3N0YXJ0X2RhdGUnLCdkYXRhc2V0X2VuZF9kYXRlJ10pXG4gICAgICAgIHJlZHNoaWZ0X2RmW1snb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JywgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLCAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnXV0gPSBwZC5EYXRhRnJhbWUoW1tvcHRfcGVuYWx0eV9zdGF0aW9uLCBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGVdXSwgaW5kZXg9cmVkc2hpZnRfZGYuaW5kZXgpXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcmVkc2hpZnRfZGYucmVuYW1lKGNvbHVtbnMgPSB7J2NsaWVudGtleV9tYXAnOidjbGllbnRrZXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fa3BpX2luZGV4Jzona3BpX2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcHJlX3dpbmRvd19taW51dGVzJzonbG9va2JlZm9yZV9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcG9zdF93aW5kb3dfbWludXRlcyc6J2xvb2thZnRlcl9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9faW5jbHVkZV9mcmVlc3BvdHMnOidpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2luY2x1ZGVfaW1wcmVzc2lvbnMnOidpbmNsdWRlX2ltcHJlc3Npb25zJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgIyBRdWVyeWluZyBhdGhlbmEgdG8gZ2V0IGxpc3Qgb2YgY2xpZW50cyBhY3RpdmUgaW4gdGhlIHBhc3Qgd2Vla1xuICAgICAgICBkdCA9IChkYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZV9zdHJpbmcsICclWS0lbS0lZCcpKVxuICAgICAgICBlbmRfY2hlY2tfZGF0ZSA9IGR0LnN0cmZ0aW1lKFwiJVktJW0tJWRcIilcbiAgICAgICAgZHRfNyA9IGR0IC0gdGltZWRlbHRhKGRheXM9bG9va2JhY2tfZGF5cylcbiAgICAgICAgc3RhcnRfY2hlY2tfZGF0ZSA9IGR0Xzcuc3RyZnRpbWUoXCIlWS0lbS0lZFwiKVxuXG4gICAgICAgIGF0aGVuYV9xdWVyeSA9IGZcIlwiXCJcbiAgICAgICAgc2VsZWN0IGFkdmVydGlzZXIsIGNvdW50KCopIGFzIHJvd19jb3VudCBmcm9tIFxuICAgICAgICAoc2VsZWN0IGRpc3RpbmN0ICogZnJvbSB7QVRIRU5BX0RBVEFCQVNFfS57QVRIRU5BX1RBQkxFfSlcbiAgICAgICAgd2hlcmUgY2FzdChicm9hZGNhc3RfZGF0ZSBhcyBkYXRlKSBiZXR3ZWVuIGNhc3QoJ3tzdHIoc3RhcnRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKSBhbmQgY2FzdCgne3N0cihlbmRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKVxuICAgICAgICBncm91cCBieSBhZHZlcnRpc2VyXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBhdGhlbmFfZGYgPSBydW5fYXRoZW5hX3F1ZXJ5KGF0aGVuYV9xdWVyeSlcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gYXRoZW5hX2RmW2F0aGVuYV9kZlsncm93X2NvdW50J10+MF1bJ2FkdmVydGlzZXInXS50b19saXN0KClcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gW2kubG93ZXIoKS5zdHJpcCgpIGZvciBpIGluIGFjdGl2ZV9jbGllbnRfbGlzdF1cbiAgICAgICAgYWN0aXZlX2xpc3RfZGYgPSBwZC5EYXRhRnJhbWUoeydjbGllbnRfb3JpZyc6YWN0aXZlX2NsaWVudF9saXN0fSlcbiAgICAgICAgYWN0aXZlX2xpc3RfZGZbJ2NsaWVudF9tb2QnXSA9IGFjdGl2ZV9saXN0X2RmWydjbGllbnRfb3JpZyddLmFwcGx5KGNsaWVudF9tb2RpZmljYXRpb24pXG4gICAgICAgIFxuICAgICAgICAjIE1lcmdpbmcgY2xpZW50IGxpc3Qgd2l0aCBjb25maWd1cmF0aW9ucyBmcm9tIHJlZHNoaWZ0XG4gICAgICAgIGZpbmFsX2RmID0gcmVkc2hpZnRfZGYuc2V0X2luZGV4KCdjbGllbnRrZXknKS5tZXJnZShhY3RpdmVfbGlzdF9kZi5zZXRfaW5kZXgoJ2NsaWVudF9tb2QnKSwgbGVmdF9vbj0nY2xpZW50a2V5JywgcmlnaHRfb249J2NsaWVudF9tb2QnKVxuICAgICAgICBmaW5hbF9kZiA9IGZpbmFsX2RmLnJlbmFtZShjb2x1bW5zPXsnY2xpZW50X29yaWcnOidjbGllbnRrZXknfSlcbiAgICAgICAgZmluYWxfZGYgPSBmaW5hbF9kZi5kcm9wbmEoKVxuICAgICAgICBpbnB1dF9kZiA9IHBkLmNvbmNhdChbaW5wdXRfZGYsZmluYWxfZGZdKVxuICAgIGlucHV0X2RmID0gaW5wdXRfZGYuc29ydF92YWx1ZXMoWydlbmRfZGF0ZScsJ2NsaWVudGtleScsJ2twaV9pbmRleCddKVxuICAgIHJldHVybiBpbnB1dF9kZlxuXG5kZWYgc3RhcnRfZnVuYyhkYXRhLCBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsXG4gICAgICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LCBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiwgcXVlcnlfYnVja2V0LFxuICAgICAgICAgICAgICAgICAgYXRoZW5hX3RhYmxlLCBicmFuY2gsIGxvb2tiYWNrX2RheXM9Nywgb3B0X3BlbmFsdHlfc3RhdGlvbj0xLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQ9MSwgb3B0X3BlbmFsdHlfYnVja2V0PTEsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlPTEsIG9wdF9tYXhfc2Vjb25kcz02MCk6XG4gICAgIFxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUUsIGNvbm4sIGN1cnNvciwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBBV1NfQUNDRVNTX0tFWV9JRCA9IGF3c19hY2Nlc3Nfa2V5X2lkXG4gICAgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZID0gYXdzX3NlY3JldF9hY2Nlc3Nfa2V5XG4gICAgUkVHSU9OX05BTUUgPSByZWdpb25fbmFtZVxuICAgIFNFQ1JFVF9OQU1FID0gc2VjcmV0X25hbWVcbiAgICBBVEhFTkFfREFUQUJBU0UgPSBhdGhlbmFfZGF0YWJhc2VcbiAgICBBVEhFTkFfVEFCTEUgPSBhdGhlbmFfdGFibGVcbiAgICBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiA9IGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uXG4gICAgUVVFUllfQlVDS0VUID0gcXVlcnlfYnVja2V0XG4gICAgXG4gICAgcmVzdWx0X2RmID0gcGQuRGF0YUZyYW1lKGNvbHVtbnM9WydrcGlfaW5kZXgnLCAnbG9va2JlZm9yZV9taW5zJywgJ2xvb2thZnRlcl9taW5zJywgJ2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucycsICdvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLFxuICAgICAgICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJyxcbiAgICAgICAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnLCAnY2xpZW50a2V5J10pXG4gICAgXG4gICAgcmVzdWx0cyA9IHByZXBhcmVfZGF0YShkYXRhWzBdLCBpbnQobG9va2JhY2tfZGF5cyksIGludChvcHRfcGVuYWx0eV9zdGF0aW9uKSxcbiAgICAgICAgICAgICAgIGludChvcHRfcGVuYWx0eV9kYXlwYXJ0KSwgaW50KG9wdF9wZW5hbHR5X2J1Y2tldCksIGludChvcHRfcGVuYWx0eV92YXJpYW5jZSksIGludChvcHRfbWF4X3NlY29uZHMpLCBicmFuY2gpXG4gICAgICAgIFxuICAgIHJldHVybiByZXN1bHRzIiwia2V5IjoiZHNMYWJTY3JpcHQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjd9LHsiaXNNdWx0aSI6dHJ1ZSwiY29udHJvbFR5cGUiOiJpdGVyYWJsZSIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwiYWRkQnV0dG9uIjp7ImxhYmVsIjoiQWRkIE5ldyBDb2x1bW4ifSwibGFiZWwiOiJJbnB1dCBEYXRhIiwicHJvcGVydGllcyI6W1t7ImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6InR2bzIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJzZWNyZXRfbmFtZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUkVEU0hJRlRfTVRBX1NFQ1JFVF9OQU1FIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoicmVnaW9uX25hbWUiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLlJFR0lPTl9OQU1FIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXRoZW5hX2RhdGFiYXNlIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BVEhFTkFfREFUQUJBU0UiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhd3NfYWNjZXNzX2tleV9pZCIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuQVdTX0FDQ0VTU19LRVlfSURfQkRCIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXdzX3NlY3JldF9hY2Nlc3Nfa2V5Iiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BV1NfU0VDUkVUX0tFWV9CREIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUVVFUllfUkVTVUxUUyIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6InF1ZXJ5X2J1Y2tldCIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUFJPRF9CVUNLRVQiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7ImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XV0sImtleSI6ImRzTGFiSW5wdXREYXRhIiwiaXNJdGVyYWJsZSI6dHJ1ZSwib3JkZXIiOjh9LHsiaXNUZW1wQ29udHJvbDIiOnRydWUsImRhdGEiOlt7ImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W3sidmFsdWUiOiJEYXRhIEZyYW1lIiwia2V5IjoiZGF0YUZyYW1lIn0seyJ2YWx1ZSI6Ikxpc3QiLCJrZXkiOiJMaXN0In1dLCJsYWJlbCI6IkZ1bmN0aW9uIElucHV0IFR5cGUiLCJrZXkiOiJkc0xhYkZ1bklucHV0VHlwZSIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6MiwidmFsdWUiOiJMaXN0In0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0IiwiYm9keSI6eyJtZXRob2QiOiJQT1NUIiwiZGF0YSI6e319fSwicmVzcG9uc2UiOnsiYmluZGluZyI6W3sicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTQsIm5hbWUiOiJQaXhlbCBSYXcgRGF0YSBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTUsIm5hbWUiOiJNVEEgUHJvY2VzcyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjQsIm5hbWUiOiJBbGVydHMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjUsIm5hbWUiOiJEYXRhIGNvbXBhcmlzb25zIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY2LCJuYW1lIjoicGl4ZWwgY29tcGFyaXNpb24iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MjgsIm5hbWUiOiJ0ZXN0cHJvamVjdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkyOSwibmFtZSI6IkpNUGl4ZWxQcm9jZXNzaW5nIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTMxLCJuYW1lIjoiTVRBSm9icyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzMiwibmFtZSI6ImRlbW8gZ2l0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTM0LCJuYW1lIjoiRGV2IFNjcmF0Y2hQYWQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDIsIm5hbWUiOiJDYXN1YWwgUHJlY2lzaW9uIEFkc2VydmVyIGFuZCBTcGVuZCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0NCwibmFtZSI6IlBpeGVsIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDYsIm5hbWUiOiJNYXhtaW5kIERhdGFiYXNlIFJlZnJlc2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDcsIm5hbWUiOiJFeHRyZW1lIFJlYWNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTMsIm5hbWUiOiJPcHRpbWl6ZXIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTUsIm5hbWUiOiJ0ZXN0ZXhwb3J0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU2LCJuYW1lIjoiTWVkaWEgT2NlYW4iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTcsIm5hbWUiOiJUVk8iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTksIm5hbWUiOiJhZHNlcnZlciB2YWxpZGF0aW9uIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTYyLCJuYW1lIjoiTVRBIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjMsIm5hbWUiOiJNZWRpYSBPY2VhbiBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjQsIm5hbWUiOiJPcHRpbWl6ZXIgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY1LCJuYW1lIjoiUGl4ZWwgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NiwibmFtZSI6IlBpeGVsIFByb2Nlc3MgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NjIwMjg4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2MCwibmFtZSI6Im5ld3Rlc3QiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjUsIm5hbWUiOiJUVk8yMCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2OCwibmFtZSI6IlRWTyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNzAsIm5hbWUiOiJPcHRpbWl6ZXIgdjIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTQsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0SmlhcWkiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTUsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0Sm9lbCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2MSwibmFtZSI6IlRWTzIwIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2NiwibmFtZSI6Ind1cmZsc2FuaXR5dGVzdDEiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJsYWJlbCI6IlByb2plY3QgTmFtZSIsImtleSI6ImRzTGFiUHJvamVjdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjozLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBwcm9qZWN0IG5hbWUgY3JlYXRlZCBpbiBEUyBMYWIgbW9kdWxlLiIsInZhbHVlIjoiNDc1MTM2NSJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsicHJvamVjdElkIjoiNDc1MTM2NSJ9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOlt7ImlkIjo1MzA4NDk4LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6ImlucHV0X3R2bzIiLCJ0eXBlIjoxfSx7ImlkIjo1MzA4NDk5LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6InR2bzJfZHJpdmVyIiwidHlwZSI6MX0seyJpZCI6NTMwODUwMCwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJ0dm8yX2lucHV0X2JhY2tmaWxsIiwidHlwZSI6MX1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzY3JpcHQgbmFtZSBleHBvcnRlZCBmcm9tIHRoZSBzZWxlY3RlZCBwcm9qZWN0LiIsImxhYmVsIjoiU2NyaXB0IE5hbWUiLCJrZXkiOiJkc0xhYlNjcmlwdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo0LCJ2YWx1ZSI6IjUzMDg1MDAifSx7ImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJyZWFkT25seSI6ZmFsc2UsImxhYmVsIjoiRXh0ZXJuYWwgTGlicmFyeSIsImtleSI6ImRzTGFiRXh0ZXJuYWxMaWJyYXJ5Iiwib3JkZXIiOjUsInRvb2x0aXAiOiJDb21tYSBzYXBlcmF0ZWQgbGlicmFyeSBuYW1lcy4iLCJ2YWx1ZSI6InBzeWNvcGcyPT0yLjkuMyxib3RvMz09MS4yMS41LHBzeWNvcGcyPT0yLjkuMyJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsiaWQiOiI1MzA4NTAwIn19fSwicmVzcG9uc2UiOnsiYmluZGluZyI6e319fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOltdLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzdGFydCBmdW5jdGlvbiBuYW1lIGZyb20gdGhlIHNjcmlwdC4iLCJsYWJlbCI6IlN0YXJ0IEZ1bmN0aW9uIiwicmVxdWlyZWQiOnRydWUsImtleSI6ImRzTGFiRnVuY3Rpb25OYW1lIiwib3JkZXIiOjYsInZhbHVlIjoic3RhcnRfZnVuYyJ9LHsiY29udHJvbFR5cGUiOiJ0ZXh0YXJlYWJveCIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwicmVhZE9ubHkiOnRydWUsImxhYmVsIjoiU2NyaXB0Iiwicm93cyI6OCwidmFsdWUiOiJmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhXG5pbXBvcnQganNvblxuaW1wb3J0IGxvZ2dpbmdcbmxvZ2dpbmcuYmFzaWNDb25maWcoKVxubG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoJ1RWT19JTlBVVCcpXG5sb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5JTkZPKVxuXG5pbXBvcnQgYm90bzNcbmltcG9ydCBwYW5kYXMgYXMgcGRcbmltcG9ydCBwc3ljb3BnMlxuZnJvbSBpbyBpbXBvcnQgQnl0ZXNJT1xuaW1wb3J0IGJhc2U2NFxuXG5kZWYgZ2V0X3JlZHNoaWZ0X3NlY3JldCgpOlxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUVcbiAgICAjIGNvbm5lY3RzIHRvIEFXUyBzZWNyZXRzIG1hbmFnZXIgdG8gZ2V0IGNyZWRlbnRpYWxzXG4gICAgc2Vzc2lvbiA9IGJvdG8zLnNlc3Npb24uU2Vzc2lvbigpXG4gICAgXG4gICAgY2xpZW50ID0gc2Vzc2lvbi5jbGllbnQoXG4gICAgICAgIHNlcnZpY2VfbmFtZT0nc2VjcmV0c21hbmFnZXInLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG5cbiAgICB0cnk6XG4gICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2UgPSBjbGllbnQuZ2V0X3NlY3JldF92YWx1ZShTZWNyZXRJZD1TRUNSRVRfTkFNRSlcbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGluIGdldHRpbmcgcmVkc2hpZnQgc2VjcmV0c1wiKVxuICAgICAgICByYWlzZVxuICAgIGVsc2U6XG4gICAgICAgIGlmICdTZWNyZXRTdHJpbmcnIGluIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2U6XG4gICAgICAgICAgICBzZWNyZXQgPSBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRTdHJpbmcnXVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgZGVjb2RlZF9iaW5hcnlfc2VjcmV0ID0gYmFzZTY0LmI2NGRlY29kZShcbiAgICAgICAgICAgICAgICBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRCaW5hcnknXSlcbiAgICByZXR1cm4ganNvbi5sb2FkcyhzZWNyZXQpXG5cbmRlZiBnZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpOlxuICAgICMgY3JlYXRlcyBkYXRhIGJhc2UgY29ubmVjdGlvbiBhbmQgcGFzc2VzIGl0IGJhY2sgdG8gY2FsbGVyXG4gICAgdHJ5OlxuICAgICAgICBzZWNyZXRzID0gZ2V0X3JlZHNoaWZ0X3NlY3JldCgpXG4gICAgICAgIGNvbm4gPSBwc3ljb3BnMi5jb25uZWN0KGRibmFtZT1zZWNyZXRzWydEQVRBQkFTRSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0PXNlY3JldHNbJ0hPU1QnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydD1zZWNyZXRzWydQT1JUJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9c2VjcmV0c1snVVNFUiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1zZWNyZXRzWydQQVNTV09SRCddKVxuICAgICAgICByZXR1cm4gY29ublxuXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICBsb2dnZXIuZXJyb3IoZidFcnJvciBnZXR0aW5nIHJlZHNoaWZ0IGNvbm5lY3Rpb24gZGV0YWlsczogRXhjZXB0aW9uOiB7c3RyKGUpfScpXG4gICAgICAgIHJhaXNlXG4gICAgICAgIFxuZGVmIHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSk6XG4gICAgY29ubiA9IGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKClcbiAgICBkZiA9IHBkLnJlYWRfc3FsX3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5LCBjb249Y29ubilcbiAgICByZXR1cm4gZGZcblxuZGVmIHJ1bl9hdGhlbmFfcXVlcnkocXVlcnkpOlxuICAgIGdsb2JhbCBSRUdJT05fTkFNRSwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBcbiAgICBBVEhFTkFfQ0xJRU5UID0gYm90bzMuY2xpZW50KCdhdGhlbmEnLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG4gICAgUzMgPSBib3RvMy5jbGllbnQoJ3MzJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuICAgIGxvZ2dlci5pbmZvKGYnU3RhcnRpbmcgQXRoZW5hIHF1ZXJ5IGV4ZWN1dGlvbicpXG4gICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnk6XFxue3F1ZXJ5fScpXG4gICAgcmVzcG9uc2UgPSBBVEhFTkFfQ0xJRU5ULnN0YXJ0X3F1ZXJ5X2V4ZWN1dGlvbihcbiAgICAgICAgUXVlcnlTdHJpbmc9cXVlcnksXG4gICAgICAgIFF1ZXJ5RXhlY3V0aW9uQ29udGV4dD17J0RhdGFiYXNlJzogQVRIRU5BX0RBVEFCQVNFfSxcbiAgICAgICAgUmVzdWx0Q29uZmlndXJhdGlvbj17J091dHB1dExvY2F0aW9uJzogQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT059LFxuICAgICAgICBXb3JrR3JvdXA9J2p1aWNlX2RhdGEnXG4gICAgKVxuICAgIFxuICAgICMgR2V0IHRoZSBxdWVyeSBleGVjdXRpb24gSURcbiAgICBxdWVyeV9leGVjdXRpb25faWQgPSByZXNwb25zZVsnUXVlcnlFeGVjdXRpb25JZCddXG5cbiAgICAjIFdhaXQgZm9yIHRoZSBxdWVyeSB0byBjb21wbGV0ZVxuICAgIHdoaWxlIFRydWU6XG4gICAgICAgIHF1ZXJ5X3N0YXR1cyA9IEFUSEVOQV9DTElFTlQuZ2V0X3F1ZXJ5X2V4ZWN1dGlvbihRdWVyeUV4ZWN1dGlvbklkPXF1ZXJ5X2V4ZWN1dGlvbl9pZClcbiAgICAgICAgc3RhdHVzID0gcXVlcnlfc3RhdHVzWydRdWVyeUV4ZWN1dGlvbiddWydTdGF0dXMnXVsnU3RhdGUnXVxuXG4gICAgICAgIGlmIHN0YXR1cyBpbiBbJ1NVQ0NFRURFRCcsICdGQUlMRUQnLCAnQ0FOQ0VMTEVEJ106XG4gICAgICAgICAgICBicmVha1xuXG4gICAgIyBSZXRyaWV2ZSBhbmQgcmV0dXJuIHRoZSBxdWVyeSByZXN1bHRzIGlmIHRoZSBxdWVyeSBzdWNjZWVkZWRcbiAgICBpZiBzdGF0dXMgPT0gJ1NVQ0NFRURFRCc6XG4gICAgICAgIHMzX3Jlc3BvbnNlX29iamVjdCA9IFMzLmdldF9vYmplY3QoQnVja2V0PVFVRVJZX0JVQ0tFVCwgS2V5PWZcIntBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTi5zcGxpdCgnLycpWy0yXX0ve3F1ZXJ5X2V4ZWN1dGlvbl9pZH0uY3N2XCIpXG4gICAgICAgIG9iamVjdF9jb250ZW50ID0gczNfcmVzcG9uc2Vfb2JqZWN0WydCb2R5J10ucmVhZCgpXG4gICAgICAgIHJlc3VsdHMgPSBwZC5yZWFkX2NzdihCeXRlc0lPKG9iamVjdF9jb250ZW50KSlcbiAgICAgICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnkgcmFuIHN1Y2Nlc3NmdWxseScpXG4gICAgICAgIHJldHVybiByZXN1bHRzXG4gICAgZWxpZiBzdGF0dXMgPT0gJ0ZBSUxFRCc6XG4gICAgICAgIHJhaXNlIEV4Y2VwdGlvbignUXVlcnkgZnJvbSBBdGhlbmEgZmFpbGVkJylcblxuZGVmIGNsaWVudF9tb2RpZmljYXRpb24ocm93KTpcbiAgICBpZiByb3cubG93ZXIoKS5zdHJpcCgpID09ICdiYmInOlxuICAgICAgICByZXR1cm4gJ292ZXJzdG9jaydcbiAgICBlbGlmIHJvdy5sb3dlcigpID09ICdyZXhtZCcgb3Igcm93Lmxvd2VyKCkgPT0gJ3NpbmdsZWNhcmUnOlxuICAgICAgICByZXR1cm4gJ3J4c2Vuc2UnXG4gICAgZWxzZTpcbiAgICAgICAgcmV0dXJuIHJvdy5sb3dlcigpXG4gICAgICAgIFxuZGVmIHByZXBhcmVfZGF0YShkYXRhLCBsb29rYmFja19kYXlzLCBvcHRfcGVuYWx0eV9zdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoKTpcbiAgICBnbG9iYWwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEVcbiAgICBcbiAgICBpbnB1dF9kZiA9IHBkLkRhdGFGcmFtZShjb2x1bW5zPVsna3BpX2luZGV4JywgJ2xvb2tiZWZvcmVfbWlucycsICdsb29rYWZ0ZXJfbWlucycsICdpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgJ2luY2x1ZGVfaW1wcmVzc2lvbnMnLCAnb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JyxcbiAgICAgICAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsXG4gICAgICAgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJywgJ2NsaWVudGtleSddKVxuICAgIFxuICAgIHJlZHNoaWZ0X3F1ZXJ5ID0gXCJcIlwiXG4gICAgICAgIHNlbGVjdCBkaXN0aW5jdCBjLmNsaWVudGtleV9tYXAsIGsudHZvX2twaV9pbmRleCwgYy50dm9fcHJlX3dpbmRvd19taW51dGVzLCBjLnR2b19wb3N0X3dpbmRvd19taW51dGVzLCBjLnR2b19pbmNsdWRlX2ZyZWVzcG90cywgYy50dm9faW5jbHVkZV9pbXByZXNzaW9ucywgYy5kYXRhc2V0X3N0YXJ0X2RhdGUsIGMuZGF0YXNldF9lbmRfZGF0ZVxuICAgICAgICBmcm9tIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzIGMsIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3Mua3BpX21hcHBpbmdzIGtcbiAgICAgICAgd2hlcmUgYy5jbGllbnRrZXlfbWFwID0gay5jbGllbnRrZXlfbWFwXG4gICAgICAgIG9yZGVyIGJ5IGNsaWVudGtleV9tYXAsIHR2b19rcGlfaW5kZXhcbiAgICAgICAgXCJcIlwiXG4gICAgXG4gICAgZm9yIGVuZF9kYXRlX3N0cmluZyBpbiBkYXRhW1wiZW5kX2RhdGVzXCJdOlxuICAgICAgICBcbiAgICAgICAgIyBHZXR0aW5nIHJlZHNoaWZ0IHJlc3VsdHNcbiAgICAgICAgc3RhcnRfZGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMF0pLCBtb250aD1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsxXSksIGRheT1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsyXSksIGhvdXI9MClcbiAgICAgICAgcHJldl9kYXkgPSBlbmRfZHQgLSB0aW1lZGVsdGEoMSlcbiAgICAgICAgZW5kX2RhdGUgPSBmJ3twcmV2X2RheS55ZWFyfS17c3RyKFwiezowMmR9XCIuZm9ybWF0KHByZXZfZGF5Lm1vbnRoKSl9LXtzdHIoXCJ7OjAyZH1cIi5mb3JtYXQocHJldl9kYXkuZGF5KSl9J1xuICAgICAgICByZWRzaGlmdF9kZiA9IHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSlcbiAgICAgICAgcmVkc2hpZnRfZGYgPSByZWRzaGlmdF9kZi5kcm9wKGNvbHVtbnM9WydkYXRhc2V0X3N0YXJ0X2RhdGUnLCdkYXRhc2V0X2VuZF9kYXRlJ10pXG4gICAgICAgIHJlZHNoaWZ0X2RmW1snb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JywgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLCAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnXV0gPSBwZC5EYXRhRnJhbWUoW1tvcHRfcGVuYWx0eV9zdGF0aW9uLCBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGVdXSwgaW5kZXg9cmVkc2hpZnRfZGYuaW5kZXgpXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcmVkc2hpZnRfZGYucmVuYW1lKGNvbHVtbnMgPSB7J2NsaWVudGtleV9tYXAnOidjbGllbnRrZXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fa3BpX2luZGV4Jzona3BpX2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcHJlX3dpbmRvd19taW51dGVzJzonbG9va2JlZm9yZV9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcG9zdF93aW5kb3dfbWludXRlcyc6J2xvb2thZnRlcl9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9faW5jbHVkZV9mcmVlc3BvdHMnOidpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2luY2x1ZGVfaW1wcmVzc2lvbnMnOidpbmNsdWRlX2ltcHJlc3Npb25zJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgIyBRdWVyeWluZyBhdGhlbmEgdG8gZ2V0IGxpc3Qgb2YgY2xpZW50cyBhY3RpdmUgaW4gdGhlIHBhc3Qgd2Vla1xuICAgICAgICBkdCA9IChkYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZV9zdHJpbmcsICclWS0lbS0lZCcpKVxuICAgICAgICBlbmRfY2hlY2tfZGF0ZSA9IGR0LnN0cmZ0aW1lKFwiJVktJW0tJWRcIilcbiAgICAgICAgZHRfNyA9IGR0IC0gdGltZWRlbHRhKGRheXM9bG9va2JhY2tfZGF5cylcbiAgICAgICAgc3RhcnRfY2hlY2tfZGF0ZSA9IGR0Xzcuc3RyZnRpbWUoXCIlWS0lbS0lZFwiKVxuXG4gICAgICAgIGF0aGVuYV9xdWVyeSA9IGZcIlwiXCJcbiAgICAgICAgc2VsZWN0IGFkdmVydGlzZXIsIGNvdW50KCopIGFzIHJvd19jb3VudCBmcm9tIFxuICAgICAgICAoc2VsZWN0IGRpc3RpbmN0ICogZnJvbSB7QVRIRU5BX0RBVEFCQVNFfS57QVRIRU5BX1RBQkxFfSlcbiAgICAgICAgd2hlcmUgY2FzdChicm9hZGNhc3RfZGF0ZSBhcyBkYXRlKSBiZXR3ZWVuIGNhc3QoJ3tzdHIoc3RhcnRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKSBhbmQgY2FzdCgne3N0cihlbmRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKVxuICAgICAgICBncm91cCBieSBhZHZlcnRpc2VyXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBhdGhlbmFfZGYgPSBydW5fYXRoZW5hX3F1ZXJ5KGF0aGVuYV9xdWVyeSlcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gYXRoZW5hX2RmW2F0aGVuYV9kZlsncm93X2NvdW50J10+MF1bJ2FkdmVydGlzZXInXS50b19saXN0KClcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gW2kubG93ZXIoKS5zdHJpcCgpIGZvciBpIGluIGFjdGl2ZV9jbGllbnRfbGlzdF1cbiAgICAgICAgYWN0aXZlX2xpc3RfZGYgPSBwZC5EYXRhRnJhbWUoeydjbGllbnRfb3JpZyc6YWN0aXZlX2NsaWVudF9saXN0fSlcbiAgICAgICAgYWN0aXZlX2xpc3RfZGZbJ2NsaWVudF9tb2QnXSA9IGFjdGl2ZV9saXN0X2RmWydjbGllbnRfb3JpZyddLmFwcGx5KGNsaWVudF9tb2RpZmljYXRpb24pXG4gICAgICAgIFxuICAgICAgICAjIE1lcmdpbmcgY2xpZW50IGxpc3Qgd2l0aCBjb25maWd1cmF0aW9ucyBmcm9tIHJlZHNoaWZ0XG4gICAgICAgIGZpbmFsX2RmID0gcmVkc2hpZnRfZGYuc2V0X2luZGV4KCdjbGllbnRrZXknKS5tZXJnZShhY3RpdmVfbGlzdF9kZi5zZXRfaW5kZXgoJ2NsaWVudF9tb2QnKSwgbGVmdF9vbj0nY2xpZW50a2V5JywgcmlnaHRfb249J2NsaWVudF9tb2QnKVxuICAgICAgICBmaW5hbF9kZiA9IGZpbmFsX2RmLnJlbmFtZShjb2x1bW5zPXsnY2xpZW50X29yaWcnOidjbGllbnRrZXknfSlcbiAgICAgICAgZmluYWxfZGYgPSBmaW5hbF9kZi5kcm9wbmEoKVxuICAgICAgICBpbnB1dF9kZiA9IHBkLmNvbmNhdChbaW5wdXRfZGYsZmluYWxfZGZdKVxuICAgIGlucHV0X2RmID0gaW5wdXRfZGYuc29ydF92YWx1ZXMoWydlbmRfZGF0ZScsJ2NsaWVudGtleScsJ2twaV9pbmRleCddKVxuICAgIHJldHVybiBpbnB1dF9kZlxuXG5kZWYgc3RhcnRfZnVuYyhkYXRhLCBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsXG4gICAgICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LCBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiwgcXVlcnlfYnVja2V0LFxuICAgICAgICAgICAgICAgICAgYXRoZW5hX3RhYmxlLCBicmFuY2gsIGxvb2tiYWNrX2RheXM9Nywgb3B0X3BlbmFsdHlfc3RhdGlvbj0xLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQ9MSwgb3B0X3BlbmFsdHlfYnVja2V0PTEsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlPTEsIG9wdF9tYXhfc2Vjb25kcz02MCk6XG4gICAgIFxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUUsIGNvbm4sIGN1cnNvciwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBBV1NfQUNDRVNTX0tFWV9JRCA9IGF3c19hY2Nlc3Nfa2V5X2lkXG4gICAgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZID0gYXdzX3NlY3JldF9hY2Nlc3Nfa2V5XG4gICAgUkVHSU9OX05BTUUgPSByZWdpb25fbmFtZVxuICAgIFNFQ1JFVF9OQU1FID0gc2VjcmV0X25hbWVcbiAgICBBVEhFTkFfREFUQUJBU0UgPSBhdGhlbmFfZGF0YWJhc2VcbiAgICBBVEhFTkFfVEFCTEUgPSBhdGhlbmFfdGFibGVcbiAgICBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiA9IGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uXG4gICAgUVVFUllfQlVDS0VUID0gcXVlcnlfYnVja2V0XG4gICAgXG4gICAgcmVzdWx0X2RmID0gcGQuRGF0YUZyYW1lKGNvbHVtbnM9WydrcGlfaW5kZXgnLCAnbG9va2JlZm9yZV9taW5zJywgJ2xvb2thZnRlcl9taW5zJywgJ2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucycsICdvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLFxuICAgICAgICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJyxcbiAgICAgICAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnLCAnY2xpZW50a2V5J10pXG4gICAgXG4gICAgcmVzdWx0cyA9IHByZXBhcmVfZGF0YShkYXRhWzBdLCBpbnQobG9va2JhY2tfZGF5cyksIGludChvcHRfcGVuYWx0eV9zdGF0aW9uKSxcbiAgICAgICAgICAgICAgIGludChvcHRfcGVuYWx0eV9kYXlwYXJ0KSwgaW50KG9wdF9wZW5hbHR5X2J1Y2tldCksIGludChvcHRfcGVuYWx0eV92YXJpYW5jZSksIGludChvcHRfbWF4X3NlY29uZHMpLCBicmFuY2gpXG4gICAgICAgIFxuICAgIHJldHVybiByZXN1bHRzIiwia2V5IjoiZHNMYWJTY3JpcHQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjd9LHsiaXNNdWx0aSI6dHJ1ZSwiY29udHJvbFR5cGUiOiJpdGVyYWJsZSIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwiYWRkQnV0dG9uIjp7ImxhYmVsIjoiQWRkIE5ldyBDb2x1bW4ifSwibGFiZWwiOiJJbnB1dCBEYXRhIiwicHJvcGVydGllcyI6W1t7ImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6InR2bzIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJzZWNyZXRfbmFtZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUkVEU0hJRlRfTVRBX1NFQ1JFVF9OQU1FIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoicmVnaW9uX25hbWUiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLlJFR0lPTl9OQU1FIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXRoZW5hX2RhdGFiYXNlIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BVEhFTkFfREFUQUJBU0UiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhd3NfYWNjZXNzX2tleV9pZCIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuQVdTX0FDQ0VTU19LRVlfSURfQkRCIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXdzX3NlY3JldF9hY2Nlc3Nfa2V5Iiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BV1NfU0VDUkVUX0tFWV9CREIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUVVFUllfUkVTVUxUUyIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6InF1ZXJ5X2J1Y2tldCIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUFJPRF9CVUNLRVQiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7ImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XV0sImtleSI6ImRzTGFiSW5wdXREYXRhIiwiaXNJdGVyYWJsZSI6dHJ1ZSwib3JkZXIiOjh9XSwib3JkZXIiOjh9XX0sImNyZWF0ZWREYXRlIjoiMjAyMi0wMi0xNVQxMDoxNTo1OC42MzVaW0V0Yy9VVENdIiwidXBkYXRlZERhdGUiOiIyMDIzLTAzLTI0VDExOjQwOjI4LjI5MlpbRXRjL1VUQ10iLCJjcmVhdGVkQnkiOiJVc2VyIiwidXBkYXRlZEJ5IjoidXNlciIsImlzQWN0aXZlIjp0cnVlLCJpc1Rlc3RFbmFibGVkIjp0cnVlLCJhdmFpbGFibGVDb21wYXJpc29ucyI6eyJjb21wYXJlRGF0YSI6IkNvbXBhcmUgRGF0YSIsImNvbXBhcmVDb2x1bW5Db3VudCI6IkNvbXBhcmUgTnVtYmVyIG9mIGNvbHVtbnMiLCJjb21wYXJlUm93Q291bnQiOiJDb21wYXJlIG51bWJlciBvZiBSb3dzIiwiY29tcGFyZVNjaGVtYSI6IkNoZWNrIERhdGEgbWF0Y2hlcyBTY2hlbWEifSwiVWlJZCI6IjA3ODYtZjc2ZS00YzllLWE3YjctMWRiOCIsImludm9jYXRpb25NZXRob2RUeXBlIjoicmVhbHRpbWUiLCJnVWlkIjoiMTcwMDQ3NDM1MDYyOV80NDUxIiwiYWN0aW9uIjoic3RvcCIsImNvbXBvbmVudEluc3RhbmNlSWQiOiJjb21wMTcwMDQ3Nzg1NDYwNl9pbnN0XzE4MzAiLCJhbGVydEFjdGlvbiI6IiJ9LCJwcm9wZXJ0aWVzIjp7InRpdGxlIjoidHZvMl9iYWNrZmlsbCIsImlucHV0cyI6eyJpbnB1dF8wIjp7ImxhYmVsIjoiSV8xIn19LCJvdXRwdXRzIjp7Im91dHB1dF8wIjp7ImxhYmVsIjoiT18xIn19fX0sIm1pc2MiOnsiaW5wdXRDb21wb25lbnRzIjpbeyJrZXkiOiJjOGRiLWZlZGItNGFlOS04M2Q5LTc1MDEiLCJ2YWx1ZSI6IlRWTzJfYmFja2ZpbGxfZXZlbnRfMyJ9XSwib3V0cHV0Q29tcG9uZW50cyI6W3sia2V5IjoiNTQ0Mi02ZDA1LTQ3NjAtOTc5OS1jMTc5IiwidmFsdWUiOiJUVk8yX2JhY2tmaWxsX2V2ZW50XzQifV19fSwiZGF0YSI6eyJjb21wb25lbnRJZCI6ImNvbXBfMTY0NDkyMDE1ODYzNDQ1MzkiLCJVaUlkIjoiMDc4Ni1mNzZlLTRjOWUtYTdiNy0xZGI4IiwiY29tcG9uZW50SW5zdGFuY2VJZCI6ImNvbXAxNzAwNDc3ODU0NjA2X2luc3RfMTgzMCIsImRpc3BsYXlOYW1lIjoidHZvMl9iYWNrZmlsbCIsImRlcGxveW1lbnRUeXBlIjoiZG9ja2VyIiwiY29udGFpbmVySW1hZ2VOYW1lIjoiNTgwMjQwNzgzMzE3LmRrci5lY3IudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vZHNsYWJfbW9kZWxfcnVubmVyIiwiY29udGFpbmVySW1hZ2VWZXJzaW9uIjoidzguNS4yIiwiY29tcG9uZW50VHlwZSI6InN5c3RlbSIsImludm9jYXRpb25NZXRob2RUeXBlIjoicmVhbHRpbWUiLCJjb21wb25lbnREZXNjIjoiIiwicHJlQ29uZGl0aW9uQ2hlY2siOiJOb25lIiwiaXNTY2hlZHVsZWQiOmZhbHNlLCJjcm9uRXhwcmVzc2lvbiI6IiIsImltYWdlUHVsbFNlY3JldFJlZnMiOltdLCJhY3Rpb24iOiJzdG9wIiwiaXNEZXBsb3kiOnRydWUsImluRXZlbnQiOiIiLCJvblN1Y2Nlc3MiOiIiLCJhbGVydEFjdGlvbiI6IiIsIm9uRmFpbHVyZSI6IiIsImJhdGNoV2luZG93IjoiMSIsIm91dEV2ZW50IjpbXSwiY29tcG9uZW50TWV0YURhdGEiOnsiZHNMYWJFeGVjdXRpb25UeXBlIjoiZHNMYWJTY3JpcHRSdW5uZXIiLCJkc0xhYkZ1bklucHV0VHlwZSI6Ikxpc3QiLCJkc0xhYlByb2plY3RJZCI6IjQ3NTEzNjUiLCJkc0xhYlNjcmlwdElkIjoiNTMwODQ5OSIsImRzTGFiU2NyaXB0IjoiaW1wb3J0IGNvbmZpZ1xuaW1wb3J0IG1haW5cbmZyb20gdGltZSBpbXBvcnQgcGVyZl9jb3VudGVyXG5pbXBvcnQgbG9nZ2luZ1xuaW1wb3J0IGJvdG8zXG5cblxuXG5kZWYgZ2V0X2F0aGVuYV9jb25uZWN0aW9uKFJFR0lPTl9OQU1FLCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKTpcbiAgICBhdGhlbmFfY2xpZW50ID0gYm90bzMuY2xpZW50KFxuICAgICAgICAnYXRoZW5hJywgXG4gICAgICAgIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBcbiAgICAgICAgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIFxuICAgICAgICBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZXG4gICAgKVxuICAgIHJldHVybiBhdGhlbmFfY2xpZW50XG5cbmRlZiBydW5fYXRoZW5hX3F1ZXJ5KHF1ZXJ5LCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLFxuICAgICAgICAgICAgICAgICAgICBSRUdJT05fTkFNRSwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSk6XG4gICAgXG4gICAgQVRIRU5BX0NMSUVOVCA9IGdldF9hdGhlbmFfY29ubmVjdGlvbihSRUdJT05fTkFNRSwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSlcbiAgICAgICAgXG4gICAgbG9nZ2luZy5pbmZvKGYnU3RhcnRpbmcgQXRoZW5hIHF1ZXJ5IGV4ZWN1dGlvbicpXG4gICAgbG9nZ2luZy5pbmZvKGYnQXRoZW5hIHF1ZXJ5OlxcbntxdWVyeX0nKVxuICAgIHJlc3BvbnNlID0gQVRIRU5BX0NMSUVOVC5zdGFydF9xdWVyeV9leGVjdXRpb24oXG4gICAgICAgIFF1ZXJ5U3RyaW5nPXF1ZXJ5LFxuICAgICAgICBRdWVyeUV4ZWN1dGlvbkNvbnRleHQ9eydEYXRhYmFzZSc6IEFUSEVOQV9EQVRBQkFTRX0sXG4gICAgICAgIFJlc3VsdENvbmZpZ3VyYXRpb249eydPdXRwdXRMb2NhdGlvbic6IEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OfSxcbiAgICAgICAgV29ya0dyb3VwPSdqdWljZV9kYXRhJ1xuICAgIClcbiAgICBcbiAgICAjIEdldCB0aGUgcXVlcnkgZXhlY3V0aW9uIElEXG4gICAgcXVlcnlfZXhlY3V0aW9uX2lkID0gcmVzcG9uc2VbJ1F1ZXJ5RXhlY3V0aW9uSWQnXVxuXG4gICAgIyBXYWl0IGZvciB0aGUgcXVlcnkgdG8gY29tcGxldGVcbiAgICB3aGlsZSBUcnVlOlxuICAgICAgICBxdWVyeV9zdGF0dXMgPSBBVEhFTkFfQ0xJRU5ULmdldF9xdWVyeV9leGVjdXRpb24oUXVlcnlFeGVjdXRpb25JZD1xdWVyeV9leGVjdXRpb25faWQpXG4gICAgICAgIHN0YXR1cyA9IHF1ZXJ5X3N0YXR1c1snUXVlcnlFeGVjdXRpb24nXVsnU3RhdHVzJ11bJ1N0YXRlJ11cbiAgICAgICAgaWYgc3RhdHVzIGluIFsnU1VDQ0VFREVEJywgJ0ZBSUxFRCcsICdDQU5DRUxMRUQnXTpcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAjIFJldHJpZXZlIGFuZCByZXR1cm4gdGhlIHF1ZXJ5IHJlc3VsdHMgaWYgdGhlIHF1ZXJ5IHN1Y2NlZWRlZFxuICAgIGlmIHN0YXR1cyA9PSAnU1VDQ0VFREVEJzpcbiAgICAgICAgbG9nZ2luZy5pbmZvKGYnQXRoZW5hIHF1ZXJ5IHJhbiBzdWNjZXNzZnVsbHknKVxuICAgIGVsaWYgc3RhdHVzID09ICdGQUlMRUQnOlxuICAgICAgICByYWlzZSBFeGNlcHRpb24oJ1F1ZXJ5IGZyb20gQXRoZW5hIGZhaWxlZCcpIFxuXG5cbmRlZiB0dm9fZHJpdmVyKGlucHV0X2RhdGEsIHMzX3RhcmdldF9idWNrZXRfcGVyZm9ybWFuY2UsIHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlLCBzM190YXJnZXRfcGF0aF9wZXJmb3JtYW5jZV90dm8sXG4gICAgICAgICAgICAgICAgc2VjcmV0X25hbWUsIHJlZ2lvbl9uYW1lLCBhdGhlbmFfZGF0YWJhc2UsIGF3c19hY2Nlc3Nfa2V5X2lkLFxuICAgICAgICAgICAgICAgIGF3c19zZWNyZXRfYWNjZXNzX2tleSwgYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24sIHF1ZXJ5X2J1Y2tldCk6XG4gICAgXG4gICAgbG9nZ2luZy5pbmZvKGYnVFZPIDIgcHJvY2VzcyBzdGFydGVkJylcbiAgICBpbnB1dF9kYXRhID0gaW5wdXRfZGF0YVswXVxuICAgIHN0YXJ0X3RpbWUgPSBwZXJmX2NvdW50ZXIoKVxuICAgICAgICBcbiAgICAjIEdldHRpbmcgY29uZmlnIHZhcmlhYmxlc1xuICAgIG1haW4uaW5pdF9jb25maWcoczNfdGFyZ2V0X2J1Y2tldF9wZXJmb3JtYW5jZSwgczNfdGFyZ2V0X3BhdGhfcGVyZm9ybWFuY2UsIHMzX3RhcmdldF9wYXRoX3BlcmZvcm1hbmNlX3R2byxcbiAgICAgICAgICAgICAgICBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsXG4gICAgICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LCBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiwgcXVlcnlfYnVja2V0KVxuICAgIFxuICAgICMgVFZPMiBwcm9jZXNzXG4gICAgcmVzdWx0cyA9IG1haW4uX21haW4oaW5wdXRfZGF0YSkgXG4gICAgbG9nZ2luZy5pbmZvKGYnVFZPIDIgcHJvY2VzcyBmaW5pc2hlZCBpbiB7cm91bmQocGVyZl9jb3VudGVyKCkgLSBzdGFydF90aW1lLCAzKX0gc2Vjb25kcycpXG4gICAgcmVzdWx0c1swXVsncHJvY2Vzc190aW1lX21pbnV0ZXMnXSA9IHJvdW5kKHJvdW5kKHBlcmZfY291bnRlcigpIC0gc3RhcnRfdGltZSwgMykvNjAsMylcbiAgICBcbiAgICAjIERvaW5nIE1TQ0sgcmVwYWlyXG4gICAgdGFibGVfbmFtZSA9IGZcInthdGhlbmFfZGF0YWJhc2V9LnR2b18yXzBcIlxuICAgIHF1ZXJ5ID0gZlwiTVNDSyBSRVBBSVIgVEFCTEUge3RhYmxlX25hbWV9XCJcbiAgICBydW5fYXRoZW5hX3F1ZXJ5KHF1ZXJ5LCBhdGhlbmFfZGF0YWJhc2UsIGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uLCByZWdpb25fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXdzX2FjY2Vzc19rZXlfaWQsIGF3c19zZWNyZXRfYWNjZXNzX2tleSlcbiAgICByZXR1cm4gcmVzdWx0cyIsImRzTGFiRXh0ZXJuYWxMaWJyYXJ5Ijoic2tyYW5nZXI9PTAuOC4wLGJvdG8zPT0xLjIxLjUsaG9saWRheXM9PTAuMTMsaW1weXV0ZT09MC4wLjgsa2VuZGFsbF93PT0xLjAuMCxwc3ljb3BnMj09Mi45LjMsUHVMUD09Mi42LjAsc2Npa2l0LWxlYXJuPT0xLjIuMixzY2lweT09MS44LjAsc2tyYW5nZXI9PTAuOC4wIiwiZHNMYWJGdW5jdGlvbk5hbWUiOiJ0dm9fZHJpdmVyIiwiZHNMYWJJbnB1dERhdGEiOiJbe1wia2V5XCI6XCJzM190YXJnZXRfYnVja2V0X3BlcmZvcm1hbmNlXCIsXCJ2YWx1ZVwiOlwiQEVOVi5BVFRSSUJVVElPTl9CVUNLRVRfVFZPXCJ9LHtcImtleVwiOlwiczNfdGFyZ2V0X3BhdGhfcGVyZm9ybWFuY2VcIixcInZhbHVlXCI6XCJ0dm8yXCJ9LHtcImtleVwiOlwic2VjcmV0X25hbWVcIixcInZhbHVlXCI6XCJARU5WLlJFRFNISUZUX01UQV9TRUNSRVRfTkFNRVwifSx7XCJrZXlcIjpcInJlZ2lvbl9uYW1lXCIsXCJ2YWx1ZVwiOlwiQEVOVi5SRUdJT05fTkFNRVwifSx7XCJrZXlcIjpcImF0aGVuYV9kYXRhYmFzZVwiLFwidmFsdWVcIjpcIkBFTlYuQVRIRU5BX0RBVEFCQVNFXCJ9LHtcImtleVwiOlwiYXdzX2FjY2Vzc19rZXlfaWRcIixcInZhbHVlXCI6XCJARU5WLkFXU19BQ0NFU1NfS0VZX0lEX0JEQlwifSx7XCJrZXlcIjpcImF3c19zZWNyZXRfYWNjZXNzX2tleVwiLFwidmFsdWVcIjpcIkBFTlYuQVdTX1NFQ1JFVF9LRVlfQkRCXCJ9LHtcImtleVwiOlwiYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb25cIixcInZhbHVlXCI6XCJARU5WLlFVRVJZX1JFU1VMVFNcIn0se1wia2V5XCI6XCJxdWVyeV9idWNrZXRcIixcInZhbHVlXCI6XCJARU5WLlBST0RfQlVDS0VUXCJ9LHtcImtleVwiOlwiczNfdGFyZ2V0X3BhdGhfcGVyZm9ybWFuY2VfdHZvXCIsXCJ2YWx1ZVwiOlwidHZvMi4xXCJ9XSJ9LCJpc0R5bmFtaWNBbGxvY2F0aW9uRW5hYmxlZCI6ZmFsc2UsImdVaWQiOiIxNzAwNDc0MzUwNjI5XzQ0NTEifX19LHsiaWQiOiI3M2Y4LWNmMmEtNDczYS1iZjMwLTBkMGIiLCJkYXRhIjp7InVpSnNvbiI6eyJpZCI6IjczZjgtY2YyYS00NzNhLWJmMzAtMGQwYiIsInRpdGxlIjoidHZvMl9iYWNrZmlsbF9pbnB1dCIsImRhdGEiOnsidG9wIjo0MCwibGVmdCI6NTIwLCJ0eXBlIjp7ImNvbXBvbmVudElkIjoiY29tcF8xNjQ0OTIwMTU4NjM0NDUzOSIsIm5hbWUiOiJ0dm8yX2JhY2tmaWxsX2lucHV0IiwiZGVwbG95bWVudFR5cGUiOiJkb2NrZXIiLCJpbWFnZU5hbWUiOiI1ODAyNDA3ODMzMTcuZGtyLmVjci51cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9kc2xhYl9tb2RlbF9ydW5uZXIiLCJ2ZXJzaW9uIjoidzguNS4yIiwiaXNFeHBvc2VkIjpmYWxzZSwiY29tcG9uZW50VHlwZSI6InN5c3RlbSIsImNvbXBvbmVudEdyb3VwIjoiTWFjaGluZSBMZWFybmluZyIsImNvbXBvbmVudFVJTWV0YURhdGEiOnsiaW52b2NhdGlvblR5cGVzIjpbeyJsYWJlbCI6IlJlYWwtVGltZSIsImtleSI6InJlYWx0aW1lIn0seyJsYWJlbCI6IkJhdGNoIiwia2V5IjoiYmF0Y2gifV0sImNvbm5lY3RvciI6eyJlbmRwb2ludCI6eyJpbiI6MSwib3V0IjoxfX0sImljb24iOiJhc3NldHMvaW1hZ2VzL2NvbXBvbmVudC1pY29ucy9iZGItbm90ZWJvb2sxLnN2ZyIsInByb3BlcnRpZXMiOlt7ImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W3siaXNDb250YWluc05lc3RlZENvbnRyb2wiOnRydWUsImNvbnRyb2xTZXQiOlt7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QifSwicmVzcG9uc2UiOnt9fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tNiIsInRvb2x0aXAiOiJTZWxlY3QgdGhlIHByb2plY3QgbmFtZSBjcmVhdGVkIGluIERTIExhYiBtb2R1bGUuIiwibGFiZWwiOiJQcm9qZWN0IE5hbWUiLCJrZXkiOiJkc0xhYlByb2plY3RJZCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6Nn0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0In0sInJlc3BvbnNlIjp7fX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzYXZlZCBtb2RlbCBuYW1lIiwibGFiZWwiOiJNb2RlbCBOYW1lIiwia2V5IjoiZHNMYWJNb2RlbElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo4fV0sInZhbHVlIjoiTW9kZWwgUnVubmVyIiwia2V5IjoiZHNMYWJNb2RlbFJ1bm5lciJ9LHsiaXNDb250YWluc05lc3RlZENvbnRyb2wiOnRydWUsImNvbnRyb2xTZXQiOlt7ImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwib3B0aW9ucyI6W3sidmFsdWUiOiJEYXRhIEZyYW1lIiwia2V5IjoiZGF0YUZyYW1lIn0seyJ2YWx1ZSI6Ikxpc3QiLCJrZXkiOiJMaXN0In1dLCJsYWJlbCI6IkZ1bmN0aW9uIElucHV0IFR5cGUiLCJrZXkiOiJkc0xhYkZ1bklucHV0VHlwZSIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6MiwidmFsdWUiOiJMaXN0In0seyJkeW5hbWljT3B0aW9uIjp7InJlcXVlc3QiOnsicGF0aCI6Ii9jeGYvYml6dml6L3BsdWdpblNlcnZpY2UiLCJtZXRob2QiOiJwb3N0IiwiYm9keSI6eyJtZXRob2QiOiJQT1NUIiwiZGF0YSI6e319fSwicmVzcG9uc2UiOnsiYmluZGluZyI6W3sicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTQsIm5hbWUiOiJQaXhlbCBSYXcgRGF0YSBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NTg3NTUsIm5hbWUiOiJNVEEgUHJvY2VzcyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjQsIm5hbWUiOiJBbGVydHMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjMyMTEyNjUsIm5hbWUiOiJEYXRhIGNvbXBhcmlzb25zIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY2LCJuYW1lIjoicGl4ZWwgY29tcGFyaXNpb24iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MjgsIm5hbWUiOiJ0ZXN0cHJvamVjdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkyOSwibmFtZSI6IkpNUGl4ZWxQcm9jZXNzaW5nIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTMxLCJuYW1lIjoiTVRBSm9icyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzMiwibmFtZSI6ImRlbW8gZ2l0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTM0LCJuYW1lIjoiRGV2IFNjcmF0Y2hQYWQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDIsIm5hbWUiOiJDYXN1YWwgUHJlY2lzaW9uIEFkc2VydmVyIGFuZCBTcGVuZCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0NCwibmFtZSI6IlBpeGVsIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDYsIm5hbWUiOiJNYXhtaW5kIERhdGFiYXNlIFJlZnJlc2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDcsIm5hbWUiOiJFeHRyZW1lIFJlYWNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTMsIm5hbWUiOiJPcHRpbWl6ZXIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTUsIm5hbWUiOiJ0ZXN0ZXhwb3J0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU2LCJuYW1lIjoiTWVkaWEgT2NlYW4iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTcsIm5hbWUiOiJUVk8iLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NTksIm5hbWUiOiJhZHNlcnZlciB2YWxpZGF0aW9uIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTYyLCJuYW1lIjoiTVRBIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjMsIm5hbWUiOiJNZWRpYSBPY2VhbiBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjQsIm5hbWUiOiJPcHRpbWl6ZXIgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY1LCJuYW1lIjoiUGl4ZWwgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NiwibmFtZSI6IlBpeGVsIFByb2Nlc3MgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NjIwMjg4LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2MCwibmFtZSI6Im5ld3Rlc3QiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjUsIm5hbWUiOiJUVk8yMCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDc1MTM2OCwibmFtZSI6IlRWTyBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNzAsIm5hbWUiOiJPcHRpbWl6ZXIgdjIiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTQsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0SmlhcWkiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NTUsIm5hbWUiOiJPcHRpbWl6ZXJUZXN0Sm9lbCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2MSwibmFtZSI6IlRWTzIwIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NTM3Mzk2NiwibmFtZSI6Ind1cmZsc2FuaXR5dGVzdDEiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJsYWJlbCI6IlByb2plY3QgTmFtZSIsImtleSI6ImRzTGFiUHJvamVjdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjozLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBwcm9qZWN0IG5hbWUgY3JlYXRlZCBpbiBEUyBMYWIgbW9kdWxlLiIsInZhbHVlIjoiNDc1MTM2NSJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsicHJvamVjdElkIjoiNDc1MTM2NSJ9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOlt7ImlkIjo1MzA4NDk4LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6ImlucHV0X3R2bzIiLCJ0eXBlIjoxfSx7ImlkIjo1MzA4NDk5LCJwcm9qZWN0SWQiOjQ3NTEzNjUsInNwYWNlS2V5IjoiMTExMSIsIm5vdGVib29rTmFtZSI6InR2bzJfZHJpdmVyIiwidHlwZSI6MX0seyJpZCI6NTMwODUwMCwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJ0dm8yX2lucHV0X2JhY2tmaWxsIiwidHlwZSI6MX1dfX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTYiLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzY3JpcHQgbmFtZSBleHBvcnRlZCBmcm9tIHRoZSBzZWxlY3RlZCBwcm9qZWN0LiIsImxhYmVsIjoiU2NyaXB0IE5hbWUiLCJrZXkiOiJkc0xhYlNjcmlwdElkIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo0LCJ2YWx1ZSI6IjUzMDg1MDAifSx7ImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJyZWFkT25seSI6ZmFsc2UsImxhYmVsIjoiRXh0ZXJuYWwgTGlicmFyeSIsImtleSI6ImRzTGFiRXh0ZXJuYWxMaWJyYXJ5Iiwib3JkZXIiOjUsInRvb2x0aXAiOiJDb21tYSBzYXBlcmF0ZWQgbGlicmFyeSBuYW1lcy4iLCJ2YWx1ZSI6InBzeWNvcGcyPT0yLjkuMyxib3RvMz09MS4yMS41LHBzeWNvcGcyPT0yLjkuMyJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnsiaWQiOiI1MzA4NTAwIn19fSwicmVzcG9uc2UiOnsiYmluZGluZyI6e319fSwiaXNEeW5hbWljIjp0cnVlLCJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOltdLCJ0b29sdGlwIjoiU2VsZWN0IHRoZSBzdGFydCBmdW5jdGlvbiBuYW1lIGZyb20gdGhlIHNjcmlwdC4iLCJsYWJlbCI6IlN0YXJ0IEZ1bmN0aW9uIiwicmVxdWlyZWQiOnRydWUsImtleSI6ImRzTGFiRnVuY3Rpb25OYW1lIiwib3JkZXIiOjYsInZhbHVlIjoic3RhcnRfZnVuYyJ9LHsiY29udHJvbFR5cGUiOiJ0ZXh0YXJlYWJveCIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwicmVhZE9ubHkiOnRydWUsImxhYmVsIjoiU2NyaXB0Iiwicm93cyI6OCwidmFsdWUiOiJmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhXG5pbXBvcnQganNvblxuaW1wb3J0IGxvZ2dpbmdcbmxvZ2dpbmcuYmFzaWNDb25maWcoKVxubG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoJ1RWT19JTlBVVCcpXG5sb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5JTkZPKVxuXG5pbXBvcnQgYm90bzNcbmltcG9ydCBwYW5kYXMgYXMgcGRcbmltcG9ydCBwc3ljb3BnMlxuZnJvbSBpbyBpbXBvcnQgQnl0ZXNJT1xuaW1wb3J0IGJhc2U2NFxuXG5kZWYgZ2V0X3JlZHNoaWZ0X3NlY3JldCgpOlxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUVcbiAgICAjIGNvbm5lY3RzIHRvIEFXUyBzZWNyZXRzIG1hbmFnZXIgdG8gZ2V0IGNyZWRlbnRpYWxzXG4gICAgc2Vzc2lvbiA9IGJvdG8zLnNlc3Npb24uU2Vzc2lvbigpXG4gICAgXG4gICAgY2xpZW50ID0gc2Vzc2lvbi5jbGllbnQoXG4gICAgICAgIHNlcnZpY2VfbmFtZT0nc2VjcmV0c21hbmFnZXInLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG5cbiAgICB0cnk6XG4gICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2UgPSBjbGllbnQuZ2V0X3NlY3JldF92YWx1ZShTZWNyZXRJZD1TRUNSRVRfTkFNRSlcbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGluIGdldHRpbmcgcmVkc2hpZnQgc2VjcmV0c1wiKVxuICAgICAgICByYWlzZVxuICAgIGVsc2U6XG4gICAgICAgIGlmICdTZWNyZXRTdHJpbmcnIGluIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2U6XG4gICAgICAgICAgICBzZWNyZXQgPSBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRTdHJpbmcnXVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgZGVjb2RlZF9iaW5hcnlfc2VjcmV0ID0gYmFzZTY0LmI2NGRlY29kZShcbiAgICAgICAgICAgICAgICBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlWydTZWNyZXRCaW5hcnknXSlcbiAgICByZXR1cm4ganNvbi5sb2FkcyhzZWNyZXQpXG5cbmRlZiBnZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpOlxuICAgICMgY3JlYXRlcyBkYXRhIGJhc2UgY29ubmVjdGlvbiBhbmQgcGFzc2VzIGl0IGJhY2sgdG8gY2FsbGVyXG4gICAgdHJ5OlxuICAgICAgICBzZWNyZXRzID0gZ2V0X3JlZHNoaWZ0X3NlY3JldCgpXG4gICAgICAgIGNvbm4gPSBwc3ljb3BnMi5jb25uZWN0KGRibmFtZT1zZWNyZXRzWydEQVRBQkFTRSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0PXNlY3JldHNbJ0hPU1QnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydD1zZWNyZXRzWydQT1JUJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9c2VjcmV0c1snVVNFUiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD1zZWNyZXRzWydQQVNTV09SRCddKVxuICAgICAgICByZXR1cm4gY29ublxuXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICBsb2dnZXIuZXJyb3IoZidFcnJvciBnZXR0aW5nIHJlZHNoaWZ0IGNvbm5lY3Rpb24gZGV0YWlsczogRXhjZXB0aW9uOiB7c3RyKGUpfScpXG4gICAgICAgIHJhaXNlXG4gICAgICAgIFxuZGVmIHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSk6XG4gICAgY29ubiA9IGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKClcbiAgICBkZiA9IHBkLnJlYWRfc3FsX3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5LCBjb249Y29ubilcbiAgICByZXR1cm4gZGZcblxuZGVmIHJ1bl9hdGhlbmFfcXVlcnkocXVlcnkpOlxuICAgIGdsb2JhbCBSRUdJT05fTkFNRSwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBcbiAgICBBVEhFTkFfQ0xJRU5UID0gYm90bzMuY2xpZW50KCdhdGhlbmEnLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG4gICAgUzMgPSBib3RvMy5jbGllbnQoJ3MzJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuICAgIGxvZ2dlci5pbmZvKGYnU3RhcnRpbmcgQXRoZW5hIHF1ZXJ5IGV4ZWN1dGlvbicpXG4gICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnk6XFxue3F1ZXJ5fScpXG4gICAgcmVzcG9uc2UgPSBBVEhFTkFfQ0xJRU5ULnN0YXJ0X3F1ZXJ5X2V4ZWN1dGlvbihcbiAgICAgICAgUXVlcnlTdHJpbmc9cXVlcnksXG4gICAgICAgIFF1ZXJ5RXhlY3V0aW9uQ29udGV4dD17J0RhdGFiYXNlJzogQVRIRU5BX0RBVEFCQVNFfSxcbiAgICAgICAgUmVzdWx0Q29uZmlndXJhdGlvbj17J091dHB1dExvY2F0aW9uJzogQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT059LFxuICAgICAgICBXb3JrR3JvdXA9J2p1aWNlX2RhdGEnXG4gICAgKVxuICAgIFxuICAgICMgR2V0IHRoZSBxdWVyeSBleGVjdXRpb24gSURcbiAgICBxdWVyeV9leGVjdXRpb25faWQgPSByZXNwb25zZVsnUXVlcnlFeGVjdXRpb25JZCddXG5cbiAgICAjIFdhaXQgZm9yIHRoZSBxdWVyeSB0byBjb21wbGV0ZVxuICAgIHdoaWxlIFRydWU6XG4gICAgICAgIHF1ZXJ5X3N0YXR1cyA9IEFUSEVOQV9DTElFTlQuZ2V0X3F1ZXJ5X2V4ZWN1dGlvbihRdWVyeUV4ZWN1dGlvbklkPXF1ZXJ5X2V4ZWN1dGlvbl9pZClcbiAgICAgICAgc3RhdHVzID0gcXVlcnlfc3RhdHVzWydRdWVyeUV4ZWN1dGlvbiddWydTdGF0dXMnXVsnU3RhdGUnXVxuXG4gICAgICAgIGlmIHN0YXR1cyBpbiBbJ1NVQ0NFRURFRCcsICdGQUlMRUQnLCAnQ0FOQ0VMTEVEJ106XG4gICAgICAgICAgICBicmVha1xuXG4gICAgIyBSZXRyaWV2ZSBhbmQgcmV0dXJuIHRoZSBxdWVyeSByZXN1bHRzIGlmIHRoZSBxdWVyeSBzdWNjZWVkZWRcbiAgICBpZiBzdGF0dXMgPT0gJ1NVQ0NFRURFRCc6XG4gICAgICAgIHMzX3Jlc3BvbnNlX29iamVjdCA9IFMzLmdldF9vYmplY3QoQnVja2V0PVFVRVJZX0JVQ0tFVCwgS2V5PWZcIntBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTi5zcGxpdCgnLycpWy0yXX0ve3F1ZXJ5X2V4ZWN1dGlvbl9pZH0uY3N2XCIpXG4gICAgICAgIG9iamVjdF9jb250ZW50ID0gczNfcmVzcG9uc2Vfb2JqZWN0WydCb2R5J10ucmVhZCgpXG4gICAgICAgIHJlc3VsdHMgPSBwZC5yZWFkX2NzdihCeXRlc0lPKG9iamVjdF9jb250ZW50KSlcbiAgICAgICAgbG9nZ2VyLmluZm8oZidBdGhlbmEgcXVlcnkgcmFuIHN1Y2Nlc3NmdWxseScpXG4gICAgICAgIHJldHVybiByZXN1bHRzXG4gICAgZWxpZiBzdGF0dXMgPT0gJ0ZBSUxFRCc6XG4gICAgICAgIHJhaXNlIEV4Y2VwdGlvbignUXVlcnkgZnJvbSBBdGhlbmEgZmFpbGVkJylcblxuZGVmIGNsaWVudF9tb2RpZmljYXRpb24ocm93KTpcbiAgICBpZiByb3cubG93ZXIoKS5zdHJpcCgpID09ICdiYmInOlxuICAgICAgICByZXR1cm4gJ292ZXJzdG9jaydcbiAgICBlbGlmIHJvdy5sb3dlcigpID09ICdyZXhtZCcgb3Igcm93Lmxvd2VyKCkgPT0gJ3NpbmdsZWNhcmUnOlxuICAgICAgICByZXR1cm4gJ3J4c2Vuc2UnXG4gICAgZWxzZTpcbiAgICAgICAgcmV0dXJuIHJvdy5sb3dlcigpXG4gICAgICAgIFxuZGVmIHByZXBhcmVfZGF0YShkYXRhLCBsb29rYmFja19kYXlzLCBvcHRfcGVuYWx0eV9zdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoKTpcbiAgICBnbG9iYWwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEVcbiAgICBcbiAgICBpbnB1dF9kZiA9IHBkLkRhdGFGcmFtZShjb2x1bW5zPVsna3BpX2luZGV4JywgJ2xvb2tiZWZvcmVfbWlucycsICdsb29rYWZ0ZXJfbWlucycsICdpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgJ2luY2x1ZGVfaW1wcmVzc2lvbnMnLCAnb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JyxcbiAgICAgICAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsXG4gICAgICAgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJywgJ2NsaWVudGtleSddKVxuICAgIFxuICAgIHJlZHNoaWZ0X3F1ZXJ5ID0gXCJcIlwiXG4gICAgICAgIHNlbGVjdCBkaXN0aW5jdCBjLmNsaWVudGtleV9tYXAsIGsudHZvX2twaV9pbmRleCwgYy50dm9fcHJlX3dpbmRvd19taW51dGVzLCBjLnR2b19wb3N0X3dpbmRvd19taW51dGVzLCBjLnR2b19pbmNsdWRlX2ZyZWVzcG90cywgYy50dm9faW5jbHVkZV9pbXByZXNzaW9ucywgYy5kYXRhc2V0X3N0YXJ0X2RhdGUsIGMuZGF0YXNldF9lbmRfZGF0ZVxuICAgICAgICBmcm9tIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3MuY2xpZW50X21hcHBpbmdzIGMsIHBvcnRhbF9nbG9iYWxfc2V0dGluZ3Mua3BpX21hcHBpbmdzIGtcbiAgICAgICAgd2hlcmUgYy5jbGllbnRrZXlfbWFwID0gay5jbGllbnRrZXlfbWFwXG4gICAgICAgIG9yZGVyIGJ5IGNsaWVudGtleV9tYXAsIHR2b19rcGlfaW5kZXhcbiAgICAgICAgXCJcIlwiXG4gICAgXG4gICAgZm9yIGVuZF9kYXRlX3N0cmluZyBpbiBkYXRhW1wiZW5kX2RhdGVzXCJdOlxuICAgICAgICBcbiAgICAgICAgIyBHZXR0aW5nIHJlZHNoaWZ0IHJlc3VsdHNcbiAgICAgICAgc3RhcnRfZGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICAgIGVuZF9kdCA9IGRhdGV0aW1lKHllYXI9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMF0pLCBtb250aD1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsxXSksIGRheT1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVsyXSksIGhvdXI9MClcbiAgICAgICAgcHJldl9kYXkgPSBlbmRfZHQgLSB0aW1lZGVsdGEoMSlcbiAgICAgICAgZW5kX2RhdGUgPSBmJ3twcmV2X2RheS55ZWFyfS17c3RyKFwiezowMmR9XCIuZm9ybWF0KHByZXZfZGF5Lm1vbnRoKSl9LXtzdHIoXCJ7OjAyZH1cIi5mb3JtYXQocHJldl9kYXkuZGF5KSl9J1xuICAgICAgICByZWRzaGlmdF9kZiA9IHJ1bl9yZWRzaGlmdF9xdWVyeShyZWRzaGlmdF9xdWVyeSlcbiAgICAgICAgcmVkc2hpZnRfZGYgPSByZWRzaGlmdF9kZi5kcm9wKGNvbHVtbnM9WydkYXRhc2V0X3N0YXJ0X2RhdGUnLCdkYXRhc2V0X2VuZF9kYXRlJ10pXG4gICAgICAgIHJlZHNoaWZ0X2RmW1snb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JywgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLCAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnXV0gPSBwZC5EYXRhRnJhbWUoW1tvcHRfcGVuYWx0eV9zdGF0aW9uLCBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGVdXSwgaW5kZXg9cmVkc2hpZnRfZGYuaW5kZXgpXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcmVkc2hpZnRfZGYucmVuYW1lKGNvbHVtbnMgPSB7J2NsaWVudGtleV9tYXAnOidjbGllbnRrZXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fa3BpX2luZGV4Jzona3BpX2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcHJlX3dpbmRvd19taW51dGVzJzonbG9va2JlZm9yZV9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9fcG9zdF93aW5kb3dfbWludXRlcyc6J2xvb2thZnRlcl9taW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9faW5jbHVkZV9mcmVlc3BvdHMnOidpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2luY2x1ZGVfaW1wcmVzc2lvbnMnOidpbmNsdWRlX2ltcHJlc3Npb25zJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgIyBRdWVyeWluZyBhdGhlbmEgdG8gZ2V0IGxpc3Qgb2YgY2xpZW50cyBhY3RpdmUgaW4gdGhlIHBhc3Qgd2Vla1xuICAgICAgICBkdCA9IChkYXRldGltZS5zdHJwdGltZShlbmRfZGF0ZV9zdHJpbmcsICclWS0lbS0lZCcpKVxuICAgICAgICBlbmRfY2hlY2tfZGF0ZSA9IGR0LnN0cmZ0aW1lKFwiJVktJW0tJWRcIilcbiAgICAgICAgZHRfNyA9IGR0IC0gdGltZWRlbHRhKGRheXM9bG9va2JhY2tfZGF5cylcbiAgICAgICAgc3RhcnRfY2hlY2tfZGF0ZSA9IGR0Xzcuc3RyZnRpbWUoXCIlWS0lbS0lZFwiKVxuXG4gICAgICAgIGF0aGVuYV9xdWVyeSA9IGZcIlwiXCJcbiAgICAgICAgc2VsZWN0IGFkdmVydGlzZXIsIGNvdW50KCopIGFzIHJvd19jb3VudCBmcm9tIFxuICAgICAgICAoc2VsZWN0IGRpc3RpbmN0ICogZnJvbSB7QVRIRU5BX0RBVEFCQVNFfS57QVRIRU5BX1RBQkxFfSlcbiAgICAgICAgd2hlcmUgY2FzdChicm9hZGNhc3RfZGF0ZSBhcyBkYXRlKSBiZXR3ZWVuIGNhc3QoJ3tzdHIoc3RhcnRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKSBhbmQgY2FzdCgne3N0cihlbmRfY2hlY2tfZGF0ZSl9JyBhcyBkYXRlKVxuICAgICAgICBncm91cCBieSBhZHZlcnRpc2VyXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBhdGhlbmFfZGYgPSBydW5fYXRoZW5hX3F1ZXJ5KGF0aGVuYV9xdWVyeSlcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gYXRoZW5hX2RmW2F0aGVuYV9kZlsncm93X2NvdW50J10+MF1bJ2FkdmVydGlzZXInXS50b19saXN0KClcbiAgICAgICAgYWN0aXZlX2NsaWVudF9saXN0ID0gW2kubG93ZXIoKS5zdHJpcCgpIGZvciBpIGluIGFjdGl2ZV9jbGllbnRfbGlzdF1cbiAgICAgICAgYWN0aXZlX2xpc3RfZGYgPSBwZC5EYXRhRnJhbWUoeydjbGllbnRfb3JpZyc6YWN0aXZlX2NsaWVudF9saXN0fSlcbiAgICAgICAgYWN0aXZlX2xpc3RfZGZbJ2NsaWVudF9tb2QnXSA9IGFjdGl2ZV9saXN0X2RmWydjbGllbnRfb3JpZyddLmFwcGx5KGNsaWVudF9tb2RpZmljYXRpb24pXG4gICAgICAgIFxuICAgICAgICAjIE1lcmdpbmcgY2xpZW50IGxpc3Qgd2l0aCBjb25maWd1cmF0aW9ucyBmcm9tIHJlZHNoaWZ0XG4gICAgICAgIGZpbmFsX2RmID0gcmVkc2hpZnRfZGYuc2V0X2luZGV4KCdjbGllbnRrZXknKS5tZXJnZShhY3RpdmVfbGlzdF9kZi5zZXRfaW5kZXgoJ2NsaWVudF9tb2QnKSwgbGVmdF9vbj0nY2xpZW50a2V5JywgcmlnaHRfb249J2NsaWVudF9tb2QnKVxuICAgICAgICBmaW5hbF9kZiA9IGZpbmFsX2RmLnJlbmFtZShjb2x1bW5zPXsnY2xpZW50X29yaWcnOidjbGllbnRrZXknfSlcbiAgICAgICAgZmluYWxfZGYgPSBmaW5hbF9kZi5kcm9wbmEoKVxuICAgICAgICBpbnB1dF9kZiA9IHBkLmNvbmNhdChbaW5wdXRfZGYsZmluYWxfZGZdKVxuICAgIGlucHV0X2RmID0gaW5wdXRfZGYuc29ydF92YWx1ZXMoWydlbmRfZGF0ZScsJ2NsaWVudGtleScsJ2twaV9pbmRleCddKVxuICAgIHJldHVybiBpbnB1dF9kZlxuXG5kZWYgc3RhcnRfZnVuYyhkYXRhLCBzZWNyZXRfbmFtZSwgcmVnaW9uX25hbWUsIGF0aGVuYV9kYXRhYmFzZSwgYXdzX2FjY2Vzc19rZXlfaWQsXG4gICAgICAgICAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LCBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvbiwgcXVlcnlfYnVja2V0LFxuICAgICAgICAgICAgICAgICAgYXRoZW5hX3RhYmxlLCBicmFuY2gsIGxvb2tiYWNrX2RheXM9Nywgb3B0X3BlbmFsdHlfc3RhdGlvbj0xLFxuICAgICAgICAgICAgICAgICAgIG9wdF9wZW5hbHR5X2RheXBhcnQ9MSwgb3B0X3BlbmFsdHlfYnVja2V0PTEsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlPTEsIG9wdF9tYXhfc2Vjb25kcz02MCk6XG4gICAgIFxuICAgIGdsb2JhbCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBSRUdJT05fTkFNRSwgU0VDUkVUX05BTUUsIGNvbm4sIGN1cnNvciwgQVRIRU5BX0RBVEFCQVNFLCBBVEhFTkFfVEFCTEUsIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLCBRVUVSWV9CVUNLRVRcbiAgICBBV1NfQUNDRVNTX0tFWV9JRCA9IGF3c19hY2Nlc3Nfa2V5X2lkXG4gICAgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZID0gYXdzX3NlY3JldF9hY2Nlc3Nfa2V5XG4gICAgUkVHSU9OX05BTUUgPSByZWdpb25fbmFtZVxuICAgIFNFQ1JFVF9OQU1FID0gc2VjcmV0X25hbWVcbiAgICBBVEhFTkFfREFUQUJBU0UgPSBhdGhlbmFfZGF0YWJhc2VcbiAgICBBVEhFTkFfVEFCTEUgPSBhdGhlbmFfdGFibGVcbiAgICBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiA9IGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uXG4gICAgUVVFUllfQlVDS0VUID0gcXVlcnlfYnVja2V0XG4gICAgXG4gICAgcmVzdWx0X2RmID0gcGQuRGF0YUZyYW1lKGNvbHVtbnM9WydrcGlfaW5kZXgnLCAnbG9va2JlZm9yZV9taW5zJywgJ2xvb2thZnRlcl9taW5zJywgJ2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucycsICdvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLFxuICAgICAgICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJyxcbiAgICAgICAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnLCAnY2xpZW50a2V5J10pXG4gICAgXG4gICAgcmVzdWx0cyA9IHByZXBhcmVfZGF0YShkYXRhWzBdLCBpbnQobG9va2JhY2tfZGF5cyksIGludChvcHRfcGVuYWx0eV9zdGF0aW9uKSxcbiAgICAgICAgICAgICAgIGludChvcHRfcGVuYWx0eV9kYXlwYXJ0KSwgaW50KG9wdF9wZW5hbHR5X2J1Y2tldCksIGludChvcHRfcGVuYWx0eV92YXJpYW5jZSksIGludChvcHRfbWF4X3NlY29uZHMpLCBicmFuY2gpXG4gICAgICAgIFxuICAgIHJldHVybiByZXN1bHRzIiwia2V5IjoiZHNMYWJTY3JpcHQiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjd9LHsiaXNNdWx0aSI6dHJ1ZSwiY29udHJvbFR5cGUiOiJpdGVyYWJsZSIsImNzc0NsYXNzIjoiY29sLXNtLTEyIiwiYWRkQnV0dG9uIjp7ImxhYmVsIjoiQWRkIE5ldyBDb2x1bW4ifSwibGFiZWwiOiJJbnB1dCBEYXRhIiwicHJvcGVydGllcyI6W1t7InZhbHVlIjoic2VjcmV0X25hbWUiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLlJFRFNISUZUX01UQV9TRUNSRVRfTkFNRSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6InJlZ2lvbl9uYW1lIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5SRUdJT05fTkFNRSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV9kYXRhYmFzZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuQVRIRU5BX0RBVEFCQVNFIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXdzX2FjY2Vzc19rZXlfaWQiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFXU19BQ0NFU1NfS0VZX0lEX0JEQiIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF3c19zZWNyZXRfYWNjZXNzX2tleSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuQVdTX1NFQ1JFVF9LRVlfQkRCIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24iLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLlFVRVJZX1JFU1VMVFMiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJxdWVyeV9idWNrZXQiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLlBST0RfQlVDS0VUIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoiYXRoZW5hX3RhYmxlIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoibWVkaWFfb2NlYW5fZGF0YSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImJyYW5jaCIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6Im1hc3RlciIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XV0sImtleSI6ImRzTGFiSW5wdXREYXRhIiwiaXNJdGVyYWJsZSI6dHJ1ZSwib3JkZXIiOjh9XSwidmFsdWUiOiJTY3JpcHQgUnVubmVyIiwia2V5IjoiZHNMYWJTY3JpcHRSdW5uZXIifV0sImlzQ29udGFpbnNOZXN0ZWRDb250cm9sIjp0cnVlLCJsYWJlbCI6IkV4ZWN1dGlvbiBUeXBlIiwia2V5IjoiZHNMYWJFeGVjdXRpb25UeXBlIiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjoxLCJ2YWx1ZSI6ImRzTGFiU2NyaXB0UnVubmVyIn0seyJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOlt7InZhbHVlIjoiRGF0YSBGcmFtZSIsImtleSI6ImRhdGFGcmFtZSJ9LHsidmFsdWUiOiJMaXN0Iiwia2V5IjoiTGlzdCJ9XSwibGFiZWwiOiJGdW5jdGlvbiBJbnB1dCBUeXBlIiwia2V5IjoiZHNMYWJGdW5JbnB1dFR5cGUiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjIsInZhbHVlIjoiTGlzdCJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnt9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOlt7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDU4NzU0LCJuYW1lIjoiUGl4ZWwgUmF3IERhdGEgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDU4NzU1LCJuYW1lIjoiTVRBIFByb2Nlc3MgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY0LCJuYW1lIjoiQWxlcnRzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY1LCJuYW1lIjoiRGF0YSBjb21wYXJpc29ucyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6MzIxMTI2NiwibmFtZSI6InBpeGVsIGNvbXBhcmlzaW9uIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTI4LCJuYW1lIjoidGVzdHByb2plY3QiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MjksIm5hbWUiOiJKTVBpeGVsUHJvY2Vzc2luZyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzMSwibmFtZSI6Ik1UQUpvYnMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MzIsIm5hbWUiOiJkZW1vIGdpdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzNCwibmFtZSI6IkRldiBTY3JhdGNoUGFkIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQyLCJuYW1lIjoiQ2FzdWFsIFByZWNpc2lvbiBBZHNlcnZlciBhbmQgU3BlbmQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDQsIm5hbWUiOiJQaXhlbCBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ2LCJuYW1lIjoiTWF4bWluZCBEYXRhYmFzZSBSZWZyZXNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ3LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0OCwibmFtZSI6IkV4dHJlbWUgUmVhY2ggRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTUzLCJuYW1lIjoiT3B0aW1pemVyIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU1LCJuYW1lIjoidGVzdGV4cG9ydCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1NiwibmFtZSI6Ik1lZGlhIE9jZWFuIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU3LCJuYW1lIjoiVFZPIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU5LCJuYW1lIjoiYWRzZXJ2ZXIgdmFsaWRhdGlvbiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2MiwibmFtZSI6Ik1UQSBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTYzLCJuYW1lIjoiTWVkaWEgT2NlYW4gRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY0LCJuYW1lIjoiT3B0aW1pemVyIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NSwibmFtZSI6IlBpeGVsIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjYsIm5hbWUiOiJQaXhlbCBQcm9jZXNzIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDYyMDI4OCwibmFtZSI6IkV4dHJlbWUgUmVhY2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjAsIm5hbWUiOiJuZXd0ZXN0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzY1LCJuYW1lIjoiVFZPMjAiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjgsIm5hbWUiOiJUVk8gRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzcwLCJuYW1lIjoiT3B0aW1pemVyIHYyIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTU0LCJuYW1lIjoiT3B0aW1pemVyVGVzdEppYXFpIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTU1LCJuYW1lIjoiT3B0aW1pemVyVGVzdEpvZWwiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NjEsIm5hbWUiOiJUVk8yMCBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NjYsIm5hbWUiOiJ3dXJmbHNhbml0eXRlc3QxIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9XX19LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS02IiwibGFiZWwiOiJQcm9qZWN0IE5hbWUiLCJrZXkiOiJkc0xhYlByb2plY3RJZCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6MywidG9vbHRpcCI6IlNlbGVjdCB0aGUgcHJvamVjdCBuYW1lIGNyZWF0ZWQgaW4gRFMgTGFiIG1vZHVsZS4iLCJ2YWx1ZSI6IjQ3NTEzNjUifSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QiLCJib2R5Ijp7Im1ldGhvZCI6IlBPU1QiLCJkYXRhIjp7InByb2plY3RJZCI6IjQ3NTEzNjUifX19LCJyZXNwb25zZSI6eyJiaW5kaW5nIjpbeyJpZCI6NTMwODQ5OCwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJpbnB1dF90dm8yIiwidHlwZSI6MX0seyJpZCI6NTMwODQ5OSwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJ0dm8yX2RyaXZlciIsInR5cGUiOjF9LHsiaWQiOjUzMDg1MDAsInByb2plY3RJZCI6NDc1MTM2NSwic3BhY2VLZXkiOiIxMTExIiwibm90ZWJvb2tOYW1lIjoidHZvMl9pbnB1dF9iYWNrZmlsbCIsInR5cGUiOjF9XX19LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS02IiwidG9vbHRpcCI6IlNlbGVjdCB0aGUgc2NyaXB0IG5hbWUgZXhwb3J0ZWQgZnJvbSB0aGUgc2VsZWN0ZWQgcHJvamVjdC4iLCJsYWJlbCI6IlNjcmlwdCBOYW1lIiwia2V5IjoiZHNMYWJTY3JpcHRJZCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6NCwidmFsdWUiOiI1MzA4NTAwIn0seyJjb250cm9sVHlwZSI6InRleHRib3giLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwicmVhZE9ubHkiOmZhbHNlLCJsYWJlbCI6IkV4dGVybmFsIExpYnJhcnkiLCJrZXkiOiJkc0xhYkV4dGVybmFsTGlicmFyeSIsIm9yZGVyIjo1LCJ0b29sdGlwIjoiQ29tbWEgc2FwZXJhdGVkIGxpYnJhcnkgbmFtZXMuIiwidmFsdWUiOiJwc3ljb3BnMj09Mi45LjMsYm90bzM9PTEuMjEuNSxwc3ljb3BnMj09Mi45LjMifSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QiLCJib2R5Ijp7Im1ldGhvZCI6IlBPU1QiLCJkYXRhIjp7ImlkIjoiNTMwODUwMCJ9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOnt9fX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJvcHRpb25zIjpbXSwidG9vbHRpcCI6IlNlbGVjdCB0aGUgc3RhcnQgZnVuY3Rpb24gbmFtZSBmcm9tIHRoZSBzY3JpcHQuIiwibGFiZWwiOiJTdGFydCBGdW5jdGlvbiIsInJlcXVpcmVkIjp0cnVlLCJrZXkiOiJkc0xhYkZ1bmN0aW9uTmFtZSIsIm9yZGVyIjo2LCJ2YWx1ZSI6InN0YXJ0X2Z1bmMifSx7ImNvbnRyb2xUeXBlIjoidGV4dGFyZWFib3giLCJjc3NDbGFzcyI6ImNvbC1zbS0xMiIsInJlYWRPbmx5Ijp0cnVlLCJsYWJlbCI6IlNjcmlwdCIsInJvd3MiOjgsInZhbHVlIjoiZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YVxuaW1wb3J0IGpzb25cbmltcG9ydCBsb2dnaW5nXG5sb2dnaW5nLmJhc2ljQ29uZmlnKClcbmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCdUVk9fSU5QVVQnKVxubG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTylcblxuaW1wb3J0IGJvdG8zXG5pbXBvcnQgcGFuZGFzIGFzIHBkXG5pbXBvcnQgcHN5Y29wZzJcbmZyb20gaW8gaW1wb3J0IEJ5dGVzSU9cbmltcG9ydCBiYXNlNjRcblxuZGVmIGdldF9yZWRzaGlmdF9zZWNyZXQoKTpcbiAgICBnbG9iYWwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgUkVHSU9OX05BTUUsIFNFQ1JFVF9OQU1FXG4gICAgIyBjb25uZWN0cyB0byBBV1Mgc2VjcmV0cyBtYW5hZ2VyIHRvIGdldCBjcmVkZW50aWFsc1xuICAgIHNlc3Npb24gPSBib3RvMy5zZXNzaW9uLlNlc3Npb24oKVxuICAgIFxuICAgIGNsaWVudCA9IHNlc3Npb24uY2xpZW50KFxuICAgICAgICBzZXJ2aWNlX25hbWU9J3NlY3JldHNtYW5hZ2VyJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuXG4gICAgdHJ5OlxuICAgICAgICBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlID0gY2xpZW50LmdldF9zZWNyZXRfdmFsdWUoU2VjcmV0SWQ9U0VDUkVUX05BTUUpXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICBsb2dnZXIuZXJyb3IoXCJFUlJPUiBpbiBnZXR0aW5nIHJlZHNoaWZ0IHNlY3JldHNcIilcbiAgICAgICAgcmFpc2VcbiAgICBlbHNlOlxuICAgICAgICBpZiAnU2VjcmV0U3RyaW5nJyBpbiBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlOlxuICAgICAgICAgICAgc2VjcmV0ID0gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0U3RyaW5nJ11cbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGRlY29kZWRfYmluYXJ5X3NlY3JldCA9IGJhc2U2NC5iNjRkZWNvZGUoXG4gICAgICAgICAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0QmluYXJ5J10pXG4gICAgcmV0dXJuIGpzb24ubG9hZHMoc2VjcmV0KVxuXG5kZWYgZ2V0X3JlZHNoaWZ0X2Nvbm5lY3Rpb24oKTpcbiAgICAjIGNyZWF0ZXMgZGF0YSBiYXNlIGNvbm5lY3Rpb24gYW5kIHBhc3NlcyBpdCBiYWNrIHRvIGNhbGxlclxuICAgIHRyeTpcbiAgICAgICAgc2VjcmV0cyA9IGdldF9yZWRzaGlmdF9zZWNyZXQoKVxuICAgICAgICBjb25uID0gcHN5Y29wZzIuY29ubmVjdChkYm5hbWU9c2VjcmV0c1snREFUQUJBU0UnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdD1zZWNyZXRzWydIT1NUJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ9c2VjcmV0c1snUE9SVCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXNlY3JldHNbJ1VTRVInXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9c2VjcmV0c1snUEFTU1dPUkQnXSlcbiAgICAgICAgcmV0dXJuIGNvbm5cblxuICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgbG9nZ2VyLmVycm9yKGYnRXJyb3IgZ2V0dGluZyByZWRzaGlmdCBjb25uZWN0aW9uIGRldGFpbHM6IEV4Y2VwdGlvbjoge3N0cihlKX0nKVxuICAgICAgICByYWlzZVxuICAgICAgICBcbmRlZiBydW5fcmVkc2hpZnRfcXVlcnkocmVkc2hpZnRfcXVlcnkpOlxuICAgIGNvbm4gPSBnZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpXG4gICAgZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShyZWRzaGlmdF9xdWVyeSwgY29uPWNvbm4pXG4gICAgcmV0dXJuIGRmXG5cbmRlZiBydW5fYXRoZW5hX3F1ZXJ5KHF1ZXJ5KTpcbiAgICBnbG9iYWwgUkVHSU9OX05BTUUsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFLCBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiwgUVVFUllfQlVDS0VUXG4gICAgXG4gICAgQVRIRU5BX0NMSUVOVCA9IGJvdG8zLmNsaWVudCgnYXRoZW5hJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuICAgIFMzID0gYm90bzMuY2xpZW50KCdzMycsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcbiAgICBsb2dnZXIuaW5mbyhmJ1N0YXJ0aW5nIEF0aGVuYSBxdWVyeSBleGVjdXRpb24nKVxuICAgIGxvZ2dlci5pbmZvKGYnQXRoZW5hIHF1ZXJ5OlxcbntxdWVyeX0nKVxuICAgIHJlc3BvbnNlID0gQVRIRU5BX0NMSUVOVC5zdGFydF9xdWVyeV9leGVjdXRpb24oXG4gICAgICAgIFF1ZXJ5U3RyaW5nPXF1ZXJ5LFxuICAgICAgICBRdWVyeUV4ZWN1dGlvbkNvbnRleHQ9eydEYXRhYmFzZSc6IEFUSEVOQV9EQVRBQkFTRX0sXG4gICAgICAgIFJlc3VsdENvbmZpZ3VyYXRpb249eydPdXRwdXRMb2NhdGlvbic6IEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OfSxcbiAgICAgICAgV29ya0dyb3VwPSdqdWljZV9kYXRhJ1xuICAgIClcbiAgICBcbiAgICAjIEdldCB0aGUgcXVlcnkgZXhlY3V0aW9uIElEXG4gICAgcXVlcnlfZXhlY3V0aW9uX2lkID0gcmVzcG9uc2VbJ1F1ZXJ5RXhlY3V0aW9uSWQnXVxuXG4gICAgIyBXYWl0IGZvciB0aGUgcXVlcnkgdG8gY29tcGxldGVcbiAgICB3aGlsZSBUcnVlOlxuICAgICAgICBxdWVyeV9zdGF0dXMgPSBBVEhFTkFfQ0xJRU5ULmdldF9xdWVyeV9leGVjdXRpb24oUXVlcnlFeGVjdXRpb25JZD1xdWVyeV9leGVjdXRpb25faWQpXG4gICAgICAgIHN0YXR1cyA9IHF1ZXJ5X3N0YXR1c1snUXVlcnlFeGVjdXRpb24nXVsnU3RhdHVzJ11bJ1N0YXRlJ11cblxuICAgICAgICBpZiBzdGF0dXMgaW4gWydTVUNDRUVERUQnLCAnRkFJTEVEJywgJ0NBTkNFTExFRCddOlxuICAgICAgICAgICAgYnJlYWtcblxuICAgICMgUmV0cmlldmUgYW5kIHJldHVybiB0aGUgcXVlcnkgcmVzdWx0cyBpZiB0aGUgcXVlcnkgc3VjY2VlZGVkXG4gICAgaWYgc3RhdHVzID09ICdTVUNDRUVERUQnOlxuICAgICAgICBzM19yZXNwb25zZV9vYmplY3QgPSBTMy5nZXRfb2JqZWN0KEJ1Y2tldD1RVUVSWV9CVUNLRVQsIEtleT1mXCJ7QVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04uc3BsaXQoJy8nKVstMl19L3txdWVyeV9leGVjdXRpb25faWR9LmNzdlwiKVxuICAgICAgICBvYmplY3RfY29udGVudCA9IHMzX3Jlc3BvbnNlX29iamVjdFsnQm9keSddLnJlYWQoKVxuICAgICAgICByZXN1bHRzID0gcGQucmVhZF9jc3YoQnl0ZXNJTyhvYmplY3RfY29udGVudCkpXG4gICAgICAgIGxvZ2dlci5pbmZvKGYnQXRoZW5hIHF1ZXJ5IHJhbiBzdWNjZXNzZnVsbHknKVxuICAgICAgICByZXR1cm4gcmVzdWx0c1xuICAgIGVsaWYgc3RhdHVzID09ICdGQUlMRUQnOlxuICAgICAgICByYWlzZSBFeGNlcHRpb24oJ1F1ZXJ5IGZyb20gQXRoZW5hIGZhaWxlZCcpXG5cbmRlZiBjbGllbnRfbW9kaWZpY2F0aW9uKHJvdyk6XG4gICAgaWYgcm93Lmxvd2VyKCkuc3RyaXAoKSA9PSAnYmJiJzpcbiAgICAgICAgcmV0dXJuICdvdmVyc3RvY2snXG4gICAgZWxpZiByb3cubG93ZXIoKSA9PSAncmV4bWQnIG9yIHJvdy5sb3dlcigpID09ICdzaW5nbGVjYXJlJzpcbiAgICAgICAgcmV0dXJuICdyeHNlbnNlJ1xuICAgIGVsc2U6XG4gICAgICAgIHJldHVybiByb3cubG93ZXIoKVxuICAgICAgICBcbmRlZiBwcmVwYXJlX2RhdGEoZGF0YSwgbG9va2JhY2tfZGF5cywgb3B0X3BlbmFsdHlfc3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCk6XG4gICAgZ2xvYmFsIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFXG4gICAgXG4gICAgaW5wdXRfZGYgPSBwZC5EYXRhRnJhbWUoY29sdW1ucz1bJ2twaV9pbmRleCcsICdsb29rYmVmb3JlX21pbnMnLCAnbG9va2FmdGVyX21pbnMnLCAnaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJywgJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsXG4gICAgICAgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLFxuICAgICAgICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZScsICdjbGllbnRrZXknXSlcbiAgICBcbiAgICByZWRzaGlmdF9xdWVyeSA9IFwiXCJcIlxuICAgICAgICBzZWxlY3QgZGlzdGluY3QgYy5jbGllbnRrZXlfbWFwLCBrLnR2b19rcGlfaW5kZXgsIGMudHZvX3ByZV93aW5kb3dfbWludXRlcywgYy50dm9fcG9zdF93aW5kb3dfbWludXRlcywgYy50dm9faW5jbHVkZV9mcmVlc3BvdHMsIGMudHZvX2luY2x1ZGVfaW1wcmVzc2lvbnMsIGMuZGF0YXNldF9zdGFydF9kYXRlLCBjLmRhdGFzZXRfZW5kX2RhdGVcbiAgICAgICAgZnJvbSBwb3J0YWxfZ2xvYmFsX3NldHRpbmdzLmNsaWVudF9tYXBwaW5ncyBjLCBwb3J0YWxfZ2xvYmFsX3NldHRpbmdzLmtwaV9tYXBwaW5ncyBrXG4gICAgICAgIHdoZXJlIGMuY2xpZW50a2V5X21hcCA9IGsuY2xpZW50a2V5X21hcFxuICAgICAgICBvcmRlciBieSBjbGllbnRrZXlfbWFwLCB0dm9fa3BpX2luZGV4XG4gICAgICAgIFwiXCJcIlxuICAgIFxuICAgIGZvciBlbmRfZGF0ZV9zdHJpbmcgaW4gZGF0YVtcImVuZF9kYXRlc1wiXTpcbiAgICAgICAgXG4gICAgICAgICMgR2V0dGluZyByZWRzaGlmdCByZXN1bHRzXG4gICAgICAgIHN0YXJ0X2RhdGUgPSBcImRlZmF1bHRcIlxuICAgICAgICBlbmRfZHQgPSBkYXRldGltZSh5ZWFyPWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzBdKSwgbW9udGg9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMV0pLCBkYXk9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMl0pLCBob3VyPTApXG4gICAgICAgIHByZXZfZGF5ID0gZW5kX2R0IC0gdGltZWRlbHRhKDEpXG4gICAgICAgIGVuZF9kYXRlID0gZid7cHJldl9kYXkueWVhcn0te3N0cihcIns6MDJkfVwiLmZvcm1hdChwcmV2X2RheS5tb250aCkpfS17c3RyKFwiezowMmR9XCIuZm9ybWF0KHByZXZfZGF5LmRheSkpfSdcbiAgICAgICAgcmVkc2hpZnRfZGYgPSBydW5fcmVkc2hpZnRfcXVlcnkocmVkc2hpZnRfcXVlcnkpXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcmVkc2hpZnRfZGYuZHJvcChjb2x1bW5zPVsnZGF0YXNldF9zdGFydF9kYXRlJywnZGF0YXNldF9lbmRfZGF0ZSddKVxuICAgICAgICByZWRzaGlmdF9kZltbJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJywgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJ11dID0gcGQuRGF0YUZyYW1lKFtbb3B0X3BlbmFsdHlfc3RhdGlvbiwgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlXV0sIGluZGV4PXJlZHNoaWZ0X2RmLmluZGV4KVxuICAgICAgICByZWRzaGlmdF9kZiA9IHJlZHNoaWZ0X2RmLnJlbmFtZShjb2x1bW5zID0geydjbGllbnRrZXlfbWFwJzonY2xpZW50a2V5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2twaV9pbmRleCc6J2twaV9pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX3ByZV93aW5kb3dfbWludXRlcyc6J2xvb2tiZWZvcmVfbWlucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX3Bvc3Rfd2luZG93X21pbnV0ZXMnOidsb29rYWZ0ZXJfbWlucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2luY2x1ZGVfZnJlZXNwb3RzJzonaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19pbmNsdWRlX2ltcHJlc3Npb25zJzonaW5jbHVkZV9pbXByZXNzaW9ucydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgICMgUXVlcnlpbmcgYXRoZW5hIHRvIGdldCBsaXN0IG9mIGNsaWVudHMgYWN0aXZlIGluIHRoZSBwYXN0IHdlZWtcbiAgICAgICAgZHQgPSAoZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGVfc3RyaW5nLCAnJVktJW0tJWQnKSlcbiAgICAgICAgZW5kX2NoZWNrX2RhdGUgPSBkdC5zdHJmdGltZShcIiVZLSVtLSVkXCIpXG4gICAgICAgIGR0XzcgPSBkdCAtIHRpbWVkZWx0YShkYXlzPWxvb2tiYWNrX2RheXMpXG4gICAgICAgIHN0YXJ0X2NoZWNrX2RhdGUgPSBkdF83LnN0cmZ0aW1lKFwiJVktJW0tJWRcIilcblxuICAgICAgICBhdGhlbmFfcXVlcnkgPSBmXCJcIlwiXG4gICAgICAgIHNlbGVjdCBhZHZlcnRpc2VyLCBjb3VudCgqKSBhcyByb3dfY291bnQgZnJvbSBcbiAgICAgICAgKHNlbGVjdCBkaXN0aW5jdCAqIGZyb20ge0FUSEVOQV9EQVRBQkFTRX0ue0FUSEVOQV9UQUJMRX0pXG4gICAgICAgIHdoZXJlIGNhc3QoYnJvYWRjYXN0X2RhdGUgYXMgZGF0ZSkgYmV0d2VlbiBjYXN0KCd7c3RyKHN0YXJ0X2NoZWNrX2RhdGUpfScgYXMgZGF0ZSkgYW5kIGNhc3QoJ3tzdHIoZW5kX2NoZWNrX2RhdGUpfScgYXMgZGF0ZSlcbiAgICAgICAgZ3JvdXAgYnkgYWR2ZXJ0aXNlclxuICAgICAgICBcIlwiXCJcbiAgICAgICAgYXRoZW5hX2RmID0gcnVuX2F0aGVuYV9xdWVyeShhdGhlbmFfcXVlcnkpXG4gICAgICAgIGFjdGl2ZV9jbGllbnRfbGlzdCA9IGF0aGVuYV9kZlthdGhlbmFfZGZbJ3Jvd19jb3VudCddPjBdWydhZHZlcnRpc2VyJ10udG9fbGlzdCgpXG4gICAgICAgIGFjdGl2ZV9jbGllbnRfbGlzdCA9IFtpLmxvd2VyKCkuc3RyaXAoKSBmb3IgaSBpbiBhY3RpdmVfY2xpZW50X2xpc3RdXG4gICAgICAgIGFjdGl2ZV9saXN0X2RmID0gcGQuRGF0YUZyYW1lKHsnY2xpZW50X29yaWcnOmFjdGl2ZV9jbGllbnRfbGlzdH0pXG4gICAgICAgIGFjdGl2ZV9saXN0X2RmWydjbGllbnRfbW9kJ10gPSBhY3RpdmVfbGlzdF9kZlsnY2xpZW50X29yaWcnXS5hcHBseShjbGllbnRfbW9kaWZpY2F0aW9uKVxuICAgICAgICBcbiAgICAgICAgIyBNZXJnaW5nIGNsaWVudCBsaXN0IHdpdGggY29uZmlndXJhdGlvbnMgZnJvbSByZWRzaGlmdFxuICAgICAgICBmaW5hbF9kZiA9IHJlZHNoaWZ0X2RmLnNldF9pbmRleCgnY2xpZW50a2V5JykubWVyZ2UoYWN0aXZlX2xpc3RfZGYuc2V0X2luZGV4KCdjbGllbnRfbW9kJyksIGxlZnRfb249J2NsaWVudGtleScsIHJpZ2h0X29uPSdjbGllbnRfbW9kJylcbiAgICAgICAgZmluYWxfZGYgPSBmaW5hbF9kZi5yZW5hbWUoY29sdW1ucz17J2NsaWVudF9vcmlnJzonY2xpZW50a2V5J30pXG4gICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYuZHJvcG5hKClcbiAgICAgICAgaW5wdXRfZGYgPSBwZC5jb25jYXQoW2lucHV0X2RmLGZpbmFsX2RmXSlcbiAgICBpbnB1dF9kZiA9IGlucHV0X2RmLnNvcnRfdmFsdWVzKFsnZW5kX2RhdGUnLCdjbGllbnRrZXknLCdrcGlfaW5kZXgnXSlcbiAgICByZXR1cm4gaW5wdXRfZGZcblxuZGVmIHN0YXJ0X2Z1bmMoZGF0YSwgc2VjcmV0X25hbWUsIHJlZ2lvbl9uYW1lLCBhdGhlbmFfZGF0YWJhc2UsIGF3c19hY2Nlc3Nfa2V5X2lkLFxuICAgICAgICAgICAgICAgIGF3c19zZWNyZXRfYWNjZXNzX2tleSwgYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24sIHF1ZXJ5X2J1Y2tldCxcbiAgICAgICAgICAgICAgICAgIGF0aGVuYV90YWJsZSwgYnJhbmNoLCBsb29rYmFja19kYXlzPTcsIG9wdF9wZW5hbHR5X3N0YXRpb249MSxcbiAgICAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0PTEsIG9wdF9wZW5hbHR5X2J1Y2tldD0xLCBvcHRfcGVuYWx0eV92YXJpYW5jZT0xLCBvcHRfbWF4X3NlY29uZHM9NjApOlxuICAgICBcbiAgICBnbG9iYWwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgUkVHSU9OX05BTUUsIFNFQ1JFVF9OQU1FLCBjb25uLCBjdXJzb3IsIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFLCBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiwgUVVFUllfQlVDS0VUXG4gICAgQVdTX0FDQ0VTU19LRVlfSUQgPSBhd3NfYWNjZXNzX2tleV9pZFxuICAgIEFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IGF3c19zZWNyZXRfYWNjZXNzX2tleVxuICAgIFJFR0lPTl9OQU1FID0gcmVnaW9uX25hbWVcbiAgICBTRUNSRVRfTkFNRSA9IHNlY3JldF9uYW1lXG4gICAgQVRIRU5BX0RBVEFCQVNFID0gYXRoZW5hX2RhdGFiYXNlXG4gICAgQVRIRU5BX1RBQkxFID0gYXRoZW5hX3RhYmxlXG4gICAgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04gPSBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvblxuICAgIFFVRVJZX0JVQ0tFVCA9IHF1ZXJ5X2J1Y2tldFxuICAgIFxuICAgIHJlc3VsdF9kZiA9IHBkLkRhdGFGcmFtZShjb2x1bW5zPVsna3BpX2luZGV4JywgJ2xvb2tiZWZvcmVfbWlucycsICdsb29rYWZ0ZXJfbWlucycsICdpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgJ2luY2x1ZGVfaW1wcmVzc2lvbnMnLCAnb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JyxcbiAgICAgICAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsXG4gICAgICAgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJywgJ2NsaWVudGtleSddKVxuICAgIFxuICAgIHJlc3VsdHMgPSBwcmVwYXJlX2RhdGEoZGF0YVswXSwgaW50KGxvb2tiYWNrX2RheXMpLCBpbnQob3B0X3BlbmFsdHlfc3RhdGlvbiksXG4gICAgICAgICAgICAgICBpbnQob3B0X3BlbmFsdHlfZGF5cGFydCksIGludChvcHRfcGVuYWx0eV9idWNrZXQpLCBpbnQob3B0X3BlbmFsdHlfdmFyaWFuY2UpLCBpbnQob3B0X21heF9zZWNvbmRzKSwgYnJhbmNoKVxuICAgICAgICBcbiAgICByZXR1cm4gcmVzdWx0cyIsImtleSI6ImRzTGFiU2NyaXB0IiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo3fSx7ImlzTXVsdGkiOnRydWUsImNvbnRyb2xUeXBlIjoiaXRlcmFibGUiLCJjc3NDbGFzcyI6ImNvbC1zbS0xMiIsImFkZEJ1dHRvbiI6eyJsYWJlbCI6IkFkZCBOZXcgQ29sdW1uIn0sImxhYmVsIjoiSW5wdXQgRGF0YSIsInByb3BlcnRpZXMiOltbeyJ2YWx1ZSI6InNlY3JldF9uYW1lIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5SRURTSElGVF9NVEFfU0VDUkVUX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJyZWdpb25fbmFtZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUkVHSU9OX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhdGhlbmFfZGF0YWJhc2UiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFUSEVOQV9EQVRBQkFTRSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF3c19hY2Nlc3Nfa2V5X2lkIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BV1NfQUNDRVNTX0tFWV9JRF9CREIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhd3Nfc2VjcmV0X2FjY2Vzc19rZXkiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFXU19TRUNSRVRfS0VZX0JEQiIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5RVUVSWV9SRVNVTFRTIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoicXVlcnlfYnVja2V0Iiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5QUk9EX0JVQ0tFVCIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV90YWJsZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6Im1lZGlhX29jZWFuX2RhdGEiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJicmFuY2giLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJtYXN0ZXIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV1dLCJrZXkiOiJkc0xhYklucHV0RGF0YSIsImlzSXRlcmFibGUiOnRydWUsIm9yZGVyIjo4fSx7ImlzVGVtcENvbnRyb2wyIjp0cnVlLCJkYXRhIjpbeyJjb250cm9sVHlwZSI6ImRyb3Bkb3duIiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsIm9wdGlvbnMiOlt7InZhbHVlIjoiRGF0YSBGcmFtZSIsImtleSI6ImRhdGFGcmFtZSJ9LHsidmFsdWUiOiJMaXN0Iiwia2V5IjoiTGlzdCJ9XSwibGFiZWwiOiJGdW5jdGlvbiBJbnB1dCBUeXBlIiwia2V5IjoiZHNMYWJGdW5JbnB1dFR5cGUiLCJyZXF1aXJlZCI6dHJ1ZSwib3JkZXIiOjIsInZhbHVlIjoiTGlzdCJ9LHsiZHluYW1pY09wdGlvbiI6eyJyZXF1ZXN0Ijp7InBhdGgiOiIvY3hmL2JpenZpei9wbHVnaW5TZXJ2aWNlIiwibWV0aG9kIjoicG9zdCIsImJvZHkiOnsibWV0aG9kIjoiUE9TVCIsImRhdGEiOnt9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOlt7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDU4NzU0LCJuYW1lIjoiUGl4ZWwgUmF3IERhdGEgUHJvY2VzcyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDU4NzU1LCJuYW1lIjoiTVRBIFByb2Nlc3MgRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY0LCJuYW1lIjoiQWxlcnRzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozMjExMjY1LCJuYW1lIjoiRGF0YSBjb21wYXJpc29ucyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6MzIxMTI2NiwibmFtZSI6InBpeGVsIGNvbXBhcmlzaW9uIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTI4LCJuYW1lIjoidGVzdHByb2plY3QiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MjksIm5hbWUiOiJKTVBpeGVsUHJvY2Vzc2luZyIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzMSwibmFtZSI6Ik1UQUpvYnMiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5MzIsIm5hbWUiOiJkZW1vIGdpdCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDkzNCwibmFtZSI6IkRldiBTY3JhdGNoUGFkIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQyLCJuYW1lIjoiQ2FzdWFsIFByZWNpc2lvbiBBZHNlcnZlciBhbmQgU3BlbmQiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NDQsIm5hbWUiOiJQaXhlbCBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ2LCJuYW1lIjoiTWF4bWluZCBEYXRhYmFzZSBSZWZyZXNoIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTQ3LCJuYW1lIjoiRXh0cmVtZSBSZWFjaCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk0OCwibmFtZSI6IkV4dHJlbWUgUmVhY2ggRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTUzLCJuYW1lIjoiT3B0aW1pemVyIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU1LCJuYW1lIjoidGVzdGV4cG9ydCIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk1NiwibmFtZSI6Ik1lZGlhIE9jZWFuIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU3LCJuYW1lIjoiVFZPIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTU5LCJuYW1lIjoiYWRzZXJ2ZXIgdmFsaWRhdGlvbiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2MiwibmFtZSI6Ik1UQSBQcm9jZXNzIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTYzLCJuYW1lIjoiTWVkaWEgT2NlYW4gRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjozOTY0OTY0LCJuYW1lIjoiT3B0aW1pemVyIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6Mzk2NDk2NSwibmFtZSI6IlBpeGVsIFByb2Nlc3MiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjM5NjQ5NjYsIm5hbWUiOiJQaXhlbCBQcm9jZXNzIERldiIsImNvdW50IjpudWxsLCJwYXJlbnRJZCI6bnVsbCwidXNlcklkIjpudWxsLCJpc0ZpbGUiOm51bGwsImluZm9Kc29uIjpudWxsLCJzcGFjZUtleSI6bnVsbCwidHlwZSI6MTAsInN0YXR1cyI6MSwiY29udGVudEpzb24iOm51bGwsInRlbXBsYXRlSnNvbiI6bnVsbCwiaXNTaGFyZWQiOm51bGwsInVwZGF0ZWRCeSI6bnVsbCwidXVpZCI6bnVsbCwiY3JlYXRlZFVzZXJOYW1lIjpudWxsfSx7InJlc2VydjEiOm51bGwsInJlc2VydjIiOm51bGwsInJlc2VydjMiOm51bGwsInJlc2VydjQiOm51bGwsInJlc2VydjUiOm51bGwsImNyZWF0ZWREYXRlIjpudWxsLCJpc0FjdGl2ZSI6MCwibGFzdFVwZGF0ZWREYXRlIjpudWxsLCJhY3RpdmUiOjEsIm1pZ3JhdGlvbklkIjpudWxsLCJpZCI6NDYyMDI4OCwibmFtZSI6IkV4dHJlbWUgUmVhY2giLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjAsIm5hbWUiOiJuZXd0ZXN0IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzY1LCJuYW1lIjoiVFZPMjAiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjQ3NTEzNjgsIm5hbWUiOiJUVk8gRGV2IiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo0NzUxMzcwLCJuYW1lIjoiT3B0aW1pemVyIHYyIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTU0LCJuYW1lIjoiT3B0aW1pemVyVGVzdEppYXFpIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9LHsicmVzZXJ2MSI6bnVsbCwicmVzZXJ2MiI6bnVsbCwicmVzZXJ2MyI6bnVsbCwicmVzZXJ2NCI6bnVsbCwicmVzZXJ2NSI6bnVsbCwiY3JlYXRlZERhdGUiOm51bGwsImlzQWN0aXZlIjowLCJsYXN0VXBkYXRlZERhdGUiOm51bGwsImFjdGl2ZSI6MSwibWlncmF0aW9uSWQiOm51bGwsImlkIjo1MzczOTU1LCJuYW1lIjoiT3B0aW1pemVyVGVzdEpvZWwiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NjEsIm5hbWUiOiJUVk8yMCBEZXYiLCJjb3VudCI6bnVsbCwicGFyZW50SWQiOm51bGwsInVzZXJJZCI6bnVsbCwiaXNGaWxlIjpudWxsLCJpbmZvSnNvbiI6bnVsbCwic3BhY2VLZXkiOm51bGwsInR5cGUiOjEwLCJzdGF0dXMiOjEsImNvbnRlbnRKc29uIjpudWxsLCJ0ZW1wbGF0ZUpzb24iOm51bGwsImlzU2hhcmVkIjpudWxsLCJ1cGRhdGVkQnkiOm51bGwsInV1aWQiOm51bGwsImNyZWF0ZWRVc2VyTmFtZSI6bnVsbH0seyJyZXNlcnYxIjpudWxsLCJyZXNlcnYyIjpudWxsLCJyZXNlcnYzIjpudWxsLCJyZXNlcnY0IjpudWxsLCJyZXNlcnY1IjpudWxsLCJjcmVhdGVkRGF0ZSI6bnVsbCwiaXNBY3RpdmUiOjAsImxhc3RVcGRhdGVkRGF0ZSI6bnVsbCwiYWN0aXZlIjoxLCJtaWdyYXRpb25JZCI6bnVsbCwiaWQiOjUzNzM5NjYsIm5hbWUiOiJ3dXJmbHNhbml0eXRlc3QxIiwiY291bnQiOm51bGwsInBhcmVudElkIjpudWxsLCJ1c2VySWQiOm51bGwsImlzRmlsZSI6bnVsbCwiaW5mb0pzb24iOm51bGwsInNwYWNlS2V5IjpudWxsLCJ0eXBlIjoxMCwic3RhdHVzIjoxLCJjb250ZW50SnNvbiI6bnVsbCwidGVtcGxhdGVKc29uIjpudWxsLCJpc1NoYXJlZCI6bnVsbCwidXBkYXRlZEJ5IjpudWxsLCJ1dWlkIjpudWxsLCJjcmVhdGVkVXNlck5hbWUiOm51bGx9XX19LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS02IiwibGFiZWwiOiJQcm9qZWN0IE5hbWUiLCJrZXkiOiJkc0xhYlByb2plY3RJZCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6MywidG9vbHRpcCI6IlNlbGVjdCB0aGUgcHJvamVjdCBuYW1lIGNyZWF0ZWQgaW4gRFMgTGFiIG1vZHVsZS4iLCJ2YWx1ZSI6IjQ3NTEzNjUifSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QiLCJib2R5Ijp7Im1ldGhvZCI6IlBPU1QiLCJkYXRhIjp7InByb2plY3RJZCI6IjQ3NTEzNjUifX19LCJyZXNwb25zZSI6eyJiaW5kaW5nIjpbeyJpZCI6NTMwODQ5OCwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJpbnB1dF90dm8yIiwidHlwZSI6MX0seyJpZCI6NTMwODQ5OSwicHJvamVjdElkIjo0NzUxMzY1LCJzcGFjZUtleSI6IjExMTEiLCJub3RlYm9va05hbWUiOiJ0dm8yX2RyaXZlciIsInR5cGUiOjF9LHsiaWQiOjUzMDg1MDAsInByb2plY3RJZCI6NDc1MTM2NSwic3BhY2VLZXkiOiIxMTExIiwibm90ZWJvb2tOYW1lIjoidHZvMl9pbnB1dF9iYWNrZmlsbCIsInR5cGUiOjF9XX19LCJpc0R5bmFtaWMiOnRydWUsImNvbnRyb2xUeXBlIjoiZHJvcGRvd24iLCJjc3NDbGFzcyI6ImNvbC1zbS02IiwidG9vbHRpcCI6IlNlbGVjdCB0aGUgc2NyaXB0IG5hbWUgZXhwb3J0ZWQgZnJvbSB0aGUgc2VsZWN0ZWQgcHJvamVjdC4iLCJsYWJlbCI6IlNjcmlwdCBOYW1lIiwia2V5IjoiZHNMYWJTY3JpcHRJZCIsInJlcXVpcmVkIjp0cnVlLCJvcmRlciI6NCwidmFsdWUiOiI1MzA4NTAwIn0seyJjb250cm9sVHlwZSI6InRleHRib3giLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwicmVhZE9ubHkiOmZhbHNlLCJsYWJlbCI6IkV4dGVybmFsIExpYnJhcnkiLCJrZXkiOiJkc0xhYkV4dGVybmFsTGlicmFyeSIsIm9yZGVyIjo1LCJ0b29sdGlwIjoiQ29tbWEgc2FwZXJhdGVkIGxpYnJhcnkgbmFtZXMuIiwidmFsdWUiOiJwc3ljb3BnMj09Mi45LjMsYm90bzM9PTEuMjEuNSxwc3ljb3BnMj09Mi45LjMifSx7ImR5bmFtaWNPcHRpb24iOnsicmVxdWVzdCI6eyJwYXRoIjoiL2N4Zi9iaXp2aXovcGx1Z2luU2VydmljZSIsIm1ldGhvZCI6InBvc3QiLCJib2R5Ijp7Im1ldGhvZCI6IlBPU1QiLCJkYXRhIjp7ImlkIjoiNTMwODUwMCJ9fX0sInJlc3BvbnNlIjp7ImJpbmRpbmciOnt9fX0sImlzRHluYW1pYyI6dHJ1ZSwiY29udHJvbFR5cGUiOiJkcm9wZG93biIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJvcHRpb25zIjpbXSwidG9vbHRpcCI6IlNlbGVjdCB0aGUgc3RhcnQgZnVuY3Rpb24gbmFtZSBmcm9tIHRoZSBzY3JpcHQuIiwibGFiZWwiOiJTdGFydCBGdW5jdGlvbiIsInJlcXVpcmVkIjp0cnVlLCJrZXkiOiJkc0xhYkZ1bmN0aW9uTmFtZSIsIm9yZGVyIjo2LCJ2YWx1ZSI6InN0YXJ0X2Z1bmMifSx7ImNvbnRyb2xUeXBlIjoidGV4dGFyZWFib3giLCJjc3NDbGFzcyI6ImNvbC1zbS0xMiIsInJlYWRPbmx5Ijp0cnVlLCJsYWJlbCI6IlNjcmlwdCIsInJvd3MiOjgsInZhbHVlIjoiZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YVxuaW1wb3J0IGpzb25cbmltcG9ydCBsb2dnaW5nXG5sb2dnaW5nLmJhc2ljQ29uZmlnKClcbmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCdUVk9fSU5QVVQnKVxubG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTylcblxuaW1wb3J0IGJvdG8zXG5pbXBvcnQgcGFuZGFzIGFzIHBkXG5pbXBvcnQgcHN5Y29wZzJcbmZyb20gaW8gaW1wb3J0IEJ5dGVzSU9cbmltcG9ydCBiYXNlNjRcblxuZGVmIGdldF9yZWRzaGlmdF9zZWNyZXQoKTpcbiAgICBnbG9iYWwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgUkVHSU9OX05BTUUsIFNFQ1JFVF9OQU1FXG4gICAgIyBjb25uZWN0cyB0byBBV1Mgc2VjcmV0cyBtYW5hZ2VyIHRvIGdldCBjcmVkZW50aWFsc1xuICAgIHNlc3Npb24gPSBib3RvMy5zZXNzaW9uLlNlc3Npb24oKVxuICAgIFxuICAgIGNsaWVudCA9IHNlc3Npb24uY2xpZW50KFxuICAgICAgICBzZXJ2aWNlX25hbWU9J3NlY3JldHNtYW5hZ2VyJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuXG4gICAgdHJ5OlxuICAgICAgICBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlID0gY2xpZW50LmdldF9zZWNyZXRfdmFsdWUoU2VjcmV0SWQ9U0VDUkVUX05BTUUpXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICBsb2dnZXIuZXJyb3IoXCJFUlJPUiBpbiBnZXR0aW5nIHJlZHNoaWZ0IHNlY3JldHNcIilcbiAgICAgICAgcmFpc2VcbiAgICBlbHNlOlxuICAgICAgICBpZiAnU2VjcmV0U3RyaW5nJyBpbiBnZXRfc2VjcmV0X3ZhbHVlX3Jlc3BvbnNlOlxuICAgICAgICAgICAgc2VjcmV0ID0gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0U3RyaW5nJ11cbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGRlY29kZWRfYmluYXJ5X3NlY3JldCA9IGJhc2U2NC5iNjRkZWNvZGUoXG4gICAgICAgICAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZVsnU2VjcmV0QmluYXJ5J10pXG4gICAgcmV0dXJuIGpzb24ubG9hZHMoc2VjcmV0KVxuXG5kZWYgZ2V0X3JlZHNoaWZ0X2Nvbm5lY3Rpb24oKTpcbiAgICAjIGNyZWF0ZXMgZGF0YSBiYXNlIGNvbm5lY3Rpb24gYW5kIHBhc3NlcyBpdCBiYWNrIHRvIGNhbGxlclxuICAgIHRyeTpcbiAgICAgICAgc2VjcmV0cyA9IGdldF9yZWRzaGlmdF9zZWNyZXQoKVxuICAgICAgICBjb25uID0gcHN5Y29wZzIuY29ubmVjdChkYm5hbWU9c2VjcmV0c1snREFUQUJBU0UnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdD1zZWNyZXRzWydIT1NUJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ9c2VjcmV0c1snUE9SVCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXNlY3JldHNbJ1VTRVInXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9c2VjcmV0c1snUEFTU1dPUkQnXSlcbiAgICAgICAgcmV0dXJuIGNvbm5cblxuICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgbG9nZ2VyLmVycm9yKGYnRXJyb3IgZ2V0dGluZyByZWRzaGlmdCBjb25uZWN0aW9uIGRldGFpbHM6IEV4Y2VwdGlvbjoge3N0cihlKX0nKVxuICAgICAgICByYWlzZVxuICAgICAgICBcbmRlZiBydW5fcmVkc2hpZnRfcXVlcnkocmVkc2hpZnRfcXVlcnkpOlxuICAgIGNvbm4gPSBnZXRfcmVkc2hpZnRfY29ubmVjdGlvbigpXG4gICAgZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShyZWRzaGlmdF9xdWVyeSwgY29uPWNvbm4pXG4gICAgcmV0dXJuIGRmXG5cbmRlZiBydW5fYXRoZW5hX3F1ZXJ5KHF1ZXJ5KTpcbiAgICBnbG9iYWwgUkVHSU9OX05BTUUsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFLCBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiwgUVVFUllfQlVDS0VUXG4gICAgXG4gICAgQVRIRU5BX0NMSUVOVCA9IGJvdG8zLmNsaWVudCgnYXRoZW5hJywgcmVnaW9uX25hbWU9UkVHSU9OX05BTUUsIGF3c19hY2Nlc3Nfa2V5X2lkPUFXU19BQ0NFU1NfS0VZX0lELCBhd3Nfc2VjcmV0X2FjY2Vzc19rZXk9QVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKVxuICAgIFMzID0gYm90bzMuY2xpZW50KCdzMycsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcbiAgICBsb2dnZXIuaW5mbyhmJ1N0YXJ0aW5nIEF0aGVuYSBxdWVyeSBleGVjdXRpb24nKVxuICAgIGxvZ2dlci5pbmZvKGYnQXRoZW5hIHF1ZXJ5OlxcbntxdWVyeX0nKVxuICAgIHJlc3BvbnNlID0gQVRIRU5BX0NMSUVOVC5zdGFydF9xdWVyeV9leGVjdXRpb24oXG4gICAgICAgIFF1ZXJ5U3RyaW5nPXF1ZXJ5LFxuICAgICAgICBRdWVyeUV4ZWN1dGlvbkNvbnRleHQ9eydEYXRhYmFzZSc6IEFUSEVOQV9EQVRBQkFTRX0sXG4gICAgICAgIFJlc3VsdENvbmZpZ3VyYXRpb249eydPdXRwdXRMb2NhdGlvbic6IEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OfSxcbiAgICAgICAgV29ya0dyb3VwPSdqdWljZV9kYXRhJ1xuICAgIClcbiAgICBcbiAgICAjIEdldCB0aGUgcXVlcnkgZXhlY3V0aW9uIElEXG4gICAgcXVlcnlfZXhlY3V0aW9uX2lkID0gcmVzcG9uc2VbJ1F1ZXJ5RXhlY3V0aW9uSWQnXVxuXG4gICAgIyBXYWl0IGZvciB0aGUgcXVlcnkgdG8gY29tcGxldGVcbiAgICB3aGlsZSBUcnVlOlxuICAgICAgICBxdWVyeV9zdGF0dXMgPSBBVEhFTkFfQ0xJRU5ULmdldF9xdWVyeV9leGVjdXRpb24oUXVlcnlFeGVjdXRpb25JZD1xdWVyeV9leGVjdXRpb25faWQpXG4gICAgICAgIHN0YXR1cyA9IHF1ZXJ5X3N0YXR1c1snUXVlcnlFeGVjdXRpb24nXVsnU3RhdHVzJ11bJ1N0YXRlJ11cblxuICAgICAgICBpZiBzdGF0dXMgaW4gWydTVUNDRUVERUQnLCAnRkFJTEVEJywgJ0NBTkNFTExFRCddOlxuICAgICAgICAgICAgYnJlYWtcblxuICAgICMgUmV0cmlldmUgYW5kIHJldHVybiB0aGUgcXVlcnkgcmVzdWx0cyBpZiB0aGUgcXVlcnkgc3VjY2VlZGVkXG4gICAgaWYgc3RhdHVzID09ICdTVUNDRUVERUQnOlxuICAgICAgICBzM19yZXNwb25zZV9vYmplY3QgPSBTMy5nZXRfb2JqZWN0KEJ1Y2tldD1RVUVSWV9CVUNLRVQsIEtleT1mXCJ7QVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04uc3BsaXQoJy8nKVstMl19L3txdWVyeV9leGVjdXRpb25faWR9LmNzdlwiKVxuICAgICAgICBvYmplY3RfY29udGVudCA9IHMzX3Jlc3BvbnNlX29iamVjdFsnQm9keSddLnJlYWQoKVxuICAgICAgICByZXN1bHRzID0gcGQucmVhZF9jc3YoQnl0ZXNJTyhvYmplY3RfY29udGVudCkpXG4gICAgICAgIGxvZ2dlci5pbmZvKGYnQXRoZW5hIHF1ZXJ5IHJhbiBzdWNjZXNzZnVsbHknKVxuICAgICAgICByZXR1cm4gcmVzdWx0c1xuICAgIGVsaWYgc3RhdHVzID09ICdGQUlMRUQnOlxuICAgICAgICByYWlzZSBFeGNlcHRpb24oJ1F1ZXJ5IGZyb20gQXRoZW5hIGZhaWxlZCcpXG5cbmRlZiBjbGllbnRfbW9kaWZpY2F0aW9uKHJvdyk6XG4gICAgaWYgcm93Lmxvd2VyKCkuc3RyaXAoKSA9PSAnYmJiJzpcbiAgICAgICAgcmV0dXJuICdvdmVyc3RvY2snXG4gICAgZWxpZiByb3cubG93ZXIoKSA9PSAncmV4bWQnIG9yIHJvdy5sb3dlcigpID09ICdzaW5nbGVjYXJlJzpcbiAgICAgICAgcmV0dXJuICdyeHNlbnNlJ1xuICAgIGVsc2U6XG4gICAgICAgIHJldHVybiByb3cubG93ZXIoKVxuICAgICAgICBcbmRlZiBwcmVwYXJlX2RhdGEoZGF0YSwgbG9va2JhY2tfZGF5cywgb3B0X3BlbmFsdHlfc3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0LCBvcHRfcGVuYWx0eV9idWNrZXQsIG9wdF9wZW5hbHR5X3ZhcmlhbmNlLCBvcHRfbWF4X3NlY29uZHMsIGJyYW5jaCk6XG4gICAgZ2xvYmFsIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFXG4gICAgXG4gICAgaW5wdXRfZGYgPSBwZC5EYXRhRnJhbWUoY29sdW1ucz1bJ2twaV9pbmRleCcsICdsb29rYmVmb3JlX21pbnMnLCAnbG9va2FmdGVyX21pbnMnLCAnaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJywgJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsXG4gICAgICAgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLFxuICAgICAgICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZScsICdjbGllbnRrZXknXSlcbiAgICBcbiAgICByZWRzaGlmdF9xdWVyeSA9IFwiXCJcIlxuICAgICAgICBzZWxlY3QgZGlzdGluY3QgYy5jbGllbnRrZXlfbWFwLCBrLnR2b19rcGlfaW5kZXgsIGMudHZvX3ByZV93aW5kb3dfbWludXRlcywgYy50dm9fcG9zdF93aW5kb3dfbWludXRlcywgYy50dm9faW5jbHVkZV9mcmVlc3BvdHMsIGMudHZvX2luY2x1ZGVfaW1wcmVzc2lvbnMsIGMuZGF0YXNldF9zdGFydF9kYXRlLCBjLmRhdGFzZXRfZW5kX2RhdGVcbiAgICAgICAgZnJvbSBwb3J0YWxfZ2xvYmFsX3NldHRpbmdzLmNsaWVudF9tYXBwaW5ncyBjLCBwb3J0YWxfZ2xvYmFsX3NldHRpbmdzLmtwaV9tYXBwaW5ncyBrXG4gICAgICAgIHdoZXJlIGMuY2xpZW50a2V5X21hcCA9IGsuY2xpZW50a2V5X21hcFxuICAgICAgICBvcmRlciBieSBjbGllbnRrZXlfbWFwLCB0dm9fa3BpX2luZGV4XG4gICAgICAgIFwiXCJcIlxuICAgIFxuICAgIGZvciBlbmRfZGF0ZV9zdHJpbmcgaW4gZGF0YVtcImVuZF9kYXRlc1wiXTpcbiAgICAgICAgXG4gICAgICAgICMgR2V0dGluZyByZWRzaGlmdCByZXN1bHRzXG4gICAgICAgIHN0YXJ0X2RhdGUgPSBcImRlZmF1bHRcIlxuICAgICAgICBlbmRfZHQgPSBkYXRldGltZSh5ZWFyPWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzBdKSwgbW9udGg9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMV0pLCBkYXk9aW50KGVuZF9kYXRlX3N0cmluZy5zcGxpdChcIi1cIilbMl0pLCBob3VyPTApXG4gICAgICAgIHByZXZfZGF5ID0gZW5kX2R0IC0gdGltZWRlbHRhKDEpXG4gICAgICAgIGVuZF9kYXRlID0gZid7cHJldl9kYXkueWVhcn0te3N0cihcIns6MDJkfVwiLmZvcm1hdChwcmV2X2RheS5tb250aCkpfS17c3RyKFwiezowMmR9XCIuZm9ybWF0KHByZXZfZGF5LmRheSkpfSdcbiAgICAgICAgcmVkc2hpZnRfZGYgPSBydW5fcmVkc2hpZnRfcXVlcnkocmVkc2hpZnRfcXVlcnkpXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcmVkc2hpZnRfZGYuZHJvcChjb2x1bW5zPVsnZGF0YXNldF9zdGFydF9kYXRlJywnZGF0YXNldF9lbmRfZGF0ZSddKVxuICAgICAgICByZWRzaGlmdF9kZltbJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJywgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJ11dID0gcGQuRGF0YUZyYW1lKFtbb3B0X3BlbmFsdHlfc3RhdGlvbiwgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlXV0sIGluZGV4PXJlZHNoaWZ0X2RmLmluZGV4KVxuICAgICAgICByZWRzaGlmdF9kZiA9IHJlZHNoaWZ0X2RmLnJlbmFtZShjb2x1bW5zID0geydjbGllbnRrZXlfbWFwJzonY2xpZW50a2V5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2twaV9pbmRleCc6J2twaV9pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX3ByZV93aW5kb3dfbWludXRlcyc6J2xvb2tiZWZvcmVfbWlucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX3Bvc3Rfd2luZG93X21pbnV0ZXMnOidsb29rYWZ0ZXJfbWlucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHZvX2luY2x1ZGVfZnJlZXNwb3RzJzonaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19pbmNsdWRlX2ltcHJlc3Npb25zJzonaW5jbHVkZV9pbXByZXNzaW9ucydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgICMgUXVlcnlpbmcgYXRoZW5hIHRvIGdldCBsaXN0IG9mIGNsaWVudHMgYWN0aXZlIGluIHRoZSBwYXN0IHdlZWtcbiAgICAgICAgZHQgPSAoZGF0ZXRpbWUuc3RycHRpbWUoZW5kX2RhdGVfc3RyaW5nLCAnJVktJW0tJWQnKSlcbiAgICAgICAgZW5kX2NoZWNrX2RhdGUgPSBkdC5zdHJmdGltZShcIiVZLSVtLSVkXCIpXG4gICAgICAgIGR0XzcgPSBkdCAtIHRpbWVkZWx0YShkYXlzPWxvb2tiYWNrX2RheXMpXG4gICAgICAgIHN0YXJ0X2NoZWNrX2RhdGUgPSBkdF83LnN0cmZ0aW1lKFwiJVktJW0tJWRcIilcblxuICAgICAgICBhdGhlbmFfcXVlcnkgPSBmXCJcIlwiXG4gICAgICAgIHNlbGVjdCBhZHZlcnRpc2VyLCBjb3VudCgqKSBhcyByb3dfY291bnQgZnJvbSBcbiAgICAgICAgKHNlbGVjdCBkaXN0aW5jdCAqIGZyb20ge0FUSEVOQV9EQVRBQkFTRX0ue0FUSEVOQV9UQUJMRX0pXG4gICAgICAgIHdoZXJlIGNhc3QoYnJvYWRjYXN0X2RhdGUgYXMgZGF0ZSkgYmV0d2VlbiBjYXN0KCd7c3RyKHN0YXJ0X2NoZWNrX2RhdGUpfScgYXMgZGF0ZSkgYW5kIGNhc3QoJ3tzdHIoZW5kX2NoZWNrX2RhdGUpfScgYXMgZGF0ZSlcbiAgICAgICAgZ3JvdXAgYnkgYWR2ZXJ0aXNlclxuICAgICAgICBcIlwiXCJcbiAgICAgICAgYXRoZW5hX2RmID0gcnVuX2F0aGVuYV9xdWVyeShhdGhlbmFfcXVlcnkpXG4gICAgICAgIGFjdGl2ZV9jbGllbnRfbGlzdCA9IGF0aGVuYV9kZlthdGhlbmFfZGZbJ3Jvd19jb3VudCddPjBdWydhZHZlcnRpc2VyJ10udG9fbGlzdCgpXG4gICAgICAgIGFjdGl2ZV9jbGllbnRfbGlzdCA9IFtpLmxvd2VyKCkuc3RyaXAoKSBmb3IgaSBpbiBhY3RpdmVfY2xpZW50X2xpc3RdXG4gICAgICAgIGFjdGl2ZV9saXN0X2RmID0gcGQuRGF0YUZyYW1lKHsnY2xpZW50X29yaWcnOmFjdGl2ZV9jbGllbnRfbGlzdH0pXG4gICAgICAgIGFjdGl2ZV9saXN0X2RmWydjbGllbnRfbW9kJ10gPSBhY3RpdmVfbGlzdF9kZlsnY2xpZW50X29yaWcnXS5hcHBseShjbGllbnRfbW9kaWZpY2F0aW9uKVxuICAgICAgICBcbiAgICAgICAgIyBNZXJnaW5nIGNsaWVudCBsaXN0IHdpdGggY29uZmlndXJhdGlvbnMgZnJvbSByZWRzaGlmdFxuICAgICAgICBmaW5hbF9kZiA9IHJlZHNoaWZ0X2RmLnNldF9pbmRleCgnY2xpZW50a2V5JykubWVyZ2UoYWN0aXZlX2xpc3RfZGYuc2V0X2luZGV4KCdjbGllbnRfbW9kJyksIGxlZnRfb249J2NsaWVudGtleScsIHJpZ2h0X29uPSdjbGllbnRfbW9kJylcbiAgICAgICAgZmluYWxfZGYgPSBmaW5hbF9kZi5yZW5hbWUoY29sdW1ucz17J2NsaWVudF9vcmlnJzonY2xpZW50a2V5J30pXG4gICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYuZHJvcG5hKClcbiAgICAgICAgaW5wdXRfZGYgPSBwZC5jb25jYXQoW2lucHV0X2RmLGZpbmFsX2RmXSlcbiAgICBpbnB1dF9kZiA9IGlucHV0X2RmLnNvcnRfdmFsdWVzKFsnZW5kX2RhdGUnLCdjbGllbnRrZXknLCdrcGlfaW5kZXgnXSlcbiAgICByZXR1cm4gaW5wdXRfZGZcblxuZGVmIHN0YXJ0X2Z1bmMoZGF0YSwgc2VjcmV0X25hbWUsIHJlZ2lvbl9uYW1lLCBhdGhlbmFfZGF0YWJhc2UsIGF3c19hY2Nlc3Nfa2V5X2lkLFxuICAgICAgICAgICAgICAgIGF3c19zZWNyZXRfYWNjZXNzX2tleSwgYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb24sIHF1ZXJ5X2J1Y2tldCxcbiAgICAgICAgICAgICAgICAgIGF0aGVuYV90YWJsZSwgYnJhbmNoLCBsb29rYmFja19kYXlzPTcsIG9wdF9wZW5hbHR5X3N0YXRpb249MSxcbiAgICAgICAgICAgICAgICAgICBvcHRfcGVuYWx0eV9kYXlwYXJ0PTEsIG9wdF9wZW5hbHR5X2J1Y2tldD0xLCBvcHRfcGVuYWx0eV92YXJpYW5jZT0xLCBvcHRfbWF4X3NlY29uZHM9NjApOlxuICAgICBcbiAgICBnbG9iYWwgQVdTX0FDQ0VTU19LRVlfSUQsIEFXU19TRUNSRVRfQUNDRVNTX0tFWSwgUkVHSU9OX05BTUUsIFNFQ1JFVF9OQU1FLCBjb25uLCBjdXJzb3IsIEFUSEVOQV9EQVRBQkFTRSwgQVRIRU5BX1RBQkxFLCBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTiwgUVVFUllfQlVDS0VUXG4gICAgQVdTX0FDQ0VTU19LRVlfSUQgPSBhd3NfYWNjZXNzX2tleV9pZFxuICAgIEFXU19TRUNSRVRfQUNDRVNTX0tFWSA9IGF3c19zZWNyZXRfYWNjZXNzX2tleVxuICAgIFJFR0lPTl9OQU1FID0gcmVnaW9uX25hbWVcbiAgICBTRUNSRVRfTkFNRSA9IHNlY3JldF9uYW1lXG4gICAgQVRIRU5BX0RBVEFCQVNFID0gYXRoZW5hX2RhdGFiYXNlXG4gICAgQVRIRU5BX1RBQkxFID0gYXRoZW5hX3RhYmxlXG4gICAgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04gPSBhdGhlbmFfc3RhdHVzX291dHB1dF9sb2NhdGlvblxuICAgIFFVRVJZX0JVQ0tFVCA9IHF1ZXJ5X2J1Y2tldFxuICAgIFxuICAgIHJlc3VsdF9kZiA9IHBkLkRhdGFGcmFtZShjb2x1bW5zPVsna3BpX2luZGV4JywgJ2xvb2tiZWZvcmVfbWlucycsICdsb29rYWZ0ZXJfbWlucycsICdpbmNsdWRlX2ZyZWVzcG90cycsXG4gICAgICAgJ2luY2x1ZGVfaW1wcmVzc2lvbnMnLCAnb3B0X3BlbmFsdHlfc3RhdGlvbicsICdvcHRfcGVuYWx0eV9kYXlwYXJ0JyxcbiAgICAgICAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsXG4gICAgICAgJ2JyYW5jaCcsICdzdGFydF9kYXRlJywgJ2VuZF9kYXRlJywgJ2NsaWVudGtleSddKVxuICAgIFxuICAgIHJlc3VsdHMgPSBwcmVwYXJlX2RhdGEoZGF0YVswXSwgaW50KGxvb2tiYWNrX2RheXMpLCBpbnQob3B0X3BlbmFsdHlfc3RhdGlvbiksXG4gICAgICAgICAgICAgICBpbnQob3B0X3BlbmFsdHlfZGF5cGFydCksIGludChvcHRfcGVuYWx0eV9idWNrZXQpLCBpbnQob3B0X3BlbmFsdHlfdmFyaWFuY2UpLCBpbnQob3B0X21heF9zZWNvbmRzKSwgYnJhbmNoKVxuICAgICAgICBcbiAgICByZXR1cm4gcmVzdWx0cyIsImtleSI6ImRzTGFiU2NyaXB0IiwicmVxdWlyZWQiOnRydWUsIm9yZGVyIjo3fSx7ImlzTXVsdGkiOnRydWUsImNvbnRyb2xUeXBlIjoiaXRlcmFibGUiLCJjc3NDbGFzcyI6ImNvbC1zbS0xMiIsImFkZEJ1dHRvbiI6eyJsYWJlbCI6IkFkZCBOZXcgQ29sdW1uIn0sImxhYmVsIjoiSW5wdXQgRGF0YSIsInByb3BlcnRpZXMiOltbeyJ2YWx1ZSI6InNlY3JldF9uYW1lIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5SRURTSElGVF9NVEFfU0VDUkVUX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJyZWdpb25fbmFtZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6IkBFTlYuUkVHSU9OX05BTUUiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhdGhlbmFfZGF0YWJhc2UiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFUSEVOQV9EQVRBQkFTRSIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF3c19hY2Nlc3Nfa2V5X2lkIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5BV1NfQUNDRVNTX0tFWV9JRF9CREIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJhd3Nfc2VjcmV0X2FjY2Vzc19rZXkiLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJARU5WLkFXU19TRUNSRVRfS0VZX0JEQiIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uIiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5RVUVSWV9SRVNVTFRTIiwia2V5IjoidmFsdWUiLCJsYWJlbCI6IlZhbHVlIiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjIsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX1dLFt7InZhbHVlIjoicXVlcnlfYnVja2V0Iiwia2V5Ijoia2V5IiwibGFiZWwiOiJLZXkiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MSwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfSx7InZhbHVlIjoiQEVOVi5QUk9EX0JVQ0tFVCIsImtleSI6InZhbHVlIiwibGFiZWwiOiJWYWx1ZSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoyLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9XSxbeyJ2YWx1ZSI6ImF0aGVuYV90YWJsZSIsImtleSI6ImtleSIsImxhYmVsIjoiS2V5Iiwib3B0aW9ucyI6IiIsInR5cGUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImlzUHl0aG9uIjpmYWxzZSwiaXNTdHJlYW1lciI6ZmFsc2UsImhpZGRlbiI6ZmFsc2UsIm1hc2siOnt9LCJkaXNhYmxlZCI6ZmFsc2UsImlzQ29ubmVjdGlvblZhbGlkYXRlIjpmYWxzZSwib3JkZXIiOjEsImNzc0NsYXNzIjoiY29sLXNtLTMiLCJjb250cm9sVHlwZSI6InRleHRib3giLCJpc0R5bmFtaWMiOmZhbHNlLCJpc011bHRpcGxlRW5hYmxlZCI6ZmFsc2UsImR5bmFtaWNPcHRpb24iOnt9LCJpc0xpbmtEZWxldGUiOmZhbHNlLCJpc0FkdmFuY2VkIjpmYWxzZSwiYWNjZXB0IjoiKiIsInJlYWRvbmx5IjpmYWxzZX0seyJ2YWx1ZSI6Im1lZGlhX29jZWFuX2RhdGEiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV0sW3sidmFsdWUiOiJicmFuY2giLCJrZXkiOiJrZXkiLCJsYWJlbCI6IktleSIsIm9wdGlvbnMiOiIiLCJ0eXBlIjoiIiwicmVxdWlyZWQiOmZhbHNlLCJpc1B5dGhvbiI6ZmFsc2UsImlzU3RyZWFtZXIiOmZhbHNlLCJoaWRkZW4iOmZhbHNlLCJtYXNrIjp7fSwiZGlzYWJsZWQiOmZhbHNlLCJpc0Nvbm5lY3Rpb25WYWxpZGF0ZSI6ZmFsc2UsIm9yZGVyIjoxLCJjc3NDbGFzcyI6ImNvbC1zbS0zIiwiY29udHJvbFR5cGUiOiJ0ZXh0Ym94IiwiaXNEeW5hbWljIjpmYWxzZSwiaXNNdWx0aXBsZUVuYWJsZWQiOmZhbHNlLCJkeW5hbWljT3B0aW9uIjp7fSwiaXNMaW5rRGVsZXRlIjpmYWxzZSwiaXNBZHZhbmNlZCI6ZmFsc2UsImFjY2VwdCI6IioiLCJyZWFkb25seSI6ZmFsc2V9LHsidmFsdWUiOiJtYXN0ZXIiLCJrZXkiOiJ2YWx1ZSIsImxhYmVsIjoiVmFsdWUiLCJvcHRpb25zIjoiIiwidHlwZSI6IiIsInJlcXVpcmVkIjpmYWxzZSwiaXNQeXRob24iOmZhbHNlLCJpc1N0cmVhbWVyIjpmYWxzZSwiaGlkZGVuIjpmYWxzZSwibWFzayI6e30sImRpc2FibGVkIjpmYWxzZSwiaXNDb25uZWN0aW9uVmFsaWRhdGUiOmZhbHNlLCJvcmRlciI6MiwiY3NzQ2xhc3MiOiJjb2wtc20tMyIsImNvbnRyb2xUeXBlIjoidGV4dGJveCIsImlzRHluYW1pYyI6ZmFsc2UsImlzTXVsdGlwbGVFbmFibGVkIjpmYWxzZSwiZHluYW1pY09wdGlvbiI6e30sImlzTGlua0RlbGV0ZSI6ZmFsc2UsImlzQWR2YW5jZWQiOmZhbHNlLCJhY2NlcHQiOiIqIiwicmVhZG9ubHkiOmZhbHNlfV1dLCJrZXkiOiJkc0xhYklucHV0RGF0YSIsImlzSXRlcmFibGUiOnRydWUsIm9yZGVyIjo4fV0sIm9yZGVyIjo4fV19LCJjcmVhdGVkRGF0ZSI6IjIwMjItMDItMTVUMTA6MTU6NTguNjM1WltFdGMvVVRDXSIsInVwZGF0ZWREYXRlIjoiMjAyMy0wMy0yNFQxMTo0MDoyOC4yOTJaW0V0Yy9VVENdIiwiY3JlYXRlZEJ5IjoiVXNlciIsInVwZGF0ZWRCeSI6InVzZXIiLCJpc0FjdGl2ZSI6dHJ1ZSwiaXNUZXN0RW5hYmxlZCI6dHJ1ZSwiYXZhaWxhYmxlQ29tcGFyaXNvbnMiOnsiY29tcGFyZURhdGEiOiJDb21wYXJlIERhdGEiLCJjb21wYXJlQ29sdW1uQ291bnQiOiJDb21wYXJlIE51bWJlciBvZiBjb2x1bW5zIiwiY29tcGFyZVJvd0NvdW50IjoiQ29tcGFyZSBudW1iZXIgb2YgUm93cyIsImNvbXBhcmVTY2hlbWEiOiJDaGVjayBEYXRhIG1hdGNoZXMgU2NoZW1hIn0sIlVpSWQiOiI3M2Y4LWNmMmEtNDczYS1iZjMwLTBkMGIiLCJpbnZvY2F0aW9uTWV0aG9kVHlwZSI6ImJhdGNoIiwiZ1VpZCI6IjE3MDA0NzM4OTY3NTNfMzY2NiIsImFjdGlvbiI6InN0b3AiLCJjb21wb25lbnRJbnN0YW5jZUlkIjoiY29tcDE3MDA0Nzc5NDg3NzdfaW5zdF82NTU5IiwiYWxlcnRBY3Rpb24iOiIifSwicHJvcGVydGllcyI6eyJ0aXRsZSI6InR2bzJfYmFja2ZpbGxfaW5wdXQiLCJpbnB1dHMiOnsiaW5wdXRfMCI6eyJsYWJlbCI6IklfMSJ9fSwib3V0cHV0cyI6eyJvdXRwdXRfMCI6eyJsYWJlbCI6Ik9fMSJ9fX19LCJtaXNjIjp7ImlucHV0Q29tcG9uZW50cyI6W3sia2V5IjoiYTgxMi0yNDBkLTQxN2MtODAxZC1mMjhjIiwidmFsdWUiOiJUVk8yX2JhY2tmaWxsX2V2ZW50XzEifV0sIm91dHB1dENvbXBvbmVudHMiOlt7ImtleSI6IjkwODctNWVkNi00YzZmLThjZWEtMzE2YyIsInZhbHVlIjoiVFZPMl9iYWNrZmlsbF9ldmVudF8yIn1dfX0sImRhdGEiOnsiY29tcG9uZW50SWQiOiJjb21wXzE2NDQ5MjAxNTg2MzQ0NTM5IiwiVWlJZCI6IjczZjgtY2YyYS00NzNhLWJmMzAtMGQwYiIsImNvbXBvbmVudEluc3RhbmNlSWQiOiJjb21wMTcwMDQ3Nzk0ODc3N19pbnN0XzY1NTkiLCJkaXNwbGF5TmFtZSI6InR2bzJfYmFja2ZpbGxfaW5wdXQiLCJkZXBsb3ltZW50VHlwZSI6ImRvY2tlciIsImNvbnRhaW5lckltYWdlTmFtZSI6IjU4MDI0MDc4MzMxNy5ka3IuZWNyLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tL2RzbGFiX21vZGVsX3J1bm5lciIsImNvbnRhaW5lckltYWdlVmVyc2lvbiI6Inc4LjUuMiIsImNvbXBvbmVudFR5cGUiOiJzeXN0ZW0iLCJpbnZvY2F0aW9uTWV0aG9kVHlwZSI6ImJhdGNoIiwiY29tcG9uZW50RGVzYyI6IiIsInByZUNvbmRpdGlvbkNoZWNrIjoiTm9uZSIsImlzU2NoZWR1bGVkIjpmYWxzZSwiY3JvbkV4cHJlc3Npb24iOiIiLCJpbWFnZVB1bGxTZWNyZXRSZWZzIjpbXSwiYWN0aW9uIjoic3RvcCIsImlzRGVwbG95Ijp0cnVlLCJpbkV2ZW50IjoiVFZPMl9iYWNrZmlsbF9ldmVudF8xXzE3MDA0NzM2OTAxNjlfNDk4MCIsIm9uU3VjY2VzcyI6IiIsImFsZXJ0QWN0aW9uIjoiIiwib25GYWlsdXJlIjoiIiwiYmF0Y2hXaW5kb3ciOiIiLCJvdXRFdmVudCI6WyJUVk8yX2JhY2tmaWxsX2V2ZW50XzJfMTcwMDQ3MzkxNzY1OV8xNzE3Il0sImNvbXBvbmVudE1ldGFEYXRhIjp7ImRzTGFiRXhlY3V0aW9uVHlwZSI6ImRzTGFiU2NyaXB0UnVubmVyIiwiZHNMYWJGdW5JbnB1dFR5cGUiOiJMaXN0IiwiZHNMYWJQcm9qZWN0SWQiOiI0NzUxMzY1IiwiZHNMYWJTY3JpcHRJZCI6IjUzMDg1MDAiLCJkc0xhYlNjcmlwdCI6ImZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGFcbmltcG9ydCBqc29uXG5pbXBvcnQgbG9nZ2luZ1xubG9nZ2luZy5iYXNpY0NvbmZpZygpXG5sb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcignVFZPX0lOUFVUJylcbmxvZ2dlci5zZXRMZXZlbChsb2dnaW5nLklORk8pXG5cbmltcG9ydCBib3RvM1xuaW1wb3J0IHBhbmRhcyBhcyBwZFxuaW1wb3J0IHBzeWNvcGcyXG5mcm9tIGlvIGltcG9ydCBCeXRlc0lPXG5pbXBvcnQgYmFzZTY0XG5cbmRlZiBnZXRfcmVkc2hpZnRfc2VjcmV0KCk6XG4gICAgZ2xvYmFsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIFJFR0lPTl9OQU1FLCBTRUNSRVRfTkFNRVxuICAgICMgY29ubmVjdHMgdG8gQVdTIHNlY3JldHMgbWFuYWdlciB0byBnZXQgY3JlZGVudGlhbHNcbiAgICBzZXNzaW9uID0gYm90bzMuc2Vzc2lvbi5TZXNzaW9uKClcbiAgICBcbiAgICBjbGllbnQgPSBzZXNzaW9uLmNsaWVudChcbiAgICAgICAgc2VydmljZV9uYW1lPSdzZWNyZXRzbWFuYWdlcicsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcblxuICAgIHRyeTpcbiAgICAgICAgZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZSA9IGNsaWVudC5nZXRfc2VjcmV0X3ZhbHVlKFNlY3JldElkPVNFQ1JFVF9OQU1FKVxuICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiRVJST1IgaW4gZ2V0dGluZyByZWRzaGlmdCBzZWNyZXRzXCIpXG4gICAgICAgIHJhaXNlXG4gICAgZWxzZTpcbiAgICAgICAgaWYgJ1NlY3JldFN0cmluZycgaW4gZ2V0X3NlY3JldF92YWx1ZV9yZXNwb25zZTpcbiAgICAgICAgICAgIHNlY3JldCA9IGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2VbJ1NlY3JldFN0cmluZyddXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBkZWNvZGVkX2JpbmFyeV9zZWNyZXQgPSBiYXNlNjQuYjY0ZGVjb2RlKFxuICAgICAgICAgICAgICAgIGdldF9zZWNyZXRfdmFsdWVfcmVzcG9uc2VbJ1NlY3JldEJpbmFyeSddKVxuICAgIHJldHVybiBqc29uLmxvYWRzKHNlY3JldClcblxuZGVmIGdldF9yZWRzaGlmdF9jb25uZWN0aW9uKCk6XG4gICAgIyBjcmVhdGVzIGRhdGEgYmFzZSBjb25uZWN0aW9uIGFuZCBwYXNzZXMgaXQgYmFjayB0byBjYWxsZXJcbiAgICB0cnk6XG4gICAgICAgIHNlY3JldHMgPSBnZXRfcmVkc2hpZnRfc2VjcmV0KClcbiAgICAgICAgY29ubiA9IHBzeWNvcGcyLmNvbm5lY3QoZGJuYW1lPXNlY3JldHNbJ0RBVEFCQVNFJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q9c2VjcmV0c1snSE9TVCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0PXNlY3JldHNbJ1BPUlQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj1zZWNyZXRzWydVU0VSJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXNlY3JldHNbJ1BBU1NXT1JEJ10pXG4gICAgICAgIHJldHVybiBjb25uXG5cbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgIGxvZ2dlci5lcnJvcihmJ0Vycm9yIGdldHRpbmcgcmVkc2hpZnQgY29ubmVjdGlvbiBkZXRhaWxzOiBFeGNlcHRpb246IHtzdHIoZSl9JylcbiAgICAgICAgcmFpc2VcbiAgICAgICAgXG5kZWYgcnVuX3JlZHNoaWZ0X3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5KTpcbiAgICBjb25uID0gZ2V0X3JlZHNoaWZ0X2Nvbm5lY3Rpb24oKVxuICAgIGRmID0gcGQucmVhZF9zcWxfcXVlcnkocmVkc2hpZnRfcXVlcnksIGNvbj1jb25uKVxuICAgIHJldHVybiBkZlxuXG5kZWYgcnVuX2F0aGVuYV9xdWVyeShxdWVyeSk6XG4gICAgZ2xvYmFsIFJFR0lPTl9OQU1FLCBBV1NfQUNDRVNTX0tFWV9JRCwgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZLCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRSwgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04sIFFVRVJZX0JVQ0tFVFxuICAgIFxuICAgIEFUSEVOQV9DTElFTlQgPSBib3RvMy5jbGllbnQoJ2F0aGVuYScsIHJlZ2lvbl9uYW1lPVJFR0lPTl9OQU1FLCBhd3NfYWNjZXNzX2tleV9pZD1BV1NfQUNDRVNTX0tFWV9JRCwgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PUFXU19TRUNSRVRfQUNDRVNTX0tFWSlcbiAgICBTMyA9IGJvdG8zLmNsaWVudCgnczMnLCByZWdpb25fbmFtZT1SRUdJT05fTkFNRSwgYXdzX2FjY2Vzc19rZXlfaWQ9QVdTX0FDQ0VTU19LRVlfSUQsIGF3c19zZWNyZXRfYWNjZXNzX2tleT1BV1NfU0VDUkVUX0FDQ0VTU19LRVkpXG4gICAgbG9nZ2VyLmluZm8oZidTdGFydGluZyBBdGhlbmEgcXVlcnkgZXhlY3V0aW9uJylcbiAgICBsb2dnZXIuaW5mbyhmJ0F0aGVuYSBxdWVyeTpcXG57cXVlcnl9JylcbiAgICByZXNwb25zZSA9IEFUSEVOQV9DTElFTlQuc3RhcnRfcXVlcnlfZXhlY3V0aW9uKFxuICAgICAgICBRdWVyeVN0cmluZz1xdWVyeSxcbiAgICAgICAgUXVlcnlFeGVjdXRpb25Db250ZXh0PXsnRGF0YWJhc2UnOiBBVEhFTkFfREFUQUJBU0V9LFxuICAgICAgICBSZXN1bHRDb25maWd1cmF0aW9uPXsnT3V0cHV0TG9jYXRpb24nOiBBVEhFTkFfU1RBVFVTX09VVFBVVF9MT0NBVElPTn0sXG4gICAgICAgIFdvcmtHcm91cD0nanVpY2VfZGF0YSdcbiAgICApXG4gICAgXG4gICAgIyBHZXQgdGhlIHF1ZXJ5IGV4ZWN1dGlvbiBJRFxuICAgIHF1ZXJ5X2V4ZWN1dGlvbl9pZCA9IHJlc3BvbnNlWydRdWVyeUV4ZWN1dGlvbklkJ11cblxuICAgICMgV2FpdCBmb3IgdGhlIHF1ZXJ5IHRvIGNvbXBsZXRlXG4gICAgd2hpbGUgVHJ1ZTpcbiAgICAgICAgcXVlcnlfc3RhdHVzID0gQVRIRU5BX0NMSUVOVC5nZXRfcXVlcnlfZXhlY3V0aW9uKFF1ZXJ5RXhlY3V0aW9uSWQ9cXVlcnlfZXhlY3V0aW9uX2lkKVxuICAgICAgICBzdGF0dXMgPSBxdWVyeV9zdGF0dXNbJ1F1ZXJ5RXhlY3V0aW9uJ11bJ1N0YXR1cyddWydTdGF0ZSddXG5cbiAgICAgICAgaWYgc3RhdHVzIGluIFsnU1VDQ0VFREVEJywgJ0ZBSUxFRCcsICdDQU5DRUxMRUQnXTpcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAjIFJldHJpZXZlIGFuZCByZXR1cm4gdGhlIHF1ZXJ5IHJlc3VsdHMgaWYgdGhlIHF1ZXJ5IHN1Y2NlZWRlZFxuICAgIGlmIHN0YXR1cyA9PSAnU1VDQ0VFREVEJzpcbiAgICAgICAgczNfcmVzcG9uc2Vfb2JqZWN0ID0gUzMuZ2V0X29iamVjdChCdWNrZXQ9UVVFUllfQlVDS0VULCBLZXk9Zlwie0FUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OLnNwbGl0KCcvJylbLTJdfS97cXVlcnlfZXhlY3V0aW9uX2lkfS5jc3ZcIilcbiAgICAgICAgb2JqZWN0X2NvbnRlbnQgPSBzM19yZXNwb25zZV9vYmplY3RbJ0JvZHknXS5yZWFkKClcbiAgICAgICAgcmVzdWx0cyA9IHBkLnJlYWRfY3N2KEJ5dGVzSU8ob2JqZWN0X2NvbnRlbnQpKVxuICAgICAgICBsb2dnZXIuaW5mbyhmJ0F0aGVuYSBxdWVyeSByYW4gc3VjY2Vzc2Z1bGx5JylcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNcbiAgICBlbGlmIHN0YXR1cyA9PSAnRkFJTEVEJzpcbiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCdRdWVyeSBmcm9tIEF0aGVuYSBmYWlsZWQnKVxuXG5kZWYgY2xpZW50X21vZGlmaWNhdGlvbihyb3cpOlxuICAgIGlmIHJvdy5sb3dlcigpLnN0cmlwKCkgPT0gJ2JiYic6XG4gICAgICAgIHJldHVybiAnb3ZlcnN0b2NrJ1xuICAgIGVsaWYgcm93Lmxvd2VyKCkgPT0gJ3JleG1kJyBvciByb3cubG93ZXIoKSA9PSAnc2luZ2xlY2FyZSc6XG4gICAgICAgIHJldHVybiAncnhzZW5zZSdcbiAgICBlbHNlOlxuICAgICAgICByZXR1cm4gcm93Lmxvd2VyKClcbiAgICAgICAgXG5kZWYgcHJlcGFyZV9kYXRhKGRhdGEsIGxvb2tiYWNrX2RheXMsIG9wdF9wZW5hbHR5X3N0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfZGF5cGFydCwgb3B0X3BlbmFsdHlfYnVja2V0LCBvcHRfcGVuYWx0eV92YXJpYW5jZSwgb3B0X21heF9zZWNvbmRzLCBicmFuY2gpOlxuICAgIGdsb2JhbCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRVxuICAgIFxuICAgIGlucHV0X2RmID0gcGQuRGF0YUZyYW1lKGNvbHVtbnM9WydrcGlfaW5kZXgnLCAnbG9va2JlZm9yZV9taW5zJywgJ2xvb2thZnRlcl9taW5zJywgJ2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAnaW5jbHVkZV9pbXByZXNzaW9ucycsICdvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLFxuICAgICAgICdvcHRfcGVuYWx0eV9idWNrZXQnLCAnb3B0X3BlbmFsdHlfdmFyaWFuY2UnLCAnb3B0X21heF9zZWNvbmRzJyxcbiAgICAgICAnYnJhbmNoJywgJ3N0YXJ0X2RhdGUnLCAnZW5kX2RhdGUnLCAnY2xpZW50a2V5J10pXG4gICAgXG4gICAgcmVkc2hpZnRfcXVlcnkgPSBcIlwiXCJcbiAgICAgICAgc2VsZWN0IGRpc3RpbmN0IGMuY2xpZW50a2V5X21hcCwgay50dm9fa3BpX2luZGV4LCBjLnR2b19wcmVfd2luZG93X21pbnV0ZXMsIGMudHZvX3Bvc3Rfd2luZG93X21pbnV0ZXMsIGMudHZvX2luY2x1ZGVfZnJlZXNwb3RzLCBjLnR2b19pbmNsdWRlX2ltcHJlc3Npb25zLCBjLmRhdGFzZXRfc3RhcnRfZGF0ZSwgYy5kYXRhc2V0X2VuZF9kYXRlXG4gICAgICAgIGZyb20gcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5jbGllbnRfbWFwcGluZ3MgYywgcG9ydGFsX2dsb2JhbF9zZXR0aW5ncy5rcGlfbWFwcGluZ3Mga1xuICAgICAgICB3aGVyZSBjLmNsaWVudGtleV9tYXAgPSBrLmNsaWVudGtleV9tYXBcbiAgICAgICAgb3JkZXIgYnkgY2xpZW50a2V5X21hcCwgdHZvX2twaV9pbmRleFxuICAgICAgICBcIlwiXCJcbiAgICBcbiAgICBmb3IgZW5kX2RhdGVfc3RyaW5nIGluIGRhdGFbXCJlbmRfZGF0ZXNcIl06XG4gICAgICAgIFxuICAgICAgICAjIEdldHRpbmcgcmVkc2hpZnQgcmVzdWx0c1xuICAgICAgICBzdGFydF9kYXRlID0gXCJkZWZhdWx0XCJcbiAgICAgICAgZW5kX2R0ID0gZGF0ZXRpbWUoeWVhcj1pbnQoZW5kX2RhdGVfc3RyaW5nLnNwbGl0KFwiLVwiKVswXSksIG1vbnRoPWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzFdKSwgZGF5PWludChlbmRfZGF0ZV9zdHJpbmcuc3BsaXQoXCItXCIpWzJdKSwgaG91cj0wKVxuICAgICAgICBwcmV2X2RheSA9IGVuZF9kdCAtIHRpbWVkZWx0YSgxKVxuICAgICAgICBlbmRfZGF0ZSA9IGYne3ByZXZfZGF5LnllYXJ9LXtzdHIoXCJ7OjAyZH1cIi5mb3JtYXQocHJldl9kYXkubW9udGgpKX0te3N0cihcIns6MDJkfVwiLmZvcm1hdChwcmV2X2RheS5kYXkpKX0nXG4gICAgICAgIHJlZHNoaWZ0X2RmID0gcnVuX3JlZHNoaWZ0X3F1ZXJ5KHJlZHNoaWZ0X3F1ZXJ5KVxuICAgICAgICByZWRzaGlmdF9kZiA9IHJlZHNoaWZ0X2RmLmRyb3AoY29sdW1ucz1bJ2RhdGFzZXRfc3RhcnRfZGF0ZScsJ2RhdGFzZXRfZW5kX2RhdGUnXSlcbiAgICAgICAgcmVkc2hpZnRfZGZbWydvcHRfcGVuYWx0eV9zdGF0aW9uJywgJ29wdF9wZW5hbHR5X2RheXBhcnQnLCAnb3B0X3BlbmFsdHlfYnVja2V0JywgJ29wdF9wZW5hbHR5X3ZhcmlhbmNlJywgJ29wdF9tYXhfc2Vjb25kcycsICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZSddXSA9IHBkLkRhdGFGcmFtZShbW29wdF9wZW5hbHR5X3N0YXRpb24sIG9wdF9wZW5hbHR5X2RheXBhcnQsIG9wdF9wZW5hbHR5X2J1Y2tldCwgb3B0X3BlbmFsdHlfdmFyaWFuY2UsIG9wdF9tYXhfc2Vjb25kcywgYnJhbmNoLCBzdGFydF9kYXRlLCBlbmRfZGF0ZV1dLCBpbmRleD1yZWRzaGlmdF9kZi5pbmRleClcbiAgICAgICAgcmVkc2hpZnRfZGYgPSByZWRzaGlmdF9kZi5yZW5hbWUoY29sdW1ucyA9IHsnY2xpZW50a2V5X21hcCc6J2NsaWVudGtleScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19rcGlfaW5kZXgnOidrcGlfaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19wcmVfd2luZG93X21pbnV0ZXMnOidsb29rYmVmb3JlX21pbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19wb3N0X3dpbmRvd19taW51dGVzJzonbG9va2FmdGVyX21pbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R2b19pbmNsdWRlX2ZyZWVzcG90cyc6J2luY2x1ZGVfZnJlZXNwb3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0dm9faW5jbHVkZV9pbXByZXNzaW9ucyc6J2luY2x1ZGVfaW1wcmVzc2lvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgIFxuICAgICAgICAjIFF1ZXJ5aW5nIGF0aGVuYSB0byBnZXQgbGlzdCBvZiBjbGllbnRzIGFjdGl2ZSBpbiB0aGUgcGFzdCB3ZWVrXG4gICAgICAgIGR0ID0gKGRhdGV0aW1lLnN0cnB0aW1lKGVuZF9kYXRlX3N0cmluZywgJyVZLSVtLSVkJykpXG4gICAgICAgIGVuZF9jaGVja19kYXRlID0gZHQuc3RyZnRpbWUoXCIlWS0lbS0lZFwiKVxuICAgICAgICBkdF83ID0gZHQgLSB0aW1lZGVsdGEoZGF5cz1sb29rYmFja19kYXlzKVxuICAgICAgICBzdGFydF9jaGVja19kYXRlID0gZHRfNy5zdHJmdGltZShcIiVZLSVtLSVkXCIpXG5cbiAgICAgICAgYXRoZW5hX3F1ZXJ5ID0gZlwiXCJcIlxuICAgICAgICBzZWxlY3QgYWR2ZXJ0aXNlciwgY291bnQoKikgYXMgcm93X2NvdW50IGZyb20gXG4gICAgICAgIChzZWxlY3QgZGlzdGluY3QgKiBmcm9tIHtBVEhFTkFfREFUQUJBU0V9LntBVEhFTkFfVEFCTEV9KVxuICAgICAgICB3aGVyZSBjYXN0KGJyb2FkY2FzdF9kYXRlIGFzIGRhdGUpIGJldHdlZW4gY2FzdCgne3N0cihzdGFydF9jaGVja19kYXRlKX0nIGFzIGRhdGUpIGFuZCBjYXN0KCd7c3RyKGVuZF9jaGVja19kYXRlKX0nIGFzIGRhdGUpXG4gICAgICAgIGdyb3VwIGJ5IGFkdmVydGlzZXJcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIGF0aGVuYV9kZiA9IHJ1bl9hdGhlbmFfcXVlcnkoYXRoZW5hX3F1ZXJ5KVxuICAgICAgICBhY3RpdmVfY2xpZW50X2xpc3QgPSBhdGhlbmFfZGZbYXRoZW5hX2RmWydyb3dfY291bnQnXT4wXVsnYWR2ZXJ0aXNlciddLnRvX2xpc3QoKVxuICAgICAgICBhY3RpdmVfY2xpZW50X2xpc3QgPSBbaS5sb3dlcigpLnN0cmlwKCkgZm9yIGkgaW4gYWN0aXZlX2NsaWVudF9saXN0XVxuICAgICAgICBhY3RpdmVfbGlzdF9kZiA9IHBkLkRhdGFGcmFtZSh7J2NsaWVudF9vcmlnJzphY3RpdmVfY2xpZW50X2xpc3R9KVxuICAgICAgICBhY3RpdmVfbGlzdF9kZlsnY2xpZW50X21vZCddID0gYWN0aXZlX2xpc3RfZGZbJ2NsaWVudF9vcmlnJ10uYXBwbHkoY2xpZW50X21vZGlmaWNhdGlvbilcbiAgICAgICAgXG4gICAgICAgICMgTWVyZ2luZyBjbGllbnQgbGlzdCB3aXRoIGNvbmZpZ3VyYXRpb25zIGZyb20gcmVkc2hpZnRcbiAgICAgICAgZmluYWxfZGYgPSByZWRzaGlmdF9kZi5zZXRfaW5kZXgoJ2NsaWVudGtleScpLm1lcmdlKGFjdGl2ZV9saXN0X2RmLnNldF9pbmRleCgnY2xpZW50X21vZCcpLCBsZWZ0X29uPSdjbGllbnRrZXknLCByaWdodF9vbj0nY2xpZW50X21vZCcpXG4gICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYucmVuYW1lKGNvbHVtbnM9eydjbGllbnRfb3JpZyc6J2NsaWVudGtleSd9KVxuICAgICAgICBmaW5hbF9kZiA9IGZpbmFsX2RmLmRyb3BuYSgpXG4gICAgICAgIGlucHV0X2RmID0gcGQuY29uY2F0KFtpbnB1dF9kZixmaW5hbF9kZl0pXG4gICAgaW5wdXRfZGYgPSBpbnB1dF9kZi5zb3J0X3ZhbHVlcyhbJ2VuZF9kYXRlJywnY2xpZW50a2V5Jywna3BpX2luZGV4J10pXG4gICAgcmV0dXJuIGlucHV0X2RmXG5cbmRlZiBzdGFydF9mdW5jKGRhdGEsIHNlY3JldF9uYW1lLCByZWdpb25fbmFtZSwgYXRoZW5hX2RhdGFiYXNlLCBhd3NfYWNjZXNzX2tleV9pZCxcbiAgICAgICAgICAgICAgICBhd3Nfc2VjcmV0X2FjY2Vzc19rZXksIGF0aGVuYV9zdGF0dXNfb3V0cHV0X2xvY2F0aW9uLCBxdWVyeV9idWNrZXQsXG4gICAgICAgICAgICAgICAgICBhdGhlbmFfdGFibGUsIGJyYW5jaCwgbG9va2JhY2tfZGF5cz03LCBvcHRfcGVuYWx0eV9zdGF0aW9uPTEsXG4gICAgICAgICAgICAgICAgICAgb3B0X3BlbmFsdHlfZGF5cGFydD0xLCBvcHRfcGVuYWx0eV9idWNrZXQ9MSwgb3B0X3BlbmFsdHlfdmFyaWFuY2U9MSwgb3B0X21heF9zZWNvbmRzPTYwKTpcbiAgICAgXG4gICAgZ2xvYmFsIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIFJFR0lPTl9OQU1FLCBTRUNSRVRfTkFNRSwgY29ubiwgY3Vyc29yLCBBVEhFTkFfREFUQUJBU0UsIEFUSEVOQV9UQUJMRSwgQVRIRU5BX1NUQVRVU19PVVRQVVRfTE9DQVRJT04sIFFVRVJZX0JVQ0tFVFxuICAgIEFXU19BQ0NFU1NfS0VZX0lEID0gYXdzX2FjY2Vzc19rZXlfaWRcbiAgICBBV1NfU0VDUkVUX0FDQ0VTU19LRVkgPSBhd3Nfc2VjcmV0X2FjY2Vzc19rZXlcbiAgICBSRUdJT05fTkFNRSA9IHJlZ2lvbl9uYW1lXG4gICAgU0VDUkVUX05BTUUgPSBzZWNyZXRfbmFtZVxuICAgIEFUSEVOQV9EQVRBQkFTRSA9IGF0aGVuYV9kYXRhYmFzZVxuICAgIEFUSEVOQV9UQUJMRSA9IGF0aGVuYV90YWJsZVxuICAgIEFUSEVOQV9TVEFUVVNfT1VUUFVUX0xPQ0FUSU9OID0gYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb25cbiAgICBRVUVSWV9CVUNLRVQgPSBxdWVyeV9idWNrZXRcbiAgICBcbiAgICByZXN1bHRfZGYgPSBwZC5EYXRhRnJhbWUoY29sdW1ucz1bJ2twaV9pbmRleCcsICdsb29rYmVmb3JlX21pbnMnLCAnbG9va2FmdGVyX21pbnMnLCAnaW5jbHVkZV9mcmVlc3BvdHMnLFxuICAgICAgICdpbmNsdWRlX2ltcHJlc3Npb25zJywgJ29wdF9wZW5hbHR5X3N0YXRpb24nLCAnb3B0X3BlbmFsdHlfZGF5cGFydCcsXG4gICAgICAgJ29wdF9wZW5hbHR5X2J1Y2tldCcsICdvcHRfcGVuYWx0eV92YXJpYW5jZScsICdvcHRfbWF4X3NlY29uZHMnLFxuICAgICAgICdicmFuY2gnLCAnc3RhcnRfZGF0ZScsICdlbmRfZGF0ZScsICdjbGllbnRrZXknXSlcbiAgICBcbiAgICByZXN1bHRzID0gcHJlcGFyZV9kYXRhKGRhdGFbMF0sIGludChsb29rYmFja19kYXlzKSwgaW50KG9wdF9wZW5hbHR5X3N0YXRpb24pLFxuICAgICAgICAgICAgICAgaW50KG9wdF9wZW5hbHR5X2RheXBhcnQpLCBpbnQob3B0X3BlbmFsdHlfYnVja2V0KSwgaW50KG9wdF9wZW5hbHR5X3ZhcmlhbmNlKSwgaW50KG9wdF9tYXhfc2Vjb25kcyksIGJyYW5jaClcbiAgICAgICAgXG4gICAgcmV0dXJuIHJlc3VsdHMiLCJkc0xhYkV4dGVybmFsTGlicmFyeSI6InBzeWNvcGcyPT0yLjkuMyxib3RvMz09MS4yMS41LHBzeWNvcGcyPT0yLjkuMyIsImRzTGFiRnVuY3Rpb25OYW1lIjoic3RhcnRfZnVuYyIsImRzTGFiSW5wdXREYXRhIjoiW3tcImtleVwiOlwic2VjcmV0X25hbWVcIixcInZhbHVlXCI6XCJARU5WLlJFRFNISUZUX01UQV9TRUNSRVRfTkFNRVwifSx7XCJrZXlcIjpcInJlZ2lvbl9uYW1lXCIsXCJ2YWx1ZVwiOlwiQEVOVi5SRUdJT05fTkFNRVwifSx7XCJrZXlcIjpcImF0aGVuYV9kYXRhYmFzZVwiLFwidmFsdWVcIjpcIkBFTlYuQVRIRU5BX0RBVEFCQVNFXCJ9LHtcImtleVwiOlwiYXdzX2FjY2Vzc19rZXlfaWRcIixcInZhbHVlXCI6XCJARU5WLkFXU19BQ0NFU1NfS0VZX0lEX0JEQlwifSx7XCJrZXlcIjpcImF3c19zZWNyZXRfYWNjZXNzX2tleVwiLFwidmFsdWVcIjpcIkBFTlYuQVdTX1NFQ1JFVF9LRVlfQkRCXCJ9LHtcImtleVwiOlwiYXRoZW5hX3N0YXR1c19vdXRwdXRfbG9jYXRpb25cIixcInZhbHVlXCI6XCJARU5WLlFVRVJZX1JFU1VMVFNcIn0se1wia2V5XCI6XCJxdWVyeV9idWNrZXRcIixcInZhbHVlXCI6XCJARU5WLlBST0RfQlVDS0VUXCJ9LHtcImtleVwiOlwiYXRoZW5hX3RhYmxlXCIsXCJ2YWx1ZVwiOlwibWVkaWFfb2NlYW5fZGF0YVwifSx7XCJrZXlcIjpcImJyYW5jaFwiLFwidmFsdWVcIjpcIm1hc3RlclwifV0ifSwiaXNEeW5hbWljQWxsb2NhdGlvbkVuYWJsZWQiOmZhbHNlLCJncmFjZVBlcmlvZCI6IjYwIiwiY2hhbmdlRmxhZyI6ZmFsc2UsImdVaWQiOiIxNzAwNDczODk2NzUzXzM2NjYifX19XQ=="},"lastDeactivatedOn":"2023-11-20T11:27:52.035Z[Etc/UTC]"}
